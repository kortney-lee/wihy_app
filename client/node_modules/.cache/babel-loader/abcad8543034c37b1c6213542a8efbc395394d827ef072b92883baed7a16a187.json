{"ast":null,"code":"var _jsxFileName = \"C:\\\\vHealth\\\\vhealth\\\\client\\\\src\\\\components\\\\Spinner.tsx\",\n  _s = $RefreshSig$();\n// Spinner.tsx\nimport React, { useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport './Spinner.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst portalId = 'vh-spinner-portal';\nfunction ensurePortal() {\n  let el = document.getElementById(portalId);\n  if (!el) {\n    el = document.createElement('div');\n    el.id = portalId;\n    document.body.appendChild(el);\n  }\n  return el;\n}\nexport default function Spinner({\n  overlay = false,\n  title = 'Analyzing with AI...',\n  subtitle = 'This may take a few moments...',\n  progress,\n  disableEsc = true,\n  onClose,\n  type = 'gif',\n  gifSrc = '/assets/spinicon.gif'\n}) {\n  _s();\n  // Optional: trap/allow ESC when overlayed\n  useEffect(() => {\n    if (!overlay) return;\n    const onKey = e => {\n      if (e.key === 'Escape') {\n        if (disableEsc) {\n          e.preventDefault();\n          e.stopPropagation();\n        } else {\n          onClose === null || onClose === void 0 ? void 0 : onClose();\n        }\n      }\n    };\n    document.addEventListener('keydown', onKey, {\n      capture: true\n    });\n    return () => document.removeEventListener('keydown', onKey, {\n      capture: true\n    });\n  }, [overlay, disableEsc, onClose]);\n\n  // Non-overlay inline spinner (kept for compatibility)\n  if (!overlay) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"clean-loader\",\n      role: \"status\",\n      \"aria-live\": \"polite\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"arc-spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), subtitle && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          marginTop: 12\n        },\n        className: \"spinner-text\",\n        children: subtitle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 22\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Overlay modal via portal to avoid z-index issues\n  const portal = ensurePortal();\n  const clamped = typeof progress === 'number' ? Math.max(0, Math.min(100, Math.round(progress))) : undefined;\n  const modal = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"spinner-overlay\",\n    role: \"dialog\",\n    \"aria-modal\": \"true\",\n    \"aria-labelledby\": \"spinner-title\",\n    \"aria-describedby\": \"spinner-subtitle\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"spinner-container\",\n      children: [type === 'gif' ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner-gif\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: gifSrc,\n          alt: \"Loading...\",\n          className: \"spinner-image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"arc-spinner\",\n        \"aria-hidden\": true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        id: \"spinner-title\",\n        className: \"spinner-title\",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), subtitle && /*#__PURE__*/_jsxDEV(\"p\", {\n        id: \"spinner-subtitle\",\n        className: \"spinner-message\",\n        children: subtitle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 22\n      }, this), type !== 'gif' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner-progress\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner-track\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `spinner-fill ${clamped === undefined ? 'indeterminate' : ''}`,\n            style: clamped !== undefined ? {\n              width: `${clamped}%`\n            } : undefined\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner-percent\",\n          children: clamped !== undefined ? `${clamped}% Complete` : 'Working…'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/ReactDOM.createPortal(modal, portal);\n}\n_s(Spinner, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = Spinner;\nvar _c;\n$RefreshReg$(_c, \"Spinner\");","map":{"version":3,"names":["React","useEffect","ReactDOM","jsxDEV","_jsxDEV","portalId","ensurePortal","el","document","getElementById","createElement","id","body","appendChild","Spinner","overlay","title","subtitle","progress","disableEsc","onClose","type","gifSrc","_s","onKey","e","key","preventDefault","stopPropagation","addEventListener","capture","removeEventListener","className","role","children","fileName","_jsxFileName","lineNumber","columnNumber","style","marginTop","portal","clamped","Math","max","min","round","undefined","modal","src","alt","width","createPortal","_c","$RefreshReg$"],"sources":["C:/vHealth/vhealth/client/src/components/Spinner.tsx"],"sourcesContent":["// Spinner.tsx\r\nimport React, { useEffect } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './Spinner.css';\r\n\r\ninterface SpinnerProps {\r\n  /** Full-screen overlay modal */\r\n  overlay?: boolean;\r\n  /** Bold heading (defaults to “Analyzing with AI…”) */\r\n  title?: string;\r\n  /** Secondary line (defaults to “This may take a few moments…”) */\r\n  subtitle?: string;\r\n  /** Prevent closing with Esc (defaults true for blocking tasks) */\r\n  disableEsc?: boolean;\r\n  /** Called if Esc is allowed and user presses it */\r\n  onClose?: () => void;\r\n  /** 0–100 for determinate; omit for indeterminate */\r\n  progress?: number;\r\n  /** Specify spinner type: 'circle' or 'gif' */\r\n  type?: 'circle' | 'gif';\r\n  /** Custom GIF source, used if type is 'gif' */\r\n  gifSrc?: string;\r\n}\r\n\r\nconst portalId = 'vh-spinner-portal';\r\n\r\nfunction ensurePortal(): HTMLElement {\r\n  let el = document.getElementById(portalId);\r\n  if (!el) {\r\n    el = document.createElement('div');\r\n    el.id = portalId;\r\n    document.body.appendChild(el);\r\n  }\r\n  return el;\r\n}\r\n\r\nexport default function Spinner({\r\n  overlay = false,\r\n  title = 'Analyzing with AI...',\r\n  subtitle = 'This may take a few moments...',\r\n  progress,\r\n  disableEsc = true,\r\n  onClose,\r\n  type = 'gif',\r\n  gifSrc = '/assets/spinicon.gif'\r\n}: SpinnerProps) {\r\n  // Optional: trap/allow ESC when overlayed\r\n  useEffect(() => {\r\n    if (!overlay) return;\r\n    const onKey = (e: KeyboardEvent) => {\r\n      if (e.key === 'Escape') {\r\n        if (disableEsc) {\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n        } else {\r\n          onClose?.();\r\n        }\r\n      }\r\n    };\r\n    document.addEventListener('keydown', onKey, { capture: true });\r\n    return () => document.removeEventListener('keydown', onKey, { capture: true } as any);\r\n  }, [overlay, disableEsc, onClose]);\r\n\r\n  // Non-overlay inline spinner (kept for compatibility)\r\n  if (!overlay) {\r\n    return (\r\n      <div className=\"clean-loader\" role=\"status\" aria-live=\"polite\">\r\n        <div className=\"arc-spinner\" />\r\n        {subtitle && <p style={{ marginTop: 12 }} className=\"spinner-text\">{subtitle}</p>}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Overlay modal via portal to avoid z-index issues\r\n  const portal = ensurePortal();\r\n  const clamped =\r\n    typeof progress === 'number'\r\n      ? Math.max(0, Math.min(100, Math.round(progress)))\r\n      : undefined;\r\n\r\n  const modal = (\r\n    <div className=\"spinner-overlay\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"spinner-title\" aria-describedby=\"spinner-subtitle\">\r\n      <div className=\"spinner-container\">\r\n        {type === 'gif' ? (\r\n          <div className=\"spinner-gif\">\r\n            <img \r\n              src={gifSrc} \r\n              alt=\"Loading...\" \r\n              className=\"spinner-image\"\r\n            />\r\n          </div>\r\n        ) : (\r\n          <div className=\"arc-spinner\" aria-hidden />\r\n        )}\r\n        <h2 id=\"spinner-title\" className=\"spinner-title\">{title}</h2>\r\n        {subtitle && <p id=\"spinner-subtitle\" className=\"spinner-message\">{subtitle}</p>}\r\n\r\n        {type !== 'gif' && (\r\n          <div className=\"spinner-progress\">\r\n            <div className=\"spinner-track\">\r\n              <div\r\n                className={`spinner-fill ${clamped === undefined ? 'indeterminate' : ''}`}\r\n                style={clamped !== undefined ? { width: `${clamped}%` } : undefined}\r\n              />\r\n            </div>\r\n            <div className=\"spinner-percent\">\r\n              {clamped !== undefined ? `${clamped}% Complete` : 'Working…'}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return ReactDOM.createPortal(modal, portal);\r\n}\r\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,QAAQ,MAAM,WAAW;AAChC,OAAO,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAqBvB,MAAMC,QAAQ,GAAG,mBAAmB;AAEpC,SAASC,YAAYA,CAAA,EAAgB;EACnC,IAAIC,EAAE,GAAGC,QAAQ,CAACC,cAAc,CAACJ,QAAQ,CAAC;EAC1C,IAAI,CAACE,EAAE,EAAE;IACPA,EAAE,GAAGC,QAAQ,CAACE,aAAa,CAAC,KAAK,CAAC;IAClCH,EAAE,CAACI,EAAE,GAAGN,QAAQ;IAChBG,QAAQ,CAACI,IAAI,CAACC,WAAW,CAACN,EAAE,CAAC;EAC/B;EACA,OAAOA,EAAE;AACX;AAEA,eAAe,SAASO,OAAOA,CAAC;EAC9BC,OAAO,GAAG,KAAK;EACfC,KAAK,GAAG,sBAAsB;EAC9BC,QAAQ,GAAG,gCAAgC;EAC3CC,QAAQ;EACRC,UAAU,GAAG,IAAI;EACjBC,OAAO;EACPC,IAAI,GAAG,KAAK;EACZC,MAAM,GAAG;AACG,CAAC,EAAE;EAAAC,EAAA;EACf;EACAtB,SAAS,CAAC,MAAM;IACd,IAAI,CAACc,OAAO,EAAE;IACd,MAAMS,KAAK,GAAIC,CAAgB,IAAK;MAClC,IAAIA,CAAC,CAACC,GAAG,KAAK,QAAQ,EAAE;QACtB,IAAIP,UAAU,EAAE;UACdM,CAAC,CAACE,cAAc,CAAC,CAAC;UAClBF,CAAC,CAACG,eAAe,CAAC,CAAC;QACrB,CAAC,MAAM;UACLR,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAG,CAAC;QACb;MACF;IACF,CAAC;IACDZ,QAAQ,CAACqB,gBAAgB,CAAC,SAAS,EAAEL,KAAK,EAAE;MAAEM,OAAO,EAAE;IAAK,CAAC,CAAC;IAC9D,OAAO,MAAMtB,QAAQ,CAACuB,mBAAmB,CAAC,SAAS,EAAEP,KAAK,EAAE;MAAEM,OAAO,EAAE;IAAK,CAAQ,CAAC;EACvF,CAAC,EAAE,CAACf,OAAO,EAAEI,UAAU,EAAEC,OAAO,CAAC,CAAC;;EAElC;EACA,IAAI,CAACL,OAAO,EAAE;IACZ,oBACEX,OAAA;MAAK4B,SAAS,EAAC,cAAc;MAACC,IAAI,EAAC,QAAQ;MAAC,aAAU,QAAQ;MAAAC,QAAA,gBAC5D9B,OAAA;QAAK4B,SAAS,EAAC;MAAa;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,EAC9BrB,QAAQ,iBAAIb,OAAA;QAAGmC,KAAK,EAAE;UAAEC,SAAS,EAAE;QAAG,CAAE;QAACR,SAAS,EAAC,cAAc;QAAAE,QAAA,EAAEjB;MAAQ;QAAAkB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC9E,CAAC;EAEV;;EAEA;EACA,MAAMG,MAAM,GAAGnC,YAAY,CAAC,CAAC;EAC7B,MAAMoC,OAAO,GACX,OAAOxB,QAAQ,KAAK,QAAQ,GACxByB,IAAI,CAACC,GAAG,CAAC,CAAC,EAAED,IAAI,CAACE,GAAG,CAAC,GAAG,EAAEF,IAAI,CAACG,KAAK,CAAC5B,QAAQ,CAAC,CAAC,CAAC,GAChD6B,SAAS;EAEf,MAAMC,KAAK,gBACT5C,OAAA;IAAK4B,SAAS,EAAC,iBAAiB;IAACC,IAAI,EAAC,QAAQ;IAAC,cAAW,MAAM;IAAC,mBAAgB,eAAe;IAAC,oBAAiB,kBAAkB;IAAAC,QAAA,eAClI9B,OAAA;MAAK4B,SAAS,EAAC,mBAAmB;MAAAE,QAAA,GAC/Bb,IAAI,KAAK,KAAK,gBACbjB,OAAA;QAAK4B,SAAS,EAAC,aAAa;QAAAE,QAAA,eAC1B9B,OAAA;UACE6C,GAAG,EAAE3B,MAAO;UACZ4B,GAAG,EAAC,YAAY;UAChBlB,SAAS,EAAC;QAAe;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1B;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,gBAENlC,OAAA;QAAK4B,SAAS,EAAC,aAAa;QAAC;MAAW;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAC3C,eACDlC,OAAA;QAAIO,EAAE,EAAC,eAAe;QAACqB,SAAS,EAAC,eAAe;QAAAE,QAAA,EAAElB;MAAK;QAAAmB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,EAC5DrB,QAAQ,iBAAIb,OAAA;QAAGO,EAAE,EAAC,kBAAkB;QAACqB,SAAS,EAAC,iBAAiB;QAAAE,QAAA,EAAEjB;MAAQ;QAAAkB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAE/EjB,IAAI,KAAK,KAAK,iBACbjB,OAAA;QAAK4B,SAAS,EAAC,kBAAkB;QAAAE,QAAA,gBAC/B9B,OAAA;UAAK4B,SAAS,EAAC,eAAe;UAAAE,QAAA,eAC5B9B,OAAA;YACE4B,SAAS,EAAE,gBAAgBU,OAAO,KAAKK,SAAS,GAAG,eAAe,GAAG,EAAE,EAAG;YAC1ER,KAAK,EAAEG,OAAO,KAAKK,SAAS,GAAG;cAAEI,KAAK,EAAE,GAAGT,OAAO;YAAI,CAAC,GAAGK;UAAU;YAAAZ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eACNlC,OAAA;UAAK4B,SAAS,EAAC,iBAAiB;UAAAE,QAAA,EAC7BQ,OAAO,KAAKK,SAAS,GAAG,GAAGL,OAAO,YAAY,GAAG;QAAU;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CACN;EAED,oBAAOpC,QAAQ,CAACkD,YAAY,CAACJ,KAAK,EAAEP,MAAM,CAAC;AAC7C;AAAClB,EAAA,CA/EuBT,OAAO;AAAAuC,EAAA,GAAPvC,OAAO;AAAA,IAAAuC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}