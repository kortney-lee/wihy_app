{"ast":null,"code":"import axios from 'axios';\nimport { API_CONFIG } from '../config/apiConfig';\nconst WIHY_API_URL = API_CONFIG.WIHY_API_URL;\n\n// Types for the WiHy API\n\nclass WihyAPIService {\n  constructor() {\n    this.baseURL = void 0;\n    this.baseURL = WIHY_API_URL;\n  }\n\n  /**\r\n   * Ask WiHy a health-related question with optional user context\r\n   */\n  async askAnything(request) {\n    try {\n      console.log('Making WiHy API request:', request);\n      const response = await axios.post(`${this.baseURL}/wihy/ask-anything`, request, {\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        timeout: 30000 // 30 second timeout\n      });\n      console.log('WiHy API response:', response.data);\n      return response.data;\n    } catch (error) {\n      console.error('WiHy API error:', error);\n      if (error && typeof error === 'object' && 'response' in error) {\n        var _axiosError$response;\n        const axiosError = error;\n        if ((_axiosError$response = axiosError.response) !== null && _axiosError$response !== void 0 && _axiosError$response.data) {\n          throw new Error(axiosError.response.data.detail || 'WiHy API request failed');\n        }\n        throw new Error(`Network error: ${axiosError.message || 'Request failed'}`);\n      }\n      throw new Error('Unknown error occurred while contacting WiHy API');\n    }\n  }\n\n  /**\r\n   * Format the WiHy response for display in the existing UI\r\n   * This formats it to be compatible with the existing search results format\r\n   */\n  formatWihyResponse(response) {\n    var _wihy_response$resear, _wihy_response$biblic;\n    const {\n      wihy_response\n    } = response;\n    let formatted = `# ${wihy_response.core_principle}\\n\\n`;\n\n    // Personalized Analysis\n    if (wihy_response.personalized_analysis) {\n      var _wihy_response$person, _wihy_response$person2, _wihy_response$person3;\n      formatted += `## 🎯 Personalized Health Analysis\\n\\n`;\n\n      // Risk Factors\n      if (((_wihy_response$person = wihy_response.personalized_analysis.identified_risk_factors) === null || _wihy_response$person === void 0 ? void 0 : _wihy_response$person.length) > 0) {\n        formatted += `### Identified Risk Factors:\\n`;\n        wihy_response.personalized_analysis.identified_risk_factors.forEach(risk => {\n          formatted += `- **${risk.risk_factor.replace(/_/g, ' ').toUpperCase()}**\\n`;\n          formatted += `  - Associated with: ${risk.associated_illnesses.replace(/_/g, ' ')}\\n`;\n          formatted += `  - Prevalence: ${risk.prevalence_rate}%\\n`;\n          formatted += `  - Preventability: ${risk.preventability_score}%\\n\\n`;\n        });\n      }\n\n      // Priority Goals\n      if (((_wihy_response$person2 = wihy_response.personalized_analysis.priority_health_goals) === null || _wihy_response$person2 === void 0 ? void 0 : _wihy_response$person2.length) > 0) {\n        formatted += `### 🎯 Priority Health Goals:\\n`;\n        wihy_response.personalized_analysis.priority_health_goals.forEach(goal => {\n          formatted += `- ${goal}\\n`;\n        });\n        formatted += '\\n';\n      }\n\n      // Action Items\n      if (((_wihy_response$person3 = wihy_response.personalized_analysis.action_items) === null || _wihy_response$person3 === void 0 ? void 0 : _wihy_response$person3.length) > 0) {\n        formatted += `### 📋 Action Items:\\n`;\n        wihy_response.personalized_analysis.action_items.forEach((action, index) => {\n          formatted += `#### ${index + 1}. ${action.action}\\n`;\n          formatted += `- **Priority:** ${action.priority}\\n`;\n          formatted += `- **Target:** ${action.target_illness.replace(/_/g, ' ')}\\n`;\n          formatted += `- **Evidence Level:** ${action.evidence_level}\\n`;\n          formatted += `- **How it works:** ${action.mechanism}\\n`;\n          formatted += `- **Timeline:** ${action.timeline}\\n\\n`;\n        });\n      }\n\n      // Timeline\n      if (wihy_response.personalized_analysis.timeline) {\n        formatted += `**Implementation Timeline:** ${wihy_response.personalized_analysis.timeline}\\n\\n`;\n      }\n    }\n\n    // Research Foundation\n    if (((_wihy_response$resear = wihy_response.research_foundation) === null || _wihy_response$resear === void 0 ? void 0 : _wihy_response$resear.length) > 0) {\n      formatted += `## 📚 Research Foundation\\n\\n`;\n      wihy_response.research_foundation.forEach(research => {\n        formatted += `- **${research.citation_text}** (${research.study_type})\\n`;\n        formatted += `  ${research.key_finding}\\n\\n`;\n      });\n    }\n\n    // Progress Tracking\n    if (wihy_response.progress_tracking) {\n      formatted += `## 📊 Progress Tracking\\n\\n`;\n      formatted += `**Key Metrics to Track:**\\n`;\n      wihy_response.progress_tracking.key_metrics.forEach(metric => {\n        formatted += `- ${metric}\\n`;\n      });\n      formatted += `\\n**Reassessment:** ${wihy_response.progress_tracking.reassessment_period}\\n\\n`;\n    }\n\n    // Biblical Wisdom\n    if (((_wihy_response$biblic = wihy_response.biblical_wisdom) === null || _wihy_response$biblic === void 0 ? void 0 : _wihy_response$biblic.length) > 0) {\n      formatted += `## ✝️ Biblical Wisdom\\n\\n`;\n      wihy_response.biblical_wisdom.forEach(wisdom => {\n        formatted += `> ${wisdom}\\n\\n`;\n      });\n    }\n    formatted += `---\\n\\n*WiHy health truth analysis generated at: ${new Date(response.timestamp).toLocaleString()}*\\n`;\n    return formatted;\n  }\n\n  /**\r\n   * Extract recommendations from WiHy response for UI display\r\n   */\n  extractRecommendations(response) {\n    var _response$wihy_respon;\n    const recommendations = [];\n    if ((_response$wihy_respon = response.wihy_response.personalized_analysis) !== null && _response$wihy_respon !== void 0 && _response$wihy_respon.action_items) {\n      response.wihy_response.personalized_analysis.action_items.forEach(action => {\n        recommendations.push(`${action.action} (${action.priority} priority)`);\n      });\n    }\n    return recommendations;\n  }\n\n  /**\r\n   * Extract citations from WiHy response for UI display\r\n   */\n  extractCitations(response) {\n    const citations = [];\n    if (response.wihy_response.research_foundation) {\n      response.wihy_response.research_foundation.forEach(research => {\n        citations.push(`${research.citation_text}: ${research.key_finding}`);\n      });\n    }\n    return citations;\n  }\n}\n\n// Export a singleton instance\nexport const wihyAPI = new WihyAPIService();\nexport default wihyAPI;","map":{"version":3,"names":["axios","API_CONFIG","WIHY_API_URL","WihyAPIService","constructor","baseURL","askAnything","request","console","log","response","post","headers","timeout","data","error","_axiosError$response","axiosError","Error","detail","message","formatWihyResponse","_wihy_response$resear","_wihy_response$biblic","wihy_response","formatted","core_principle","personalized_analysis","_wihy_response$person","_wihy_response$person2","_wihy_response$person3","identified_risk_factors","length","forEach","risk","risk_factor","replace","toUpperCase","associated_illnesses","prevalence_rate","preventability_score","priority_health_goals","goal","action_items","action","index","priority","target_illness","evidence_level","mechanism","timeline","research_foundation","research","citation_text","study_type","key_finding","progress_tracking","key_metrics","metric","reassessment_period","biblical_wisdom","wisdom","Date","timestamp","toLocaleString","extractRecommendations","_response$wihy_respon","recommendations","push","extractCitations","citations","wihyAPI"],"sources":["C:/repo/wihy_ui/client/src/services/wihyAPI.ts"],"sourcesContent":["import axios from 'axios';\r\nimport { API_CONFIG, getWihyEndpoint } from '../config/apiConfig';\r\n\r\nconst WIHY_API_URL = API_CONFIG.WIHY_API_URL;\r\n\r\n// Types for the WiHy API\r\nexport interface UserContext {\r\n  age?: number;\r\n  family_size?: number;\r\n  family_history?: string[];\r\n  health_concerns?: string[];\r\n  dietary_restrictions?: string[];\r\n  activity_level?: 'low' | 'moderate' | 'high';\r\n  current_health_concerns?: string[];\r\n}\r\n\r\nexport interface WihyRequest {\r\n  query: string;\r\n  user_context?: UserContext;\r\n}\r\n\r\nexport interface RiskFactor {\r\n  risk_factor: string;\r\n  associated_illnesses: string;\r\n  prevalence_rate: number;\r\n  preventability_score: number;\r\n}\r\n\r\nexport interface ActionItem {\r\n  action: string;\r\n  priority: string;\r\n  target_illness: string;\r\n  evidence_level: string;\r\n  mechanism: string;\r\n  timeline: string;\r\n}\r\n\r\nexport interface PersonalizedAnalysis {\r\n  identified_risk_factors: RiskFactor[];\r\n  priority_health_goals: string[];\r\n  action_items: ActionItem[];\r\n  timeline: string;\r\n}\r\n\r\nexport interface ResearchFoundation {\r\n  citation_text: string;\r\n  study_type: string;\r\n  key_finding: string;\r\n}\r\n\r\nexport interface ProgressTracking {\r\n  key_metrics: string[];\r\n  reassessment_period: string;\r\n}\r\n\r\nexport interface WihyResponseData {\r\n  query_type: string;\r\n  query: string;\r\n  core_principle: string;\r\n  personalized_analysis: PersonalizedAnalysis;\r\n  research_foundation: ResearchFoundation[];\r\n  progress_tracking: ProgressTracking;\r\n  biblical_wisdom: string[];\r\n}\r\n\r\nexport interface WihyResponse {\r\n  success: boolean;\r\n  timestamp: string;\r\n  response_type: string;\r\n  query: string;\r\n  user_context?: UserContext;\r\n  wihy_response: WihyResponseData;\r\n  message: string;\r\n}\r\n\r\nexport interface WihyError {\r\n  detail: string;\r\n}\r\n\r\nclass WihyAPIService {\r\n  private baseURL: string;\r\n\r\n  constructor() {\r\n    this.baseURL = WIHY_API_URL;\r\n  }\r\n\r\n  /**\r\n   * Ask WiHy a health-related question with optional user context\r\n   */\r\n  async askAnything(request: WihyRequest): Promise<WihyResponse> {\r\n    try {\r\n      console.log('Making WiHy API request:', request);\r\n      \r\n      const response = await axios.post<WihyResponse>(\r\n        `${this.baseURL}/wihy/ask-anything`,\r\n        request,\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          timeout: 30000, // 30 second timeout\r\n        }\r\n      );\r\n\r\n      console.log('WiHy API response:', response.data);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('WiHy API error:', error);\r\n      \r\n      if (error && typeof error === 'object' && 'response' in error) {\r\n        const axiosError = error as any;\r\n        if (axiosError.response?.data) {\r\n          throw new Error(axiosError.response.data.detail || 'WiHy API request failed');\r\n        }\r\n        throw new Error(`Network error: ${axiosError.message || 'Request failed'}`);\r\n      }\r\n      \r\n      throw new Error('Unknown error occurred while contacting WiHy API');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Format the WiHy response for display in the existing UI\r\n   * This formats it to be compatible with the existing search results format\r\n   */\r\n  formatWihyResponse(response: WihyResponse): string {\r\n    const { wihy_response } = response;\r\n    \r\n    let formatted = `# ${wihy_response.core_principle}\\n\\n`;\r\n    \r\n    // Personalized Analysis\r\n    if (wihy_response.personalized_analysis) {\r\n      formatted += `## 🎯 Personalized Health Analysis\\n\\n`;\r\n      \r\n      // Risk Factors\r\n      if (wihy_response.personalized_analysis.identified_risk_factors?.length > 0) {\r\n        formatted += `### Identified Risk Factors:\\n`;\r\n        wihy_response.personalized_analysis.identified_risk_factors.forEach(risk => {\r\n          formatted += `- **${risk.risk_factor.replace(/_/g, ' ').toUpperCase()}**\\n`;\r\n          formatted += `  - Associated with: ${risk.associated_illnesses.replace(/_/g, ' ')}\\n`;\r\n          formatted += `  - Prevalence: ${risk.prevalence_rate}%\\n`;\r\n          formatted += `  - Preventability: ${risk.preventability_score}%\\n\\n`;\r\n        });\r\n      }\r\n      \r\n      // Priority Goals\r\n      if (wihy_response.personalized_analysis.priority_health_goals?.length > 0) {\r\n        formatted += `### 🎯 Priority Health Goals:\\n`;\r\n        wihy_response.personalized_analysis.priority_health_goals.forEach(goal => {\r\n          formatted += `- ${goal}\\n`;\r\n        });\r\n        formatted += '\\n';\r\n      }\r\n      \r\n      // Action Items\r\n      if (wihy_response.personalized_analysis.action_items?.length > 0) {\r\n        formatted += `### 📋 Action Items:\\n`;\r\n        wihy_response.personalized_analysis.action_items.forEach((action, index) => {\r\n          formatted += `#### ${index + 1}. ${action.action}\\n`;\r\n          formatted += `- **Priority:** ${action.priority}\\n`;\r\n          formatted += `- **Target:** ${action.target_illness.replace(/_/g, ' ')}\\n`;\r\n          formatted += `- **Evidence Level:** ${action.evidence_level}\\n`;\r\n          formatted += `- **How it works:** ${action.mechanism}\\n`;\r\n          formatted += `- **Timeline:** ${action.timeline}\\n\\n`;\r\n        });\r\n      }\r\n      \r\n      // Timeline\r\n      if (wihy_response.personalized_analysis.timeline) {\r\n        formatted += `**Implementation Timeline:** ${wihy_response.personalized_analysis.timeline}\\n\\n`;\r\n      }\r\n    }\r\n    \r\n    // Research Foundation\r\n    if (wihy_response.research_foundation?.length > 0) {\r\n      formatted += `## 📚 Research Foundation\\n\\n`;\r\n      wihy_response.research_foundation.forEach(research => {\r\n        formatted += `- **${research.citation_text}** (${research.study_type})\\n`;\r\n        formatted += `  ${research.key_finding}\\n\\n`;\r\n      });\r\n    }\r\n    \r\n    // Progress Tracking\r\n    if (wihy_response.progress_tracking) {\r\n      formatted += `## 📊 Progress Tracking\\n\\n`;\r\n      formatted += `**Key Metrics to Track:**\\n`;\r\n      wihy_response.progress_tracking.key_metrics.forEach(metric => {\r\n        formatted += `- ${metric}\\n`;\r\n      });\r\n      formatted += `\\n**Reassessment:** ${wihy_response.progress_tracking.reassessment_period}\\n\\n`;\r\n    }\r\n    \r\n    // Biblical Wisdom\r\n    if (wihy_response.biblical_wisdom?.length > 0) {\r\n      formatted += `## ✝️ Biblical Wisdom\\n\\n`;\r\n      wihy_response.biblical_wisdom.forEach(wisdom => {\r\n        formatted += `> ${wisdom}\\n\\n`;\r\n      });\r\n    }\r\n    \r\n    formatted += `---\\n\\n*WiHy health truth analysis generated at: ${new Date(response.timestamp).toLocaleString()}*\\n`;\r\n    \r\n    return formatted;\r\n  }\r\n\r\n  /**\r\n   * Extract recommendations from WiHy response for UI display\r\n   */\r\n  extractRecommendations(response: WihyResponse): string[] {\r\n    const recommendations: string[] = [];\r\n    \r\n    if (response.wihy_response.personalized_analysis?.action_items) {\r\n      response.wihy_response.personalized_analysis.action_items.forEach(action => {\r\n        recommendations.push(`${action.action} (${action.priority} priority)`);\r\n      });\r\n    }\r\n    \r\n    return recommendations;\r\n  }\r\n\r\n  /**\r\n   * Extract citations from WiHy response for UI display\r\n   */\r\n  extractCitations(response: WihyResponse): string[] {\r\n    const citations: string[] = [];\r\n    \r\n    if (response.wihy_response.research_foundation) {\r\n      response.wihy_response.research_foundation.forEach(research => {\r\n        citations.push(`${research.citation_text}: ${research.key_finding}`);\r\n      });\r\n    }\r\n    \r\n    return citations;\r\n  }\r\n}\r\n\r\n// Export a singleton instance\r\nexport const wihyAPI = new WihyAPIService();\r\nexport default wihyAPI;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}