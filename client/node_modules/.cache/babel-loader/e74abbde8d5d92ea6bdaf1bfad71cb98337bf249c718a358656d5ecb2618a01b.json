{"ast":null,"code":"import React,{useState,useEffect,useRef,memo}from'react';import{searchCache}from'../../services/searchCache';import ImageUploadModal from'../ui/ImageUploadModal';import ResultQualityPie from'../charts/ResultQualityPie';// Chart imports removed - charts now handled by vHealthApp with new API structure\nimport ChatWidget from'../ui/ChatWidget';import'../../styles/VHealthSearch.css';import Header from'../shared/Header';import Spinner from'../ui/Spinner';import{wihyAPI}from'../../services/wihyAPI';import{logger}from'../../utils/logger';/* Define default topics and resources */import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const defaultRelatedTopics=[\"Nutrition and Diet Guidelines\",\"Exercise and Physical Activity\",\"Mental Health and Wellness\",\"Preventive Care and Screenings\",\"Chronic Disease Management\",\"Healthy Lifestyle Choices\"];const defaultResources=[{text:\"Nutrition ED - Learn More\",url:\"https://vowels.com\"},{text:\"Nutrition 101\",url:\"https://members.vowels.com\"},{text:\"The World Counts\",url:\"https://www.theworldcounts.com/\"}];// Define the dummy data for \"test\" queries\nconst dummyTestData={query:\"test\",healthInfo:\"I'm sorry, but your query \\\"test\\\" is too vague. Could you please provide more details or specify the type of test you are interested in? It could be a medical test, a psychological test, or a physical fitness test, among others. Please provide more context so I can give you a more accurate and helpful response.\\n\\n**Recommendations:**\\n\\u2022 Consult healthcare professionals for personalized medical advice\\n\\u2022 Verify information with your doctor or medical provider\\n\\u2022 Follow evidence-based medical guidelines\\n\\u2022 Seek regular medical check-ups and screenings\\n\\n**Sources:** NIH Guidelines, CDC & WHO Publications, PubMed and peer-reviewed studies, Academic Medical Journals, Evidence-Based Clinical Reviews\\n\\nThis information is based on research from reputable medical institutions and peer-reviewed journals including NIH, CDC, WHO, JAMA, NEJM, and other academic publications. It is for educational purposes only and should not replace professional medical advice, diagnosis, or treatment. Always consult with qualified healthcare providers for medical concerns.\",relatedTopics:[\"Nutrition and Diet Guidelines\",\"Exercise and Physical Activity\",\"Mental Health and Wellness\",\"Preventive Care and Screenings\",\"Chronic Disease Management\",\"Healthy Lifestyle Choices\"],resources:[{text:\"ü©∫ mHealth - Mobile Health Solutions\",url:\"#\"},{text:\"üè• CDC - Health Guidelines\",url:\"#\"},{text:\"üåç WHO - Global Health Information\",url:\"#\"}]};// Update the SearchResultsProps interface to include the new properties\n// Add this function before the SearchResults component\nconst convertLinksToClickable=text=>{// Handle non-string inputs\nif(!text)return null;// If text is not a string, convert it to string first\nif(typeof text!=='string'){// If it's an object, try to stringify it or extract meaningful content\nif(typeof text==='object'){// If it has specific properties we can use\nif(text.content){text=text.content;}else if(text.message){text=text.message;}else if(text.details){text=text.details;}else{// Last resort - stringify the object\ntext=JSON.stringify(text);}}else{// Convert other types to string\ntext=String(text);}}// Now we're sure text is a string, proceed with original logic\nconst urlRegex=/(https?:\\/\\/[^\\s]+)/g;const parts=text.split(urlRegex);return/*#__PURE__*/_jsx(_Fragment,{children:parts.map((part,index)=>urlRegex.test(part)?/*#__PURE__*/_jsx(\"a\",{href:part,target:\"_blank\",rel:\"noopener noreferrer\",style:{color:'#2563eb',textDecoration:'underline'},children:part},index):part)});};const SearchResults=/*#__PURE__*/memo(_ref=>{let{query,results,onBackToSearch,onNewSearch,isLoading,dataSource,citations=[],recommendations=[],disclaimer=\"\",apiResponse}=_ref;// Only log significant events, not every mount\nconsole.log('üîç SEARCH RESULTS: Rendered for query:',query);const[input,setInput]=useState('');const[image,setImage]=useState(null);const[currentPhotoId,setCurrentPhotoId]=useState(null);const[newQuery,setNewQuery]=useState('');const[isListening,setIsListening]=useState(false);const[isUploadModalOpen,setIsUploadModalOpen]=useState(false);const[notification,setNotification]=useState(null);const[isUploadLoading,setUploadLoading]=useState(false);const[lastProcessedQuery,setLastProcessedQuery]=useState('');const[imageError,setImageError]=useState(false);const[isSearching,setIsSearching]=useState(false);const[currentContext,setCurrentContext]=useState('search results');const[windowWidth,setWindowWidth]=useState(typeof window!=='undefined'?window.innerWidth:1200);// Header search state - independent from main search\nconst[headerSearchResults,setHeaderSearchResults]=useState('');const[headerSearchQuery,setHeaderSearchQuery]=useState('');const[headerApiResponse,setHeaderApiResponse]=useState(null);const[isHeaderSearchLoading,setIsHeaderSearchLoading]=useState(false);const recognitionRef=useRef(null);// Handle window resize for responsive layout\nuseEffect(()=>{const handleResize=()=>{setWindowWidth(window.innerWidth);};window.addEventListener('resize',handleResize);return()=>window.removeEventListener('resize',handleResize);},[]);// Prevent body scroll when component mounts  \nuseEffect(()=>{// Remove any body scroll restrictions - let the CSS variable approach handle positioning\ndocument.body.style.overflow='auto';return()=>{document.body.style.overflow='auto';};},[]);// Check if we have valid results to display\nconst hasValidResults=results&&results.trim()!==''&&!isLoading;// üîç SEARCH RESULTS LOGGING: Track loading states\nuseEffect(()=>{if(isLoading){console.log('üîç SEARCH RESULTS LOADING STATE:',{query:query,timestamp:new Date().toISOString(),component:'SearchResults',action:'loadingStarted',isLoading:true,hasValidResults:hasValidResults});}else{console.log('üîç SEARCH RESULTS LOADING COMPLETE:',{query:query,timestamp:new Date().toISOString(),component:'SearchResults',action:'loadingComplete',isLoading:false,hasValidResults:hasValidResults,resultsLength:(results===null||results===void 0?void 0:results.length)||0});}},[isLoading,hasValidResults]);// Cache results when they change\nuseEffect(()=>{if(query&&results&&!isLoading){searchCache.setCachedResult(query,results,window.location.href);}},[query,results,isLoading]);// Add effect to manage body class when modal opens/closes\nuseEffect(()=>{if(isUploadModalOpen){document.body.classList.add('modal-open');}else{document.body.classList.remove('modal-open');}return()=>{document.body.classList.remove('modal-open');};},[isUploadModalOpen]);// Add cleanup effect\nuseEffect(()=>{return()=>{if(typeof image==='string'&&image.startsWith('blob:')){URL.revokeObjectURL(image);}};},[image]);// Add this effect\nuseEffect(()=>{if(notification){const timer=setTimeout(()=>{setNotification(null);},5000);return()=>clearTimeout(timer);}},[notification]);// Handle new search submission\nconst handleTextSubmit=async e=>{e.preventDefault();if(!input.trim()||isLoading)return;const trimmedQuery=input.trim();if(trimmedQuery===lastProcessedQuery||trimmedQuery===query){console.log('Preventing duplicate search for:',trimmedQuery);return;}console.log('User explicit search from results page:',trimmedQuery);setLastProcessedQuery(trimmedQuery);setIsSearching(true);onNewSearch(trimmedQuery);};// Handle voice input (placeholder for now)\nconst handleVoiceInput=()=>{setIsListening(!isListening);};// Handle image upload\nconst handleImageUpload=event=>{var _event$target$files;const file=(_event$target$files=event.target.files)===null||_event$target$files===void 0?void 0:_event$target$files[0];if(file){setImage(file);setIsUploadModalOpen(true);}};// Handle image upload completion\nconst handleAnalysisComplete=results=>{setIsUploadModalOpen(false);if(results){onNewSearch(JSON.stringify(results));}};// Check if this is a test query\nconst isTestQuery=query.toLowerCase()==='test';// Handle new search from header - makes its own API request\nconst handleHeaderSearch=async searchQuery=>{console.log('üîç HEADER SEARCH initiated:',{searchQuery});if(!searchQuery.trim())return;setIsHeaderSearchLoading(true);try{logger.debug('Header search: Making WiHy API call',{query:searchQuery});const wihyResponse=await wihyAPI.searchHealth(searchQuery);if(wihyResponse.success){// Extract response content\nlet summary='Health information provided';if('data'in wihyResponse){var _data,_data2,_data2$ai_response;// New unified API response format\nsummary=((_data=wihyResponse.data)===null||_data===void 0?void 0:_data.response)||((_data2=wihyResponse.data)===null||_data2===void 0?void 0:(_data2$ai_response=_data2.ai_response)===null||_data2$ai_response===void 0?void 0:_data2$ai_response.response)||summary;}else{var _wihy_response;// Legacy WihyResponse format\nsummary=((_wihy_response=wihyResponse.wihy_response)===null||_wihy_response===void 0?void 0:_wihy_response.core_principle)||summary;}// Update our local state and add to chat conversation\nsetHeaderSearchResults(summary);setHeaderSearchQuery(searchQuery);setHeaderApiResponse(wihyResponse);// Add the new search to the existing chat conversation\nhandleAddToChatConversation(searchQuery,summary);console.log('üîç HEADER SEARCH state updated:',{query:searchQuery,hasResults:!!summary,timestamp:new Date().toISOString()});logger.info('Header search completed successfully',{query:searchQuery});console.log('üîç HEADER SEARCH completed:',{query:searchQuery,success:true,hasResponse:!!summary,timestamp:new Date().toISOString()});}else{throw new Error('WiHy API request failed');}}catch(error){logger.error('Header search failed:',error);setHeaderSearchResults('Sorry, there was an error processing your search. Please try again.');setHeaderApiResponse(null);console.log('üîç HEADER SEARCH failed:',{query:searchQuery,error:error.message,timestamp:new Date().toISOString()});}finally{setIsHeaderSearchLoading(false);}};// Handle new search from ChatWidget\nconst handleChatSearch=query=>{console.log('üîç ChatWidget triggered new search:',{query});// Clear any header search results when using ChatWidget\nsetHeaderSearchResults('');setHeaderSearchQuery('');setHeaderApiResponse(null);// Use the main navigation flow for ChatWidget searches\nonNewSearch(query);};// Handle header search - add messages to existing conversation\nconst handleAddToChatConversation=(userMessage,assistantMessage)=>{console.log('üîç ATTEMPTING TO ADD TO CHAT:',{userMessage,assistantMessage:assistantMessage.substring(0,100)+'...',hasAddChatMessage:!!window.addChatMessage,timestamp:new Date().toISOString()});if(window.addChatMessage){window.addChatMessage(userMessage,assistantMessage);}else{console.error('üîç addChatMessage function not available on window');}};// Debug logging for state changes\nuseEffect(()=>{console.log('üîç SEARCHRESULTS STATE DEBUG:',{headerSearchQuery,originalQuery:query,hasHeaderSearchResults:!!headerSearchResults,isHeaderSearchLoading,chatWidgetKey:\"chatwidget-\".concat(headerSearchQuery||query),timestamp:new Date().toISOString()});},[headerSearchQuery,headerSearchResults,query,isHeaderSearchLoading]);// Clear header search results when main query changes\nuseEffect(()=>{if(query&&headerSearchQuery&&query!==headerSearchQuery){console.log('üîç Main query changed, clearing header search results');setHeaderSearchResults('');setHeaderSearchQuery('');setHeaderApiResponse(null);}},[query,headerSearchQuery]);return/*#__PURE__*/_jsxs(\"div\",{className:\"search-results-container\",style:{minHeight:'100vh',display:'flex',flexDirection:'column',paddingTop:'var(--vh-header-height)',overflow:'hidden'},children:[/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,right:0,zIndex:1000,backgroundColor:'white'},children:/*#__PURE__*/_jsx(Header,{variant:\"results\",showLogin:true,showSearchInput:true,onSearchSubmit:handleHeaderSearch})}),(isLoading||isHeaderSearchLoading)&&/*#__PURE__*/_jsx(Spinner,{overlay:true,title:\"Analyzing with AI...\",subtitle:\"Processing your health query...\",disableEsc:true}),/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'calc(100vh - var(--vh-header-height))',overflow:'hidden',padding:windowWidth<=768?'12px':'20px',backgroundColor:'#f8fafc'},children:hasValidResults?/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:windowWidth<=768?'1fr':'2fr 1fr',gridTemplateRows:windowWidth<=768?'1fr 300px':'1fr',gap:'20px',maxWidth:'1200px',margin:'0 auto',minHeight:'calc(100vh - var(--vh-header-height) - 40px)',// Account for padding\noverflow:'hidden'},children:[/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:'white',borderRadius:'12px',border:'1px solid #e5e7eb',boxShadow:'0 1px 3px rgba(0, 0, 0, 0.1)',padding:windowWidth<=768?'16px':'24px',display:'flex',flexDirection:'column',overflow:'hidden'},children:/*#__PURE__*/_jsx(\"div\",{style:{flex:1,overflow:'hidden'},children:/*#__PURE__*/_jsx(ChatWidget,{// Stable key since we're adding to conversation instead of replacing\nisOpen:true,onClose:()=>{},currentContext:currentContext,inline:true,searchQuery:query// Always use original query for initialization\n,onNewSearch:handleChatSearch,onAddMessage:handleAddToChatConversation,searchResponse:((_apiResponse$data,_apiResponse$data$ai_,_apiResponse$data2)=>{// Use original results for initialization, header search will be added via onAddMessage\nlet extractedResponse='';if(apiResponse!==null&&apiResponse!==void 0&&(_apiResponse$data=apiResponse.data)!==null&&_apiResponse$data!==void 0&&(_apiResponse$data$ai_=_apiResponse$data.ai_response)!==null&&_apiResponse$data$ai_!==void 0&&_apiResponse$data$ai_.response){extractedResponse=apiResponse.data.ai_response.response;}else if(apiResponse!==null&&apiResponse!==void 0&&(_apiResponse$data2=apiResponse.data)!==null&&_apiResponse$data2!==void 0&&_apiResponse$data2.response){extractedResponse=apiResponse.data.response;}else{extractedResponse=results;}// Simplified logging\nconsole.log('üîç SEARCHRESULTS: Using results for ChatWidget initialization');return extractedResponse;})()},\"chatwidget-\".concat(query))})}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:windowWidth<=768?'16px':'20px',backgroundColor:'#ffffff',borderRadius:'12px',boxShadow:'0 1px 3px rgba(0, 0, 0, 0.1)',display:'flex',flexDirection:'column',overflow:'hidden'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginBottom:'20px',color:'#1f2937',fontSize:'18px',fontWeight:'600',flexShrink:0},children:\"Analysis Charts\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'20px',flex:1,overflow:'auto',paddingRight:'4px'},children:(results||headerSearchResults)&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{style:{marginBottom:'12px',color:'#374151',fontSize:'14px'},children:\"Quality Analysis\"}),/*#__PURE__*/_jsx(ResultQualityPie,{apiResponse:headerApiResponse||apiResponse,query:headerSearchQuery||query,results:headerSearchResults||results,dataSource:dataSource==='wihy'?'vnutrition':dataSource})]})})})]})]}):!isLoading&&!isSearching&&/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'center',height:'100%',textAlign:'center',padding:'40px',color:'#6b7280'},children:/*#__PURE__*/_jsx(\"p\",{children:\"No results to display. Try searching for something else.\"})})}),/*#__PURE__*/_jsx(ImageUploadModal,{isOpen:isUploadModalOpen,onClose:()=>setIsUploadModalOpen(false),onAnalysisComplete:handleAnalysisComplete,title:\"Upload Image\",subtitle:\"Upload images for analysis\"}),/*#__PURE__*/_jsx(\"style\",{children:\"\\n        @keyframes spin {\\n          0% { transform: rotate(0deg); }\\n          100% { transform: rotate(360deg); }\\n        }\\n      \"})]});});export default SearchResults;","map":{"version":3,"names":["React","useState","useEffect","useRef","memo","searchCache","ImageUploadModal","ResultQualityPie","ChatWidget","Header","Spinner","wihyAPI","logger","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","defaultRelatedTopics","defaultResources","text","url","dummyTestData","query","healthInfo","relatedTopics","resources","convertLinksToClickable","content","message","details","JSON","stringify","String","urlRegex","parts","split","children","map","part","index","test","href","target","rel","style","color","textDecoration","SearchResults","_ref","results","onBackToSearch","onNewSearch","isLoading","dataSource","citations","recommendations","disclaimer","apiResponse","console","log","input","setInput","image","setImage","currentPhotoId","setCurrentPhotoId","newQuery","setNewQuery","isListening","setIsListening","isUploadModalOpen","setIsUploadModalOpen","notification","setNotification","isUploadLoading","setUploadLoading","lastProcessedQuery","setLastProcessedQuery","imageError","setImageError","isSearching","setIsSearching","currentContext","setCurrentContext","windowWidth","setWindowWidth","window","innerWidth","headerSearchResults","setHeaderSearchResults","headerSearchQuery","setHeaderSearchQuery","headerApiResponse","setHeaderApiResponse","isHeaderSearchLoading","setIsHeaderSearchLoading","recognitionRef","handleResize","addEventListener","removeEventListener","document","body","overflow","hasValidResults","trim","timestamp","Date","toISOString","component","action","resultsLength","length","setCachedResult","location","classList","add","remove","startsWith","URL","revokeObjectURL","timer","setTimeout","clearTimeout","handleTextSubmit","e","preventDefault","trimmedQuery","handleVoiceInput","handleImageUpload","event","_event$target$files","file","files","handleAnalysisComplete","isTestQuery","toLowerCase","handleHeaderSearch","searchQuery","debug","wihyResponse","searchHealth","success","summary","_data","_data2","_data2$ai_response","data","response","ai_response","_wihy_response","wihy_response","core_principle","handleAddToChatConversation","hasResults","info","hasResponse","Error","error","handleChatSearch","userMessage","assistantMessage","substring","hasAddChatMessage","addChatMessage","originalQuery","hasHeaderSearchResults","chatWidgetKey","concat","className","minHeight","display","flexDirection","paddingTop","position","top","left","right","zIndex","backgroundColor","variant","showLogin","showSearchInput","onSearchSubmit","overlay","title","subtitle","disableEsc","padding","gridTemplateColumns","gridTemplateRows","gap","maxWidth","margin","borderRadius","border","boxShadow","flex","isOpen","onClose","inline","onAddMessage","searchResponse","_apiResponse$data","_apiResponse$data$ai_","_apiResponse$data2","extractedResponse","marginBottom","fontSize","fontWeight","flexShrink","paddingRight","alignItems","justifyContent","height","textAlign","onAnalysisComplete"],"sources":["C:/repo/wihy_ui/client/src/components/search/SearchResults.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef, memo } from 'react';\r\nimport { searchCache } from '../../services/searchCache';\r\nimport { photoStorageService } from '../../services/photoStorageService';\r\nimport { foodAnalysisService } from '../../services/foodAnalysisService';\r\nimport ImageUploadModal from '../ui/ImageUploadModal';\r\nimport MultiAuthLogin from '../shared/MultiAuthLogin';\r\nimport ResultQualityPie from '../charts/ResultQualityPie';\r\n// Chart imports removed - charts now handled by vHealthApp with new API structure\r\nimport ChatWidget from '../ui/ChatWidget';\r\nimport '../../styles/VHealthSearch.css';\r\nimport Header from '../shared/Header';\r\nimport Spinner from '../ui/Spinner';\r\nimport { wihyAPI } from '../../services/wihyAPI';\r\nimport { logger } from '../../utils/logger';\r\n\r\n/* Define default topics and resources */\r\nconst defaultRelatedTopics = [\r\n  \"Nutrition and Diet Guidelines\",\r\n  \"Exercise and Physical Activity\", \r\n  \"Mental Health and Wellness\",\r\n  \"Preventive Care and Screenings\",\r\n  \"Chronic Disease Management\",\r\n  \"Healthy Lifestyle Choices\"\r\n];\r\n\r\nconst defaultResources = [\r\n  { text: \"Nutrition ED - Learn More\", url: \"https://vowels.com\" },\r\n  { text: \"Nutrition 101\", url: \"https://members.vowels.com\" },\r\n  { text: \"The World Counts\", url: \"https://www.theworldcounts.com/\" }\r\n];\r\n\r\n// Define the dummy data for \"test\" queries\r\nconst dummyTestData = {\r\n  query: \"test\",\r\n  healthInfo: `I'm sorry, but your query \"test\" is too vague. Could you please provide more details or specify the type of test you are interested in? It could be a medical test, a psychological test, or a physical fitness test, among others. Please provide more context so I can give you a more accurate and helpful response.\r\n\r\n**Recommendations:**\r\n‚Ä¢ Consult healthcare professionals for personalized medical advice\r\n‚Ä¢ Verify information with your doctor or medical provider\r\n‚Ä¢ Follow evidence-based medical guidelines\r\n‚Ä¢ Seek regular medical check-ups and screenings\r\n\r\n**Sources:** NIH Guidelines, CDC & WHO Publications, PubMed and peer-reviewed studies, Academic Medical Journals, Evidence-Based Clinical Reviews\r\n\r\nThis information is based on research from reputable medical institutions and peer-reviewed journals including NIH, CDC, WHO, JAMA, NEJM, and other academic publications. It is for educational purposes only and should not replace professional medical advice, diagnosis, or treatment. Always consult with qualified healthcare providers for medical concerns.`,\r\n  relatedTopics: [\r\n    \"Nutrition and Diet Guidelines\",\r\n    \"Exercise and Physical Activity\", \r\n    \"Mental Health and Wellness\",\r\n    \"Preventive Care and Screenings\",\r\n    \"Chronic Disease Management\",\r\n    \"Healthy Lifestyle Choices\"\r\n  ],\r\n  resources: [\r\n    { text: \"ü©∫ mHealth - Mobile Health Solutions\", url: \"#\" },\r\n    { text: \"üè• CDC - Health Guidelines\", url: \"#\" },\r\n    { text: \"üåç WHO - Global Health Information\", url: \"#\" }\r\n  ]\r\n};\r\n\r\n// Update the SearchResultsProps interface to include the new properties\r\ninterface SearchResultsProps {\r\n  query: string;\r\n  results: string;\r\n  onBackToSearch: () => void;\r\n  onNewSearch: (query: string) => void;\r\n  isLoading: boolean;\r\n  dataSource: \"error\" | \"openai\" | \"local\" | \"vnutrition\" | \"wihy\";\r\n  citations?: string[];\r\n  recommendations?: string[];\r\n  disclaimer?: string;\r\n  apiResponse?: any; // Add unified API response for chart components\r\n}\r\n\r\n// Add this function before the SearchResults component\r\nconst convertLinksToClickable = (text: any): React.ReactNode => {\r\n  // Handle non-string inputs\r\n  if (!text) return null;\r\n  \r\n  // If text is not a string, convert it to string first\r\n  if (typeof text !== 'string') {\r\n    // If it's an object, try to stringify it or extract meaningful content\r\n    if (typeof text === 'object') {\r\n      // If it has specific properties we can use\r\n      if (text.content) {\r\n        text = text.content;\r\n      } else if (text.message) {\r\n        text = text.message;\r\n      } else if (text.details) {\r\n        text = text.details;\r\n      } else {\r\n        // Last resort - stringify the object\r\n        text = JSON.stringify(text);\r\n      }\r\n    } else {\r\n      // Convert other types to string\r\n      text = String(text);\r\n    }\r\n  }\r\n\r\n  // Now we're sure text is a string, proceed with original logic\r\n  const urlRegex = /(https?:\\/\\/[^\\s]+)/g;\r\n  const parts = text.split(urlRegex);\r\n  \r\n  return (\r\n    <>\r\n      {parts.map((part, index) => (\r\n        urlRegex.test(part) ? (\r\n          <a \r\n            key={index} \r\n            href={part} \r\n            target=\"_blank\" \r\n            rel=\"noopener noreferrer\"\r\n            style={{ color: '#2563eb', textDecoration: 'underline' }}\r\n          >\r\n            {part}\r\n          </a>\r\n        ) : (\r\n          part\r\n        )\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nconst SearchResults: React.FC<SearchResultsProps> = memo(({\r\n  query,\r\n  results,\r\n  onBackToSearch,\r\n  onNewSearch,\r\n  isLoading,\r\n  dataSource,\r\n  citations = [],\r\n  recommendations = [],\r\n  disclaimer = \"\",\r\n  apiResponse\r\n}) => {\r\n  // Only log significant events, not every mount\r\n  console.log('üîç SEARCH RESULTS: Rendered for query:', query);\r\n  \r\n  const [input, setInput] = useState('');\r\n  const [image, setImage] = useState<File | string | null>(null);\r\n  const [currentPhotoId, setCurrentPhotoId] = useState<string | null>(null);\r\n  const [newQuery, setNewQuery] = useState('');\r\n  const [isListening, setIsListening] = useState(false);\r\n  const [isUploadModalOpen, setIsUploadModalOpen] = useState(false);\r\n  const [notification, setNotification] = useState<{message: string, type: string} | null>(null);\r\n  const [isUploadLoading, setUploadLoading] = useState(false);\r\n  const [lastProcessedQuery, setLastProcessedQuery] = useState<string>('');\r\n  const [imageError, setImageError] = useState(false);\r\n  const [isSearching, setIsSearching] = useState(false);\r\n  const [currentContext, setCurrentContext] = useState<string>('search results');\r\n  const [windowWidth, setWindowWidth] = useState(typeof window !== 'undefined' ? window.innerWidth : 1200);\r\n  \r\n  // Header search state - independent from main search\r\n  const [headerSearchResults, setHeaderSearchResults] = useState<string>('');\r\n  const [headerSearchQuery, setHeaderSearchQuery] = useState<string>('');\r\n  const [headerApiResponse, setHeaderApiResponse] = useState<any>(null);\r\n  const [isHeaderSearchLoading, setIsHeaderSearchLoading] = useState(false);\r\n  \r\n  const recognitionRef = useRef<any>(null);\r\n\r\n  // Handle window resize for responsive layout\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      setWindowWidth(window.innerWidth);\r\n    };\r\n\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  // Prevent body scroll when component mounts  \r\n  useEffect(() => {\r\n    // Remove any body scroll restrictions - let the CSS variable approach handle positioning\r\n    document.body.style.overflow = 'auto';\r\n    \r\n    return () => {\r\n      document.body.style.overflow = 'auto';\r\n    };\r\n  }, []);\r\n\r\n  // Check if we have valid results to display\r\n  const hasValidResults = results && results.trim() !== '' && !isLoading;\r\n  \r\n  // üîç SEARCH RESULTS LOGGING: Track loading states\r\n  useEffect(() => {\r\n    if (isLoading) {\r\n      console.log('üîç SEARCH RESULTS LOADING STATE:', {\r\n        query: query,\r\n        timestamp: new Date().toISOString(),\r\n        component: 'SearchResults',\r\n        action: 'loadingStarted',\r\n        isLoading: true,\r\n        hasValidResults: hasValidResults\r\n      });\r\n    } else {\r\n      console.log('üîç SEARCH RESULTS LOADING COMPLETE:', {\r\n        query: query,\r\n        timestamp: new Date().toISOString(),\r\n        component: 'SearchResults',\r\n        action: 'loadingComplete',\r\n        isLoading: false,\r\n        hasValidResults: hasValidResults,\r\n        resultsLength: results?.length || 0\r\n      });\r\n    }\r\n  }, [isLoading, hasValidResults]);\r\n  \r\n  // Cache results when they change\r\n  useEffect(() => {\r\n    if (query && results && !isLoading) {\r\n      searchCache.setCachedResult(query, results, window.location.href);\r\n    }\r\n  }, [query, results, isLoading]);\r\n\r\n  // Add effect to manage body class when modal opens/closes\r\n  useEffect(() => {\r\n    if (isUploadModalOpen) {\r\n      document.body.classList.add('modal-open');\r\n    } else {\r\n      document.body.classList.remove('modal-open');\r\n    }\r\n    \r\n    return () => {\r\n      document.body.classList.remove('modal-open');\r\n    };\r\n  }, [isUploadModalOpen]);\r\n\r\n  // Add cleanup effect\r\n  useEffect(() => {\r\n    return () => {\r\n      if (typeof image === 'string' && image.startsWith('blob:')) {\r\n        URL.revokeObjectURL(image);\r\n      }\r\n    };\r\n  }, [image]);\r\n\r\n  // Add this effect\r\n  useEffect(() => {\r\n    if (notification) {\r\n      const timer = setTimeout(() => {\r\n        setNotification(null);\r\n      }, 5000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [notification]);\r\n\r\n  // Handle new search submission\r\n  const handleTextSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!input.trim() || isLoading) return;\r\n    \r\n    const trimmedQuery = input.trim();\r\n    \r\n    if (trimmedQuery === lastProcessedQuery || trimmedQuery === query) {\r\n      console.log('Preventing duplicate search for:', trimmedQuery);\r\n      return;\r\n    }\r\n    \r\n    console.log('User explicit search from results page:', trimmedQuery);\r\n    setLastProcessedQuery(trimmedQuery);\r\n    setIsSearching(true);\r\n    onNewSearch(trimmedQuery);\r\n  };\r\n\r\n  // Handle voice input (placeholder for now)\r\n  const handleVoiceInput = () => {\r\n    setIsListening(!isListening);\r\n  };\r\n\r\n  // Handle image upload\r\n  const handleImageUpload = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = event.target.files?.[0];\r\n    if (file) {\r\n      setImage(file);\r\n      setIsUploadModalOpen(true);\r\n    }\r\n  };\r\n\r\n  // Handle image upload completion\r\n  const handleAnalysisComplete = (results: any) => {\r\n    setIsUploadModalOpen(false);\r\n    if (results) {\r\n      onNewSearch(JSON.stringify(results));\r\n    }\r\n  };\r\n\r\n  // Check if this is a test query\r\n  const isTestQuery = query.toLowerCase() === 'test';\r\n\r\n  // Handle new search from header - makes its own API request\r\n  const handleHeaderSearch = async (searchQuery: string) => {\r\n    console.log('üîç HEADER SEARCH initiated:', { searchQuery });\r\n    \r\n    if (!searchQuery.trim()) return;\r\n    \r\n    setIsHeaderSearchLoading(true);\r\n    \r\n    try {\r\n      logger.debug('Header search: Making WiHy API call', { query: searchQuery });\r\n      \r\n      const wihyResponse = await wihyAPI.searchHealth(searchQuery);\r\n      \r\n      if (wihyResponse.success) {\r\n        // Extract response content\r\n        let summary = 'Health information provided';\r\n        if ('data' in wihyResponse) {\r\n          // New unified API response format\r\n          summary = (wihyResponse as any).data?.response || \r\n                   (wihyResponse as any).data?.ai_response?.response || \r\n                   summary;\r\n        } else {\r\n          // Legacy WihyResponse format\r\n          summary = (wihyResponse as any).wihy_response?.core_principle || summary;\r\n        }\r\n        \r\n        // Update our local state and add to chat conversation\r\n        setHeaderSearchResults(summary);\r\n        setHeaderSearchQuery(searchQuery);\r\n        setHeaderApiResponse(wihyResponse);\r\n        \r\n        // Add the new search to the existing chat conversation\r\n        handleAddToChatConversation(searchQuery, summary);\r\n        \r\n        console.log('üîç HEADER SEARCH state updated:', {\r\n          query: searchQuery,\r\n          hasResults: !!summary,\r\n          timestamp: new Date().toISOString()\r\n        });\r\n        \r\n        logger.info('Header search completed successfully', { query: searchQuery });\r\n        \r\n        console.log('üîç HEADER SEARCH completed:', {\r\n          query: searchQuery,\r\n          success: true,\r\n          hasResponse: !!summary,\r\n          timestamp: new Date().toISOString()\r\n        });\r\n        \r\n      } else {\r\n        throw new Error('WiHy API request failed');\r\n      }\r\n      \r\n    } catch (error) {\r\n      logger.error('Header search failed:', error);\r\n      setHeaderSearchResults('Sorry, there was an error processing your search. Please try again.');\r\n      setHeaderApiResponse(null);\r\n      \r\n      console.log('üîç HEADER SEARCH failed:', {\r\n        query: searchQuery,\r\n        error: error.message,\r\n        timestamp: new Date().toISOString()\r\n      });\r\n    } finally {\r\n      setIsHeaderSearchLoading(false);\r\n    }\r\n  };\r\n\r\n  // Handle new search from ChatWidget\r\n  const handleChatSearch = (query: string) => {\r\n    console.log('üîç ChatWidget triggered new search:', { query });\r\n    // Clear any header search results when using ChatWidget\r\n    setHeaderSearchResults('');\r\n    setHeaderSearchQuery('');\r\n    setHeaderApiResponse(null);\r\n    // Use the main navigation flow for ChatWidget searches\r\n    onNewSearch(query);\r\n  };\r\n\r\n  // Handle header search - add messages to existing conversation\r\n  const handleAddToChatConversation = (userMessage: string, assistantMessage: string) => {\r\n    console.log('üîç ATTEMPTING TO ADD TO CHAT:', {\r\n      userMessage,\r\n      assistantMessage: assistantMessage.substring(0, 100) + '...',\r\n      hasAddChatMessage: !!(window as any).addChatMessage,\r\n      timestamp: new Date().toISOString()\r\n    });\r\n    \r\n    if ((window as any).addChatMessage) {\r\n      (window as any).addChatMessage(userMessage, assistantMessage);\r\n    } else {\r\n      console.error('üîç addChatMessage function not available on window');\r\n    }\r\n  };\r\n\r\n  // Debug logging for state changes\r\n  useEffect(() => {\r\n    console.log('üîç SEARCHRESULTS STATE DEBUG:', {\r\n      headerSearchQuery,\r\n      originalQuery: query,\r\n      hasHeaderSearchResults: !!headerSearchResults,\r\n      isHeaderSearchLoading,\r\n      chatWidgetKey: `chatwidget-${headerSearchQuery || query}`,\r\n      timestamp: new Date().toISOString()\r\n    });\r\n  }, [headerSearchQuery, headerSearchResults, query, isHeaderSearchLoading]);\r\n\r\n  // Clear header search results when main query changes\r\n  useEffect(() => {\r\n    if (query && headerSearchQuery && query !== headerSearchQuery) {\r\n      console.log('üîç Main query changed, clearing header search results');\r\n      setHeaderSearchResults('');\r\n      setHeaderSearchQuery('');\r\n      setHeaderApiResponse(null);\r\n    }\r\n  }, [query, headerSearchQuery]);\r\n\r\n  return (\r\n    <div className=\"search-results-container\" style={{ \r\n      minHeight: '100vh',\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      paddingTop: 'var(--vh-header-height)',\r\n      overflow: 'hidden'\r\n    }}>\r\n      <div style={{ \r\n        position: 'fixed',\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        zIndex: 1000, \r\n        backgroundColor: 'white'\r\n      }}>\r\n        <Header\r\n          variant=\"results\"\r\n          showLogin={true}\r\n          showSearchInput={true}\r\n          onSearchSubmit={handleHeaderSearch}\r\n        />\r\n      </div>\r\n\r\n      {/* Show spinner when loading from parent OR header search */}\r\n      {(isLoading || isHeaderSearchLoading) && (\r\n        <Spinner\r\n          overlay={true}\r\n          title=\"Analyzing with AI...\"\r\n          subtitle=\"Processing your health query...\"\r\n          disableEsc={true}\r\n        />\r\n      )}\r\n      \r\n      {/* Main Content Area with Dashboard Layout */}\r\n      <div style={{ \r\n        minHeight: 'calc(100vh - var(--vh-header-height))',\r\n        overflow: 'hidden',\r\n        padding: windowWidth <= 768 ? '12px' : '20px',\r\n        backgroundColor: '#f8fafc'\r\n      }}>\r\n        \r\n        {hasValidResults ? (\r\n          <div style={{\r\n            display: 'grid',\r\n            gridTemplateColumns: windowWidth <= 768 ? '1fr' : '2fr 1fr',\r\n            gridTemplateRows: windowWidth <= 768 ? '1fr 300px' : '1fr',\r\n            gap: '20px',\r\n            maxWidth: '1200px',\r\n            margin: '0 auto',\r\n            minHeight: 'calc(100vh - var(--vh-header-height) - 40px)', // Account for padding\r\n            overflow: 'hidden'\r\n          }}>\r\n            \r\n            {/* Chat Widget as Main Content */}\r\n            <div style={{\r\n              backgroundColor: 'white',\r\n              borderRadius: '12px',\r\n              border: '1px solid #e5e7eb',\r\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\r\n              padding: windowWidth <= 768 ? '16px' : '24px',\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              overflow: 'hidden'\r\n            }}>\r\n              {/* Chat Widget - header now included inside */}\r\n              <div style={{ flex: 1, overflow: 'hidden' }}>\r\n                <ChatWidget\r\n                  key={`chatwidget-${query}`} // Stable key since we're adding to conversation instead of replacing\r\n                  isOpen={true}\r\n                  onClose={() => {}}\r\n                  currentContext={currentContext}\r\n                  inline={true}\r\n                  searchQuery={query} // Always use original query for initialization\r\n                  onNewSearch={handleChatSearch}\r\n                  onAddMessage={handleAddToChatConversation}\r\n                  searchResponse={(() => {\r\n                    // Use original results for initialization, header search will be added via onAddMessage\r\n                    let extractedResponse = '';\r\n                    if (apiResponse?.data?.ai_response?.response) {\r\n                      extractedResponse = apiResponse.data.ai_response.response;\r\n                    } else if (apiResponse?.data?.response) {\r\n                      extractedResponse = apiResponse.data.response;\r\n                    } else {\r\n                      extractedResponse = results;\r\n                    }\r\n                    \r\n                    // Simplified logging\r\n                    console.log('üîç SEARCHRESULTS: Using results for ChatWidget initialization');\r\n                    \r\n                    return extractedResponse;\r\n                  })()}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Charts Sidebar */}\r\n            <div style={{\r\n              padding: windowWidth <= 768 ? '16px' : '20px',\r\n              backgroundColor: '#ffffff',\r\n              borderRadius: '12px',\r\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              overflow: 'hidden'\r\n            }}>\r\n              <h3 style={{ marginBottom: '20px', color: '#1f2937', fontSize: '18px', fontWeight: '600', flexShrink: 0 }}>\r\n                Analysis Charts\r\n              </h3>\r\n              <div style={{ \r\n                display: 'flex', \r\n                flexDirection: 'column', \r\n                gap: '20px',\r\n                flex: 1,\r\n                overflow: 'auto',\r\n                paddingRight: '4px'\r\n              }}>\r\n                {(results || headerSearchResults) && (\r\n                  <>\r\n                    <div>\r\n                      <h4 style={{ marginBottom: '12px', color: '#374151', fontSize: '14px' }}>Quality Analysis</h4>\r\n                      <ResultQualityPie \r\n                        apiResponse={headerApiResponse || apiResponse}\r\n                        query={headerSearchQuery || query}\r\n                        results={headerSearchResults || results} \r\n                        dataSource={dataSource === 'wihy' ? 'vnutrition' : dataSource}\r\n                      />\r\n                    </div>\r\n                    {/* Chart components removed - now handled by vHealthApp with new API structure */}\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          !isLoading && !isSearching && (\r\n            <div style={{ \r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              height: '100%',\r\n              textAlign: 'center', \r\n              padding: '40px',\r\n              color: '#6b7280'\r\n            }}>\r\n              <p>No results to display. Try searching for something else.</p>\r\n            </div>\r\n          )\r\n        )}\r\n      </div>\r\n\r\n      {/* ImageUploadModal - always available */}\r\n      <ImageUploadModal\r\n        isOpen={isUploadModalOpen}\r\n        onClose={() => setIsUploadModalOpen(false)}\r\n        onAnalysisComplete={handleAnalysisComplete}\r\n        title=\"Upload Image\"\r\n        subtitle=\"Upload images for analysis\"\r\n      />\r\n      \r\n      {/* Add CSS for header search loading animation */}\r\n      <style>{`\r\n        @keyframes spin {\r\n          0% { transform: rotate(0deg); }\r\n          100% { transform: rotate(360deg); }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default SearchResults;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}