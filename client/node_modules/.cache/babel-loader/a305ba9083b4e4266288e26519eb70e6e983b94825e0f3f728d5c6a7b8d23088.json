{"ast":null,"code":"// vHealth News API Client Integration\n// Swagger UI Documentation: https://services.wihy.ai/api/docs\n\n// API Configuration\nconst API_BASE_URL = {\n  production: 'https://services.wihy.ai',\n  development: 'http://localhost:5001'\n};\n\n// Local cache configuration\nconst CACHE_DURATION = 5 * 60 * 1000; // 5 minutes in milliseconds\nconst ARTICLES_PER_PAGE = 12;\nconst API_FETCH_LIMIT = 100;\nclass NewsCache {\n  constructor() {\n    this.cache = new Map();\n  }\n  getCacheKey(params) {\n    return JSON.stringify(params);\n  }\n  get(params) {\n    const key = this.getCacheKey(params);\n    const cached = this.cache.get(key);\n    if (!cached) return null;\n\n    // Check if cache is expired (5 minutes)\n    if (Date.now() - cached.timestamp > CACHE_DURATION) {\n      this.cache.delete(key);\n      return null;\n    }\n    return cached;\n  }\n  set(params, data, totalCount) {\n    const key = this.getCacheKey(params);\n    this.cache.set(key, {\n      articles: data,\n      timestamp: Date.now(),\n      totalCount\n    });\n  }\n  clear() {\n    this.cache.clear();\n  }\n}\nclass VHealthNewsClient {\n  constructor(baseUrl) {\n    this.baseUrl = void 0;\n    this.cache = void 0;\n    // Use production by default\n    this.baseUrl = baseUrl || API_BASE_URL.production;\n    this.cache = new NewsCache();\n  }\n  async getArticles(params = {}) {\n    const cacheParams = {\n      category: params.category,\n      fresh: params.fresh\n    };\n\n    // Check cache first (unless fresh is explicitly requested or cache is disabled)\n    if (params.useCache !== false && !params.fresh) {\n      const cached = this.cache.get(cacheParams);\n      if (cached) {\n        if (process.env.NODE_ENV === 'development') {\n          console.log('📱 Serving from cache:', {\n            totalArticles: cached.articles.length,\n            cacheAge: Math.round((Date.now() - cached.timestamp) / 1000) + 's'\n          });\n        }\n        return {\n          success: true,\n          articles: cached.articles,\n          count: cached.totalCount,\n          meta: {\n            cache_info: {\n              served_from_cache: true,\n              cache_size: cached.articles.length,\n              last_refresh: new Date(cached.timestamp).toISOString(),\n              last_top_refresh: new Date(cached.timestamp).toISOString(),\n              cache_age_minutes: Math.round((Date.now() - cached.timestamp) / 60000)\n            }\n          }\n        };\n      }\n    }\n\n    // Fetch from API with increased limit for better caching\n    const queryParams = new URLSearchParams();\n    const fetchLimit = API_FETCH_LIMIT; // Always fetch 100 for better caching\n    queryParams.append('limit', fetchLimit.toString());\n    if (params.category) queryParams.append('category', params.category);\n    if (params.fresh !== undefined) queryParams.append('fresh', params.fresh.toString());\n    const fullUrl = `${this.baseUrl}/api/news/articles?${queryParams}`;\n    if (process.env.NODE_ENV === 'development') {\n      console.log('🌐 Making API request to:', fullUrl);\n    }\n    const response = await fetch(fullUrl, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    if (!response.ok) {\n      throw new Error(`vHealth News API error! status: ${response.status}`);\n    }\n    const data = await response.json();\n\n    // Debug: Log API response summary (development only)\n    if (process.env.NODE_ENV === 'development') {\n      var _data$articles, _data$articles2, _data$articles3;\n      console.log('� News API Response Summary:', {\n        success: data.success,\n        totalArticles: ((_data$articles = data.articles) === null || _data$articles === void 0 ? void 0 : _data$articles.length) || 0,\n        articlesWithImages: ((_data$articles2 = data.articles) === null || _data$articles2 === void 0 ? void 0 : _data$articles2.filter(a => a.has_image && a.image_url).length) || 0,\n        articlesWithoutImages: ((_data$articles3 = data.articles) === null || _data$articles3 === void 0 ? void 0 : _data$articles3.filter(a => !a.has_image || !a.image_url).length) || 0\n      });\n\n      // Log a sample of image statuses\n      if (data.articles && data.articles.length > 0) {\n        const imageStatuses = data.articles.slice(0, 3).map(article => {\n          var _article$title;\n          return {\n            title: ((_article$title = article.title) === null || _article$title === void 0 ? void 0 : _article$title.substring(0, 40)) + '...',\n            has_image: article.has_image,\n            image_url: article.image_url ? 'present' : 'null',\n            image_status: article.image_status\n          };\n        });\n        console.log('📸 Sample image statuses:', imageStatuses);\n      }\n    }\n\n    // Add legacy compatibility fields to articles\n    const articles = data.articles || [];\n    const processedArticles = articles.map(article => ({\n      ...article,\n      // Ensure core fields are properly mapped\n      has_author: !!article.author,\n      // Legacy compatibility fields\n      published_date: article.published_at,\n      publishedDate: article.published_at,\n      pubDate: article.published_at,\n      category: article.ai_category,\n      summary: article.description,\n      tags: article.ai_category ? [article.ai_category, article.source] : [article.source],\n      media_url: article.image_url,\n      // Map image_url to media_url for legacy compatibility\n      media_thumb_url: article.image_url,\n      // Map image_url to media_thumb_url for legacy compatibility\n      relevanceScore: article.quality_score ? article.quality_score / 10 : 0.5,\n      link: article.url\n    }));\n\n    // Cache the results for future use\n    if (params.useCache !== false) {\n      this.cache.set(cacheParams, processedArticles, data.count || processedArticles.length);\n    }\n    return {\n      success: data.success !== false,\n      articles: processedArticles,\n      count: data.count || processedArticles.length,\n      meta: {\n        ...data.meta,\n        cache_info: {\n          served_from_cache: false,\n          cache_size: processedArticles.length,\n          last_refresh: new Date().toISOString(),\n          last_top_refresh: new Date().toISOString(),\n          cache_age_minutes: 0\n        }\n      },\n      // Legacy compatibility fields extracted from meta\n      sources_used: data.sources_used || [],\n      timestamp: data.timestamp || new Date().toISOString()\n    };\n  }\n  clearCache() {\n    this.cache.clear();\n  }\n  async getCategories() {\n    const response = await fetch(`${this.baseUrl}/api/news/categories`);\n    if (!response.ok) {\n      throw new Error(`vHealth News API error! status: ${response.status}`);\n    }\n    return response.json();\n  }\n  async getStats() {\n    const response = await fetch(`${this.baseUrl}/api/news/stats`);\n    if (!response.ok) {\n      throw new Error(`vHealth News API error! status: ${response.status}`);\n    }\n    return response.json();\n  }\n  async healthCheck() {\n    const response = await fetch(`${this.baseUrl}/api/health`);\n    if (!response.ok) {\n      throw new Error(`vHealth News API error! status: ${response.status}`);\n    }\n    return response.json();\n  }\n  async testSource(source, limit = 5) {\n    const response = await fetch(`${this.baseUrl}/api/news/test/${source}?limit=${limit}`);\n    if (!response.ok) {\n      throw new Error(`vHealth News API error! status: ${response.status}`);\n    }\n    return response.json();\n  }\n}\n\n// Initialize the client\nconst newsClient = new VHealthNewsClient();\n\n// Simple function to fetch news feed - API handles all filtering\nexport const fetchNewsFeed = async (categories, limit) => {\n  try {\n    // Simple API call - no client-side filtering needed\n    const response = await newsClient.getArticles({\n      limit: limit || 100,\n      fresh: true,\n      // Always get fresh articles\n      useCache: false // Disable cache to ensure fresh content\n    });\n    return {\n      success: response.success,\n      articles: response.articles\n    };\n  } catch (error) {\n    console.error('vHealth News API error:', error);\n    return {\n      success: false,\n      articles: []\n    };\n  }\n};\nexport const getArticlesByCategory = async (category, limit) => {\n  try {\n    // Simple API call with category - API handles filtering\n    const response = await newsClient.getArticles({\n      category,\n      limit: limit || 100,\n      fresh: true\n    });\n    return {\n      success: response.success,\n      articles: response.articles\n    };\n  } catch (error) {\n    console.error('vHealth News API error (category):', error);\n    return {\n      success: false,\n      articles: []\n    };\n  }\n};\nexport const refreshNewsFeed = async () => {\n  // Simple refresh - API handles everything\n  return await fetchNewsFeed(undefined, 100);\n};\nexport const searchNewsArticles = async (query, limit) => {\n  try {\n    // Simple search call - API handles query processing\n    const response = await newsClient.getArticles({\n      limit: limit || 100,\n      fresh: true\n    });\n    return {\n      success: response.success,\n      articles: response.articles\n    };\n  } catch (error) {\n    console.error('vHealth News API error (search):', error);\n    return {\n      success: false,\n      articles: []\n    };\n  }\n};\n\n// Simple function to get all news with pagination - API handles filtering and priority\nexport const getAllNews = async (limit = 100) => {\n  try {\n    // Simple API call - server handles all filtering, categorization, and priority sorting\n    const response = await newsClient.getArticles({\n      limit: limit,\n      fresh: true,\n      // Always get fresh articles\n      useCache: false // Disable cache to ensure fresh content\n    });\n    return {\n      success: response.success,\n      articles: response.articles,\n      count: response.count,\n      sources_used: response.sources_used || []\n    };\n  } catch (error) {\n    console.error('Error fetching all news:', error);\n    return {\n      success: false,\n      articles: [],\n      count: 0,\n      sources_used: []\n    };\n  }\n};\n\n// New paginated function that returns specific page from cached results\nexport const getPaginatedNews = async (page = 1, category) => {\n  try {\n    // Fetch full dataset (100 articles) and cache it\n    const response = await newsClient.getArticles({\n      limit: API_FETCH_LIMIT,\n      category: category,\n      fresh: true,\n      // Always get fresh articles\n      useCache: false // Disable cache to ensure fresh content\n    });\n    if (!response.success || !response.articles) {\n      return {\n        success: false,\n        articles: [],\n        totalCount: 0,\n        currentPage: page,\n        totalPages: 0,\n        hasNextPage: false,\n        hasPrevPage: false\n      };\n    }\n\n    // Calculate pagination\n    const totalCount = response.articles.length;\n    const totalPages = Math.ceil(totalCount / ARTICLES_PER_PAGE);\n    const startIndex = (page - 1) * ARTICLES_PER_PAGE;\n    const endIndex = startIndex + ARTICLES_PER_PAGE;\n    const paginatedArticles = response.articles.slice(startIndex, endIndex);\n    return {\n      success: true,\n      articles: paginatedArticles,\n      totalCount: totalCount,\n      currentPage: page,\n      totalPages: totalPages,\n      hasNextPage: page < totalPages,\n      hasPrevPage: page > 1\n    };\n  } catch (error) {\n    console.error('Error fetching paginated news:', error);\n    return {\n      success: false,\n      articles: [],\n      totalCount: 0,\n      currentPage: page,\n      totalPages: 0,\n      hasNextPage: false,\n      hasPrevPage: false\n    };\n  }\n};\n\n// New lazy loading function that returns all articles up to the current page\nexport const getLazyLoadedNews = async (page = 1, category) => {\n  try {\n    // Fetch full dataset (100 articles) and cache it\n    const response = await newsClient.getArticles({\n      limit: API_FETCH_LIMIT,\n      category: category,\n      fresh: true,\n      // Always get fresh articles\n      useCache: false // Disable cache to ensure fresh content\n    });\n    if (!response.success || !response.articles) {\n      return {\n        success: false,\n        articles: [],\n        newArticles: [],\n        totalCount: 0,\n        currentPage: page,\n        totalPages: 0,\n        hasNextPage: false,\n        loadedCount: 0\n      };\n    }\n\n    // Calculate lazy loading: return all articles from page 1 to current page\n    const totalCount = response.articles.length;\n    const totalPages = Math.ceil(totalCount / ARTICLES_PER_PAGE);\n    const loadedCount = Math.min(page * ARTICLES_PER_PAGE, totalCount);\n    const allArticles = response.articles.slice(0, loadedCount);\n\n    // Get just the new articles for this page (for appending)\n    const startIndex = (page - 1) * ARTICLES_PER_PAGE;\n    const endIndex = Math.min(startIndex + ARTICLES_PER_PAGE, totalCount);\n    const newArticles = response.articles.slice(startIndex, endIndex);\n    return {\n      success: true,\n      articles: allArticles,\n      // All articles from page 1 to current page\n      newArticles: newArticles,\n      // Just the new articles for this page\n      totalCount: totalCount,\n      currentPage: page,\n      totalPages: totalPages,\n      hasNextPage: page < totalPages,\n      loadedCount: loadedCount\n    };\n  } catch (error) {\n    console.error('Error fetching lazy loaded news:', error);\n    return {\n      success: false,\n      articles: [],\n      newArticles: [],\n      totalCount: 0,\n      currentPage: page,\n      totalPages: 0,\n      hasNextPage: false,\n      loadedCount: 0\n    };\n  }\n};\n\n// Clear cache function\nexport const clearNewsCache = () => {\n  newsClient.clearCache();\n};\nexport const getNewsCategories = async () => {\n  try {\n    const response = await newsClient.getCategories();\n    return response.success ? response.categories : [];\n  } catch (error) {\n    console.error('Error fetching categories:', error);\n    // Return default categories if API fails\n    return [{\n      category: 'Medical Research',\n      description: 'Latest medical studies and breakthroughs'\n    }, {\n      category: 'Clinical Studies',\n      description: 'Clinical trials and medical research'\n    }, {\n      category: 'Public Health',\n      description: 'Community health and disease prevention'\n    }, {\n      category: 'Prevention',\n      description: 'Preventive medicine and wellness'\n    }, {\n      category: 'Nutrition',\n      description: 'Diet, supplements, and nutritional research'\n    }, {\n      category: 'Mental Health',\n      description: 'Mental wellness and psychological health'\n    }, {\n      category: 'Health Technology',\n      description: 'Health tech and medical AI innovations'\n    }, {\n      category: 'Medical Technology',\n      description: 'Medical devices and healthcare technology'\n    }, {\n      category: 'General Health',\n      description: 'General health news and information'\n    }, {\n      category: 'Environment',\n      description: 'Environmental health and sustainability'\n    }, {\n      category: 'Technology',\n      description: 'Tech innovations and digital trends'\n    }, {\n      category: 'General News',\n      description: 'General news and current events'\n    }];\n  }\n};\nexport const getNewsStats = async () => {\n  try {\n    return await newsClient.getStats();\n  } catch (error) {\n    console.error('Error fetching news stats:', error);\n    return {\n      error: 'Stats unavailable'\n    };\n  }\n};\nexport const checkNewsServiceHealth = async () => {\n  try {\n    const health = await newsClient.healthCheck();\n    return health.status === 'healthy';\n  } catch (error) {\n    console.error('News service health check failed:', error);\n    return false;\n  }\n};\n\n// Helper functions to extract information from the new meta structure\nexport const getImageStats = response => {\n  var _response$meta;\n  return ((_response$meta = response.meta) === null || _response$meta === void 0 ? void 0 : _response$meta.image_stats) || null;\n};\nexport const getCacheInfo = response => {\n  var _response$meta2;\n  return ((_response$meta2 = response.meta) === null || _response$meta2 === void 0 ? void 0 : _response$meta2.cache_info) || null;\n};\nexport const getPriorityInfo = response => {\n  var _response$meta3;\n  return ((_response$meta3 = response.meta) === null || _response$meta3 === void 0 ? void 0 : _response$meta3.priority_sorting) || null;\n};\nexport const getRecencyStats = response => {\n  var _response$meta4;\n  return ((_response$meta4 = response.meta) === null || _response$meta4 === void 0 ? void 0 : _response$meta4.recency_stats) || null;\n};\nexport const getCategoryDistribution = response => {\n  var _response$meta5;\n  return ((_response$meta5 = response.meta) === null || _response$meta5 === void 0 ? void 0 : _response$meta5.category_distribution) || {};\n};\nexport const getCategoryPriorities = response => {\n  var _response$meta6, _response$meta7, _response$meta7$prior;\n  return ((_response$meta6 = response.meta) === null || _response$meta6 === void 0 ? void 0 : _response$meta6.category_priorities) || ((_response$meta7 = response.meta) === null || _response$meta7 === void 0 ? void 0 : (_response$meta7$prior = _response$meta7.priority_sorting) === null || _response$meta7$prior === void 0 ? void 0 : _response$meta7$prior.category_priorities) || {};\n};\n\n// Export the client for advanced usage\nexport { VHealthNewsClient, newsClient };\n\n// Export pagination constants\nexport { ARTICLES_PER_PAGE, API_FETCH_LIMIT, CACHE_DURATION };","map":{"version":3,"names":["API_BASE_URL","production","development","CACHE_DURATION","ARTICLES_PER_PAGE","API_FETCH_LIMIT","NewsCache","constructor","cache","Map","getCacheKey","params","JSON","stringify","get","key","cached","Date","now","timestamp","delete","set","data","totalCount","articles","clear","VHealthNewsClient","baseUrl","getArticles","cacheParams","category","fresh","useCache","process","env","NODE_ENV","console","log","totalArticles","length","cacheAge","Math","round","success","count","meta","cache_info","served_from_cache","cache_size","last_refresh","toISOString","last_top_refresh","cache_age_minutes","queryParams","URLSearchParams","fetchLimit","append","toString","undefined","fullUrl","response","fetch","method","headers","ok","Error","status","json","_data$articles","_data$articles2","_data$articles3","articlesWithImages","filter","a","has_image","image_url","articlesWithoutImages","imageStatuses","slice","map","article","_article$title","title","substring","image_status","processedArticles","has_author","author","published_date","published_at","publishedDate","pubDate","ai_category","summary","description","tags","source","media_url","media_thumb_url","relevanceScore","quality_score","link","url","sources_used","clearCache","getCategories","getStats","healthCheck","testSource","limit","newsClient","fetchNewsFeed","categories","error","getArticlesByCategory","refreshNewsFeed","searchNewsArticles","query","getAllNews","getPaginatedNews","page","currentPage","totalPages","hasNextPage","hasPrevPage","ceil","startIndex","endIndex","paginatedArticles","getLazyLoadedNews","newArticles","loadedCount","min","allArticles","clearNewsCache","getNewsCategories","getNewsStats","checkNewsServiceHealth","health","getImageStats","_response$meta","image_stats","getCacheInfo","_response$meta2","getPriorityInfo","_response$meta3","priority_sorting","getRecencyStats","_response$meta4","recency_stats","getCategoryDistribution","_response$meta5","category_distribution","getCategoryPriorities","_response$meta6","_response$meta7","_response$meta7$prior","category_priorities"],"sources":["C:/repo/wihy_ui/client/src/services/newsService.ts"],"sourcesContent":["// vHealth News API Client Integration\r\n// Swagger UI Documentation: https://services.wihy.ai/api/docs\r\n\r\nexport interface NewsArticle {\r\n  // Article Identity\r\n  id: string;\r\n  title: string;\r\n  description: string;\r\n  content?: string;\r\n  url: string;\r\n  \r\n  // Source Information\r\n  source: string;\r\n  api_source?: 'NewsAPI' | 'GNews' | 'NewsData' | 'MediaStack';\r\n  author: string | null;\r\n  published_at: string; // API uses published_at\r\n  \r\n  // AI Categorization\r\n  ai_category: string;\r\n  category_priority?: number;\r\n  priority_position?: number;\r\n  \r\n  // Image Data (Complete)\r\n  image_url: string | null;\r\n  has_image: boolean;\r\n  image_status?: 'original' | 'generated' | 'missing';\r\n  image_source?: 'unsplash' | 'pexels' | 'pixabay' | 'extracted';\r\n  image_attribution?: string;\r\n  photographer?: string;\r\n  \r\n  // Enriched Metadata\r\n  time_ago: string;\r\n  is_recent: boolean;\r\n  reading_time: number; // Minutes\r\n  quality_score: number; // 0-10 scale\r\n  \r\n  // Legacy compatibility fields\r\n  published_date?: string; // Alternative date field\r\n  publishedDate?: string; // Alternative date field\r\n  pubDate?: string; // Alternative date field\r\n  category?: string; // Maps to ai_category\r\n  has_author?: boolean; // Computed from author field\r\n  tags?: string[]; // Legacy compatibility\r\n  summary?: string; // Maps to description\r\n  media_url?: string; // Maps to image_url\r\n  media_thumb_url?: string; // Maps to image_url\r\n  relevanceScore?: number; // Maps to quality_score\r\n  link?: string; // Maps to url\r\n}\r\n\r\nexport interface ArticlesResponse {\r\n  success: boolean;\r\n  articles: NewsArticle[];\r\n  count: number;\r\n  meta?: {\r\n    // Cache Information\r\n    total_articles?: number;\r\n    returned_articles?: number;\r\n    cache_info?: {\r\n      served_from_cache: boolean;\r\n      cache_size: number;\r\n      last_refresh: string;\r\n      last_top_refresh: string;\r\n      cache_age_minutes: number;\r\n    };\r\n    \r\n    // Sorting Information\r\n    sorting?: {\r\n      sort_by: string;\r\n      sort_order: string;\r\n      sorted_field: string;\r\n    };\r\n    \r\n    // Image Statistics\r\n    image_stats?: {\r\n      total_articles: number;\r\n      articles_with_images: number;\r\n      image_percentage: number;\r\n      original_images: number;\r\n      generated_images: number;\r\n      ai_enhanced_images: number;\r\n      sources: {\r\n        extracted: number;\r\n        unsplash: number;\r\n        pexels: number;\r\n        pixabay: number;\r\n      };\r\n    };\r\n    \r\n    // Pagination\r\n    pagination?: {\r\n      total_items: number;\r\n      current_page: number;\r\n      per_page: number;\r\n      has_next_page: boolean;\r\n    };\r\n    \r\n    // Applied Filters\r\n    filters_applied?: {\r\n      images_only: boolean;\r\n      top_articles_only: boolean;\r\n      limit: number;\r\n      offset: number;\r\n      category?: string | null;\r\n      source?: string;\r\n      ai_categorization?: boolean;\r\n    };\r\n    \r\n    // Priority Sorting System\r\n    priority_sorting?: {\r\n      enabled: boolean;\r\n      description: string;\r\n      sorting_order: string;\r\n      total: number;\r\n      priority_categories: number;\r\n      discovered_categories: number;\r\n      categories: string[];\r\n      category_priorities: Record<string, number>;\r\n      dynamic_learning: string;\r\n    };\r\n    \r\n    // Adaptive Recency System\r\n    recency_stats?: {\r\n      recent_articles: number;\r\n      older_articles: number;\r\n      threshold: string;\r\n      threshold_description: string;\r\n      adaptive_sorting?: string;\r\n    };\r\n    \r\n    // Category Distribution (Current Response)\r\n    category_distribution?: Record<string, number>;\r\n    \r\n    // Category Priorities (Duplicate for convenience)\r\n    category_priorities?: Record<string, number>;\r\n  };\r\n  \r\n  // Legacy compatibility fields\r\n  sources_used?: string[];\r\n  timestamp?: string;\r\n}\r\n\r\nexport interface Category {\r\n  category: string;\r\n  description: string;\r\n}\r\n\r\n// API Configuration\r\nconst API_BASE_URL = {\r\n  production: 'https://services.wihy.ai',\r\n  development: 'http://localhost:5001'\r\n};\r\n\r\n// Local cache configuration\r\nconst CACHE_DURATION = 5 * 60 * 1000; // 5 minutes in milliseconds\r\nconst ARTICLES_PER_PAGE = 12;\r\nconst API_FETCH_LIMIT = 100;\r\n\r\ninterface CachedData {\r\n  articles: NewsArticle[];\r\n  timestamp: number;\r\n  totalCount: number;\r\n}\r\n\r\nclass NewsCache {\r\n  private cache: Map<string, CachedData> = new Map();\r\n\r\n  private getCacheKey(params: any): string {\r\n    return JSON.stringify(params);\r\n  }\r\n\r\n  get(params: any): CachedData | null {\r\n    const key = this.getCacheKey(params);\r\n    const cached = this.cache.get(key);\r\n    \r\n    if (!cached) return null;\r\n    \r\n    // Check if cache is expired (5 minutes)\r\n    if (Date.now() - cached.timestamp > CACHE_DURATION) {\r\n      this.cache.delete(key);\r\n      return null;\r\n    }\r\n    \r\n    return cached;\r\n  }\r\n\r\n  set(params: any, data: NewsArticle[], totalCount: number): void {\r\n    const key = this.getCacheKey(params);\r\n    this.cache.set(key, {\r\n      articles: data,\r\n      timestamp: Date.now(),\r\n      totalCount\r\n    });\r\n  }\r\n\r\n  clear(): void {\r\n    this.cache.clear();\r\n  }\r\n}\r\n\r\nclass VHealthNewsClient {\r\n  private baseUrl: string;\r\n  private cache: NewsCache;\r\n\r\n  constructor(baseUrl?: string) {\r\n    // Use production by default\r\n    this.baseUrl = baseUrl || API_BASE_URL.production;\r\n    this.cache = new NewsCache();\r\n  }\r\n\r\n  async getArticles(params: {\r\n    limit?: number;\r\n    category?: string;\r\n    fresh?: boolean;\r\n    useCache?: boolean;\r\n  } = {}): Promise<ArticlesResponse> {\r\n    const cacheParams = {\r\n      category: params.category,\r\n      fresh: params.fresh\r\n    };\r\n\r\n    // Check cache first (unless fresh is explicitly requested or cache is disabled)\r\n    if (params.useCache !== false && !params.fresh) {\r\n      const cached = this.cache.get(cacheParams);\r\n      if (cached) {\r\n        if (process.env.NODE_ENV === 'development') {\r\n          console.log('📱 Serving from cache:', {\r\n            totalArticles: cached.articles.length,\r\n            cacheAge: Math.round((Date.now() - cached.timestamp) / 1000) + 's'\r\n          });\r\n        }\r\n        \r\n        return {\r\n          success: true,\r\n          articles: cached.articles,\r\n          count: cached.totalCount,\r\n          meta: {\r\n            cache_info: {\r\n              served_from_cache: true,\r\n              cache_size: cached.articles.length,\r\n              last_refresh: new Date(cached.timestamp).toISOString(),\r\n              last_top_refresh: new Date(cached.timestamp).toISOString(),\r\n              cache_age_minutes: Math.round((Date.now() - cached.timestamp) / 60000)\r\n            }\r\n          }\r\n        };\r\n      }\r\n    }\r\n\r\n    // Fetch from API with increased limit for better caching\r\n    const queryParams = new URLSearchParams();\r\n    const fetchLimit = API_FETCH_LIMIT; // Always fetch 100 for better caching\r\n    queryParams.append('limit', fetchLimit.toString());\r\n    \r\n    if (params.category) queryParams.append('category', params.category);\r\n    if (params.fresh !== undefined) queryParams.append('fresh', params.fresh.toString());\r\n\r\n    const fullUrl = `${this.baseUrl}/api/news/articles?${queryParams}`;\r\n    \r\n    if (process.env.NODE_ENV === 'development') {\r\n      console.log('🌐 Making API request to:', fullUrl);\r\n    }\r\n\r\n    const response = await fetch(fullUrl, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    });\r\n    \r\n    if (!response.ok) {\r\n      throw new Error(`vHealth News API error! status: ${response.status}`);\r\n    }\r\n    \r\n    const data: ArticlesResponse = await response.json();\r\n    \r\n    // Debug: Log API response summary (development only)\r\n    if (process.env.NODE_ENV === 'development') {\r\n      console.log('� News API Response Summary:', {\r\n        success: data.success,\r\n        totalArticles: data.articles?.length || 0,\r\n        articlesWithImages: data.articles?.filter(a => a.has_image && a.image_url).length || 0,\r\n        articlesWithoutImages: data.articles?.filter(a => !a.has_image || !a.image_url).length || 0\r\n      });\r\n      \r\n      // Log a sample of image statuses\r\n      if (data.articles && data.articles.length > 0) {\r\n        const imageStatuses = data.articles.slice(0, 3).map(article => ({\r\n          title: article.title?.substring(0, 40) + '...',\r\n          has_image: article.has_image,\r\n          image_url: article.image_url ? 'present' : 'null',\r\n          image_status: article.image_status\r\n        }));\r\n        console.log('📸 Sample image statuses:', imageStatuses);\r\n      }\r\n    }\r\n    \r\n    // Add legacy compatibility fields to articles\r\n    const articles = data.articles || [];\r\n    const processedArticles = articles.map(article => ({\r\n      ...article,\r\n      // Ensure core fields are properly mapped\r\n      has_author: !!article.author,\r\n      // Legacy compatibility fields\r\n      published_date: article.published_at,\r\n      publishedDate: article.published_at,\r\n      pubDate: article.published_at,\r\n      category: article.ai_category,\r\n      summary: article.description,\r\n      tags: article.ai_category ? [article.ai_category, article.source] : [article.source],\r\n      media_url: article.image_url, // Map image_url to media_url for legacy compatibility\r\n      media_thumb_url: article.image_url, // Map image_url to media_thumb_url for legacy compatibility\r\n      relevanceScore: article.quality_score ? article.quality_score / 10 : 0.5,\r\n      link: article.url\r\n    }));\r\n\r\n    // Cache the results for future use\r\n    if (params.useCache !== false) {\r\n      this.cache.set(cacheParams, processedArticles, data.count || processedArticles.length);\r\n    }\r\n    \r\n    return {\r\n      success: data.success !== false,\r\n      articles: processedArticles,\r\n      count: data.count || processedArticles.length,\r\n      meta: {\r\n        ...data.meta,\r\n        cache_info: {\r\n          served_from_cache: false,\r\n          cache_size: processedArticles.length,\r\n          last_refresh: new Date().toISOString(),\r\n          last_top_refresh: new Date().toISOString(),\r\n          cache_age_minutes: 0\r\n        }\r\n      },\r\n      // Legacy compatibility fields extracted from meta\r\n      sources_used: data.sources_used || [],\r\n      timestamp: data.timestamp || new Date().toISOString()\r\n    };\r\n  }\r\n\r\n  clearCache(): void {\r\n    this.cache.clear();\r\n  }\r\n\r\n  async getCategories(): Promise<{ success: boolean; categories: Category[] }> {\r\n    const response = await fetch(`${this.baseUrl}/api/news/categories`);\r\n    \r\n    if (!response.ok) {\r\n      throw new Error(`vHealth News API error! status: ${response.status}`);\r\n    }\r\n    \r\n    return response.json();\r\n  }\r\n\r\n  async getStats(): Promise<any> {\r\n    const response = await fetch(`${this.baseUrl}/api/news/stats`);\r\n    \r\n    if (!response.ok) {\r\n      throw new Error(`vHealth News API error! status: ${response.status}`);\r\n    }\r\n    \r\n    return response.json();\r\n  }\r\n\r\n  async healthCheck(): Promise<{ status: string; timestamp: string }> {\r\n    const response = await fetch(`${this.baseUrl}/api/health`);\r\n    \r\n    if (!response.ok) {\r\n      throw new Error(`vHealth News API error! status: ${response.status}`);\r\n    }\r\n    \r\n    return response.json();\r\n  }\r\n\r\n  async testSource(source: 'newsapi' | 'gnews' | 'newsdata' | 'mediastack', limit: number = 5): Promise<any> {\r\n    const response = await fetch(`${this.baseUrl}/api/news/test/${source}?limit=${limit}`);\r\n    \r\n    if (!response.ok) {\r\n      throw new Error(`vHealth News API error! status: ${response.status}`);\r\n    }\r\n    \r\n    return response.json();\r\n  }\r\n}\r\n\r\n// Initialize the client\r\nconst newsClient = new VHealthNewsClient();\r\n\r\n// Simple function to fetch news feed - API handles all filtering\r\nexport const fetchNewsFeed = async (categories?: string[], limit?: number): Promise<{ success: boolean; articles: NewsArticle[] }> => {\r\n  try {\r\n    // Simple API call - no client-side filtering needed\r\n    const response = await newsClient.getArticles({\r\n      limit: limit || 100,\r\n      fresh: true, // Always get fresh articles\r\n      useCache: false // Disable cache to ensure fresh content\r\n    });\r\n    \r\n    return {\r\n      success: response.success,\r\n      articles: response.articles\r\n    };\r\n  } catch (error) {\r\n    console.error('vHealth News API error:', error);\r\n    return {\r\n      success: false,\r\n      articles: []\r\n    };\r\n  }\r\n};\r\n\r\nexport const getArticlesByCategory = async (category: string, limit?: number): Promise<{ success: boolean; articles: NewsArticle[] }> => {\r\n  try {\r\n    // Simple API call with category - API handles filtering\r\n    const response = await newsClient.getArticles({\r\n      category,\r\n      limit: limit || 100,\r\n      fresh: true\r\n    });\r\n    \r\n    return {\r\n      success: response.success,\r\n      articles: response.articles\r\n    };\r\n  } catch (error) {\r\n    console.error('vHealth News API error (category):', error);\r\n    return {\r\n      success: false,\r\n      articles: []\r\n    };\r\n  }\r\n};\r\n\r\nexport const refreshNewsFeed = async (): Promise<{ success: boolean; articles: NewsArticle[] }> => {\r\n  // Simple refresh - API handles everything\r\n  return await fetchNewsFeed(undefined, 100);\r\n};\r\n\r\nexport const searchNewsArticles = async (query: string, limit?: number): Promise<{ success: boolean; articles: NewsArticle[] }> => {\r\n  try {\r\n    // Simple search call - API handles query processing\r\n    const response = await newsClient.getArticles({\r\n      limit: limit || 100,\r\n      fresh: true\r\n    });\r\n    \r\n    return {\r\n      success: response.success,\r\n      articles: response.articles\r\n    };\r\n  } catch (error) {\r\n    console.error('vHealth News API error (search):', error);\r\n    return {\r\n      success: false,\r\n      articles: []\r\n    };\r\n  }\r\n};\r\n\r\n// Simple function to get all news with pagination - API handles filtering and priority\r\nexport const getAllNews = async (limit: number = 100): Promise<{ success: boolean; articles: NewsArticle[]; count: number; sources_used: string[] }> => {\r\n  try {\r\n    // Simple API call - server handles all filtering, categorization, and priority sorting\r\n    const response = await newsClient.getArticles({\r\n      limit: limit,\r\n      fresh: true, // Always get fresh articles\r\n      useCache: false // Disable cache to ensure fresh content\r\n    });\r\n    \r\n    return {\r\n      success: response.success,\r\n      articles: response.articles,\r\n      count: response.count,\r\n      sources_used: response.sources_used || []\r\n    };\r\n  } catch (error) {\r\n    console.error('Error fetching all news:', error);\r\n    return {\r\n      success: false,\r\n      articles: [],\r\n      count: 0,\r\n      sources_used: []\r\n    };\r\n  }\r\n};\r\n\r\n// New paginated function that returns specific page from cached results\r\nexport const getPaginatedNews = async (page: number = 1, category?: string): Promise<{\r\n  success: boolean;\r\n  articles: NewsArticle[];\r\n  totalCount: number;\r\n  currentPage: number;\r\n  totalPages: number;\r\n  hasNextPage: boolean;\r\n  hasPrevPage: boolean;\r\n}> => {\r\n  try {\r\n    // Fetch full dataset (100 articles) and cache it\r\n    const response = await newsClient.getArticles({\r\n      limit: API_FETCH_LIMIT,\r\n      category: category,\r\n      fresh: true, // Always get fresh articles\r\n      useCache: false // Disable cache to ensure fresh content\r\n    });\r\n\r\n    if (!response.success || !response.articles) {\r\n      return {\r\n        success: false,\r\n        articles: [],\r\n        totalCount: 0,\r\n        currentPage: page,\r\n        totalPages: 0,\r\n        hasNextPage: false,\r\n        hasPrevPage: false\r\n      };\r\n    }\r\n\r\n    // Calculate pagination\r\n    const totalCount = response.articles.length;\r\n    const totalPages = Math.ceil(totalCount / ARTICLES_PER_PAGE);\r\n    const startIndex = (page - 1) * ARTICLES_PER_PAGE;\r\n    const endIndex = startIndex + ARTICLES_PER_PAGE;\r\n    const paginatedArticles = response.articles.slice(startIndex, endIndex);\r\n\r\n    return {\r\n      success: true,\r\n      articles: paginatedArticles,\r\n      totalCount: totalCount,\r\n      currentPage: page,\r\n      totalPages: totalPages,\r\n      hasNextPage: page < totalPages,\r\n      hasPrevPage: page > 1\r\n    };\r\n  } catch (error) {\r\n    console.error('Error fetching paginated news:', error);\r\n    return {\r\n      success: false,\r\n      articles: [],\r\n      totalCount: 0,\r\n      currentPage: page,\r\n      totalPages: 0,\r\n      hasNextPage: false,\r\n      hasPrevPage: false\r\n    };\r\n  }\r\n};\r\n\r\n// New lazy loading function that returns all articles up to the current page\r\nexport const getLazyLoadedNews = async (page: number = 1, category?: string): Promise<{\r\n  success: boolean;\r\n  articles: NewsArticle[];\r\n  newArticles: NewsArticle[];\r\n  totalCount: number;\r\n  currentPage: number;\r\n  totalPages: number;\r\n  hasNextPage: boolean;\r\n  loadedCount: number;\r\n}> => {\r\n  try {\r\n    // Fetch full dataset (100 articles) and cache it\r\n    const response = await newsClient.getArticles({\r\n      limit: API_FETCH_LIMIT,\r\n      category: category,\r\n      fresh: true, // Always get fresh articles\r\n      useCache: false // Disable cache to ensure fresh content\r\n    });\r\n\r\n    if (!response.success || !response.articles) {\r\n      return {\r\n        success: false,\r\n        articles: [],\r\n        newArticles: [],\r\n        totalCount: 0,\r\n        currentPage: page,\r\n        totalPages: 0,\r\n        hasNextPage: false,\r\n        loadedCount: 0\r\n      };\r\n    }\r\n\r\n    // Calculate lazy loading: return all articles from page 1 to current page\r\n    const totalCount = response.articles.length;\r\n    const totalPages = Math.ceil(totalCount / ARTICLES_PER_PAGE);\r\n    const loadedCount = Math.min(page * ARTICLES_PER_PAGE, totalCount);\r\n    const allArticles = response.articles.slice(0, loadedCount);\r\n    \r\n    // Get just the new articles for this page (for appending)\r\n    const startIndex = (page - 1) * ARTICLES_PER_PAGE;\r\n    const endIndex = Math.min(startIndex + ARTICLES_PER_PAGE, totalCount);\r\n    const newArticles = response.articles.slice(startIndex, endIndex);\r\n\r\n    return {\r\n      success: true,\r\n      articles: allArticles, // All articles from page 1 to current page\r\n      newArticles: newArticles, // Just the new articles for this page\r\n      totalCount: totalCount,\r\n      currentPage: page,\r\n      totalPages: totalPages,\r\n      hasNextPage: page < totalPages,\r\n      loadedCount: loadedCount\r\n    };\r\n  } catch (error) {\r\n    console.error('Error fetching lazy loaded news:', error);\r\n    return {\r\n      success: false,\r\n      articles: [],\r\n      newArticles: [],\r\n      totalCount: 0,\r\n      currentPage: page,\r\n      totalPages: 0,\r\n      hasNextPage: false,\r\n      loadedCount: 0\r\n    };\r\n  }\r\n};\r\n\r\n// Clear cache function\r\nexport const clearNewsCache = (): void => {\r\n  newsClient.clearCache();\r\n};\r\n\r\nexport const getNewsCategories = async (): Promise<Category[]> => {\r\n  try {\r\n    const response = await newsClient.getCategories();\r\n    return response.success ? response.categories : [];\r\n  } catch (error) {\r\n    console.error('Error fetching categories:', error);\r\n    // Return default categories if API fails\r\n    return [\r\n      { category: 'Medical Research', description: 'Latest medical studies and breakthroughs' },\r\n      { category: 'Clinical Studies', description: 'Clinical trials and medical research' },\r\n      { category: 'Public Health', description: 'Community health and disease prevention' },\r\n      { category: 'Prevention', description: 'Preventive medicine and wellness' },\r\n      { category: 'Nutrition', description: 'Diet, supplements, and nutritional research' },\r\n      { category: 'Mental Health', description: 'Mental wellness and psychological health' },\r\n      { category: 'Health Technology', description: 'Health tech and medical AI innovations' },\r\n      { category: 'Medical Technology', description: 'Medical devices and healthcare technology' },\r\n      { category: 'General Health', description: 'General health news and information' },\r\n      { category: 'Environment', description: 'Environmental health and sustainability' },\r\n      { category: 'Technology', description: 'Tech innovations and digital trends' },\r\n      { category: 'General News', description: 'General news and current events' }\r\n    ];\r\n  }\r\n};\r\n\r\nexport const getNewsStats = async (): Promise<any> => {\r\n  try {\r\n    return await newsClient.getStats();\r\n  } catch (error) {\r\n    console.error('Error fetching news stats:', error);\r\n    return { error: 'Stats unavailable' };\r\n  }\r\n};\r\n\r\nexport const checkNewsServiceHealth = async (): Promise<boolean> => {\r\n  try {\r\n    const health = await newsClient.healthCheck();\r\n    return health.status === 'healthy';\r\n  } catch (error) {\r\n    console.error('News service health check failed:', error);\r\n    return false;\r\n  }\r\n};\r\n\r\n// Helper functions to extract information from the new meta structure\r\nexport const getImageStats = (response: ArticlesResponse) => {\r\n  return response.meta?.image_stats || null;\r\n};\r\n\r\nexport const getCacheInfo = (response: ArticlesResponse) => {\r\n  return response.meta?.cache_info || null;\r\n};\r\n\r\nexport const getPriorityInfo = (response: ArticlesResponse) => {\r\n  return response.meta?.priority_sorting || null;\r\n};\r\n\r\nexport const getRecencyStats = (response: ArticlesResponse) => {\r\n  return response.meta?.recency_stats || null;\r\n};\r\n\r\nexport const getCategoryDistribution = (response: ArticlesResponse) => {\r\n  return response.meta?.category_distribution || {};\r\n};\r\n\r\nexport const getCategoryPriorities = (response: ArticlesResponse) => {\r\n  return response.meta?.category_priorities || response.meta?.priority_sorting?.category_priorities || {};\r\n};\r\n\r\n// Export the client for advanced usage\r\nexport { VHealthNewsClient, newsClient };\r\n\r\n// Export pagination constants\r\nexport { ARTICLES_PER_PAGE, API_FETCH_LIMIT, CACHE_DURATION };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}