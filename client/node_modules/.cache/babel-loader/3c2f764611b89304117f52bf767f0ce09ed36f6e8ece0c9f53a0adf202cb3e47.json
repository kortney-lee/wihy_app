{"ast":null,"code":"import axios from 'axios';\nimport { WIHY_API_ENDPOINT } from '../config/apiConfig';\n\n// Types for the WiHy API\n\nclass WihyAPIService {\n  constructor() {\n    this.baseURL = void 0;\n    this.baseURL = WIHY_API_ENDPOINT;\n  }\n\n  /**\r\n   * Ask WiHy a health-related question with optional user context\r\n   */\n  async askAnything(request) {\n    try {\n      console.log('Making WiHy API request:', request);\n      const response = await axios.post(`${this.baseURL}/ask-anything`, request, {\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        timeout: 30000 // 30 second timeout\n      });\n      console.log('WiHy API response:', response.data);\n      return response.data;\n    } catch (error) {\n      console.error('WiHy API error:', error);\n      if (error && typeof error === 'object' && 'response' in error) {\n        var _axiosError$response;\n        const axiosError = error;\n        if ((_axiosError$response = axiosError.response) !== null && _axiosError$response !== void 0 && _axiosError$response.data) {\n          throw new Error(axiosError.response.data.detail || 'WiHy API request failed');\n        }\n        throw new Error(`Network error: ${axiosError.message || 'Request failed'}`);\n      }\n      throw new Error('Unknown error occurred while contacting WiHy API');\n    }\n  }\n\n  /**\r\n   * Get health news articles using the unified API\r\n   */\n  async getHealthNews(categories, limit) {\n    const query = categories && categories.length > 0 ? `Latest health news about ${categories.join(', ')}` : 'Latest health news';\n    const request = {\n      query: query,\n      user_context: {\n        // Can add user preferences here if needed\n      }\n    };\n    return this.askAnything(request);\n  }\n\n  /**\r\n   * Search for nutrition information using the unified API\r\n   */\n  async searchNutrition(foodQuery, userContext) {\n    const request = {\n      query: `Nutrition information for ${foodQuery}`,\n      user_context: userContext\n    };\n    return this.askAnything(request);\n  }\n\n  /**\r\n   * General health search using the unified API\r\n   */\n  async searchHealth(query, userContext) {\n    const request = {\n      query: query,\n      user_context: userContext\n    };\n    return this.askAnything(request);\n  }\n\n  /**\r\n   * Format the WiHy response for display in the existing UI\r\n   * This formats it to be compatible with the existing search results format\r\n   */\n  formatWihyResponse(response) {\n    var _wihy_response$resear, _wihy_response$biblic;\n    const {\n      wihy_response\n    } = response;\n    let formatted = `# ${wihy_response.core_principle}\\n\\n`;\n\n    // Personalized Analysis\n    if (wihy_response.personalized_analysis) {\n      var _wihy_response$person, _wihy_response$person2, _wihy_response$person3;\n      formatted += `## 🎯 Personalized Health Analysis\\n\\n`;\n\n      // Risk Factors\n      if (((_wihy_response$person = wihy_response.personalized_analysis.identified_risk_factors) === null || _wihy_response$person === void 0 ? void 0 : _wihy_response$person.length) > 0) {\n        formatted += `### Identified Risk Factors:\\n`;\n        wihy_response.personalized_analysis.identified_risk_factors.forEach(risk => {\n          formatted += `- **${risk.risk_factor.replace(/_/g, ' ').toUpperCase()}**\\n`;\n          formatted += `  - Associated with: ${risk.associated_illnesses.replace(/_/g, ' ')}\\n`;\n          formatted += `  - Prevalence: ${risk.prevalence_rate}%\\n`;\n          formatted += `  - Preventability: ${risk.preventability_score}%\\n\\n`;\n        });\n      }\n\n      // Priority Goals\n      if (((_wihy_response$person2 = wihy_response.personalized_analysis.priority_health_goals) === null || _wihy_response$person2 === void 0 ? void 0 : _wihy_response$person2.length) > 0) {\n        formatted += `### 🎯 Priority Health Goals:\\n`;\n        wihy_response.personalized_analysis.priority_health_goals.forEach(goal => {\n          formatted += `- ${goal}\\n`;\n        });\n        formatted += '\\n';\n      }\n\n      // Action Items\n      if (((_wihy_response$person3 = wihy_response.personalized_analysis.action_items) === null || _wihy_response$person3 === void 0 ? void 0 : _wihy_response$person3.length) > 0) {\n        formatted += `### 📋 Action Items:\\n`;\n        wihy_response.personalized_analysis.action_items.forEach((action, index) => {\n          formatted += `#### ${index + 1}. ${action.action}\\n`;\n          formatted += `- **Priority:** ${action.priority}\\n`;\n          formatted += `- **Target:** ${action.target_illness.replace(/_/g, ' ')}\\n`;\n          formatted += `- **Evidence Level:** ${action.evidence_level}\\n`;\n          formatted += `- **How it works:** ${action.mechanism}\\n`;\n          formatted += `- **Timeline:** ${action.timeline}\\n\\n`;\n        });\n      }\n\n      // Timeline\n      if (wihy_response.personalized_analysis.timeline) {\n        formatted += `**Implementation Timeline:** ${wihy_response.personalized_analysis.timeline}\\n\\n`;\n      }\n    }\n\n    // Research Foundation\n    if (((_wihy_response$resear = wihy_response.research_foundation) === null || _wihy_response$resear === void 0 ? void 0 : _wihy_response$resear.length) > 0) {\n      formatted += `## 📚 Research Foundation\\n\\n`;\n      wihy_response.research_foundation.forEach(research => {\n        formatted += `- **${research.citation_text}** (${research.study_type})\\n`;\n        formatted += `  ${research.key_finding}\\n\\n`;\n      });\n    }\n\n    // Progress Tracking\n    if (wihy_response.progress_tracking) {\n      formatted += `## 📊 Progress Tracking\\n\\n`;\n      formatted += `**Key Metrics to Track:**\\n`;\n      wihy_response.progress_tracking.key_metrics.forEach(metric => {\n        formatted += `- ${metric}\\n`;\n      });\n      formatted += `\\n**Reassessment:** ${wihy_response.progress_tracking.reassessment_period}\\n\\n`;\n    }\n\n    // Biblical Wisdom\n    if (((_wihy_response$biblic = wihy_response.biblical_wisdom) === null || _wihy_response$biblic === void 0 ? void 0 : _wihy_response$biblic.length) > 0) {\n      formatted += `## ✝️ Biblical Wisdom\\n\\n`;\n      wihy_response.biblical_wisdom.forEach(wisdom => {\n        formatted += `> ${wisdom}\\n\\n`;\n      });\n    }\n    formatted += `---\\n\\n*WiHy health truth analysis generated at: ${new Date(response.timestamp).toLocaleString()}*\\n`;\n    return formatted;\n  }\n\n  /**\r\n   * Extract recommendations from WiHy response for UI display\r\n   */\n  extractRecommendations(response) {\n    var _response$wihy_respon;\n    const recommendations = [];\n    if ((_response$wihy_respon = response.wihy_response.personalized_analysis) !== null && _response$wihy_respon !== void 0 && _response$wihy_respon.action_items) {\n      response.wihy_response.personalized_analysis.action_items.forEach(action => {\n        recommendations.push(`${action.action} (${action.priority} priority)`);\n      });\n    }\n    return recommendations;\n  }\n\n  /**\r\n   * Extract citations from WiHy response for UI display\r\n   */\n  extractCitations(response) {\n    const citations = [];\n    if (response.wihy_response.research_foundation) {\n      response.wihy_response.research_foundation.forEach(research => {\n        citations.push(`${research.citation_text}: ${research.key_finding}`);\n      });\n    }\n    return citations;\n  }\n}\n\n// Export a singleton instance\nexport const wihyAPI = new WihyAPIService();\nexport default wihyAPI;","map":{"version":3,"names":["axios","WIHY_API_ENDPOINT","WihyAPIService","constructor","baseURL","askAnything","request","console","log","response","post","headers","timeout","data","error","_axiosError$response","axiosError","Error","detail","message","getHealthNews","categories","limit","query","length","join","user_context","searchNutrition","foodQuery","userContext","searchHealth","formatWihyResponse","_wihy_response$resear","_wihy_response$biblic","wihy_response","formatted","core_principle","personalized_analysis","_wihy_response$person","_wihy_response$person2","_wihy_response$person3","identified_risk_factors","forEach","risk","risk_factor","replace","toUpperCase","associated_illnesses","prevalence_rate","preventability_score","priority_health_goals","goal","action_items","action","index","priority","target_illness","evidence_level","mechanism","timeline","research_foundation","research","citation_text","study_type","key_finding","progress_tracking","key_metrics","metric","reassessment_period","biblical_wisdom","wisdom","Date","timestamp","toLocaleString","extractRecommendations","_response$wihy_respon","recommendations","push","extractCitations","citations","wihyAPI"],"sources":["C:/repo/wihy_ui/client/src/services/wihyAPI.ts"],"sourcesContent":["import axios from 'axios';\r\nimport { API_CONFIG, WIHY_API_ENDPOINT } from '../config/apiConfig';\r\n\r\n// Types for the WiHy API\r\nexport interface UserContext {\r\n  age?: number;\r\n  family_size?: number;\r\n  family_history?: string[];\r\n  health_concerns?: string[];\r\n  dietary_restrictions?: string[];\r\n  activity_level?: 'low' | 'moderate' | 'high';\r\n  current_health_concerns?: string[];\r\n}\r\n\r\nexport interface WihyRequest {\r\n  query: string;\r\n  user_context?: UserContext;\r\n}\r\n\r\nexport interface RiskFactor {\r\n  risk_factor: string;\r\n  associated_illnesses: string;\r\n  prevalence_rate: number;\r\n  preventability_score: number;\r\n}\r\n\r\nexport interface ActionItem {\r\n  action: string;\r\n  priority: string;\r\n  target_illness: string;\r\n  evidence_level: string;\r\n  mechanism: string;\r\n  timeline: string;\r\n}\r\n\r\nexport interface PersonalizedAnalysis {\r\n  identified_risk_factors: RiskFactor[];\r\n  priority_health_goals: string[];\r\n  action_items: ActionItem[];\r\n  timeline: string;\r\n}\r\n\r\nexport interface ResearchFoundation {\r\n  citation_text: string;\r\n  study_type: string;\r\n  key_finding: string;\r\n}\r\n\r\nexport interface ProgressTracking {\r\n  key_metrics: string[];\r\n  reassessment_period: string;\r\n}\r\n\r\nexport interface WihyResponseData {\r\n  query_type: string;\r\n  query: string;\r\n  core_principle: string;\r\n  personalized_analysis: PersonalizedAnalysis;\r\n  research_foundation: ResearchFoundation[];\r\n  progress_tracking: ProgressTracking;\r\n  biblical_wisdom: string[];\r\n}\r\n\r\nexport interface WihyResponse {\r\n  success: boolean;\r\n  timestamp: string;\r\n  response_type: string;\r\n  query: string;\r\n  user_context?: UserContext;\r\n  wihy_response: WihyResponseData;\r\n  message: string;\r\n}\r\n\r\nexport interface WihyError {\r\n  detail: string;\r\n}\r\n\r\nclass WihyAPIService {\r\n  private baseURL: string;\r\n\r\n  constructor() {\r\n    this.baseURL = WIHY_API_ENDPOINT;\r\n  }\r\n\r\n  /**\r\n   * Ask WiHy a health-related question with optional user context\r\n   */\r\n  async askAnything(request: WihyRequest): Promise<WihyResponse> {\r\n    try {\r\n      console.log('Making WiHy API request:', request);\r\n      \r\n      const response = await axios.post<WihyResponse>(\r\n        `${this.baseURL}/ask-anything`,\r\n        request,\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          timeout: 30000, // 30 second timeout\r\n        }\r\n      );\r\n\r\n      console.log('WiHy API response:', response.data);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('WiHy API error:', error);\r\n      \r\n      if (error && typeof error === 'object' && 'response' in error) {\r\n        const axiosError = error as any;\r\n        if (axiosError.response?.data) {\r\n          throw new Error(axiosError.response.data.detail || 'WiHy API request failed');\r\n        }\r\n        throw new Error(`Network error: ${axiosError.message || 'Request failed'}`);\r\n      }\r\n      \r\n      throw new Error('Unknown error occurred while contacting WiHy API');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get health news articles using the unified API\r\n   */\r\n  async getHealthNews(categories?: string[], limit?: number): Promise<WihyResponse> {\r\n    const query = categories && categories.length > 0 \r\n      ? `Latest health news about ${categories.join(', ')}`\r\n      : 'Latest health news';\r\n    \r\n    const request: WihyRequest = {\r\n      query: query,\r\n      user_context: {\r\n        // Can add user preferences here if needed\r\n      }\r\n    };\r\n\r\n    return this.askAnything(request);\r\n  }\r\n\r\n  /**\r\n   * Search for nutrition information using the unified API\r\n   */\r\n  async searchNutrition(foodQuery: string, userContext?: UserContext): Promise<WihyResponse> {\r\n    const request: WihyRequest = {\r\n      query: `Nutrition information for ${foodQuery}`,\r\n      user_context: userContext\r\n    };\r\n\r\n    return this.askAnything(request);\r\n  }\r\n\r\n  /**\r\n   * General health search using the unified API\r\n   */\r\n  async searchHealth(query: string, userContext?: UserContext): Promise<WihyResponse> {\r\n    const request: WihyRequest = {\r\n      query: query,\r\n      user_context: userContext\r\n    };\r\n\r\n    return this.askAnything(request);\r\n  }\r\n\r\n  /**\r\n   * Format the WiHy response for display in the existing UI\r\n   * This formats it to be compatible with the existing search results format\r\n   */\r\n  formatWihyResponse(response: WihyResponse): string {\r\n    const { wihy_response } = response;\r\n    \r\n    let formatted = `# ${wihy_response.core_principle}\\n\\n`;\r\n    \r\n    // Personalized Analysis\r\n    if (wihy_response.personalized_analysis) {\r\n      formatted += `## 🎯 Personalized Health Analysis\\n\\n`;\r\n      \r\n      // Risk Factors\r\n      if (wihy_response.personalized_analysis.identified_risk_factors?.length > 0) {\r\n        formatted += `### Identified Risk Factors:\\n`;\r\n        wihy_response.personalized_analysis.identified_risk_factors.forEach(risk => {\r\n          formatted += `- **${risk.risk_factor.replace(/_/g, ' ').toUpperCase()}**\\n`;\r\n          formatted += `  - Associated with: ${risk.associated_illnesses.replace(/_/g, ' ')}\\n`;\r\n          formatted += `  - Prevalence: ${risk.prevalence_rate}%\\n`;\r\n          formatted += `  - Preventability: ${risk.preventability_score}%\\n\\n`;\r\n        });\r\n      }\r\n      \r\n      // Priority Goals\r\n      if (wihy_response.personalized_analysis.priority_health_goals?.length > 0) {\r\n        formatted += `### 🎯 Priority Health Goals:\\n`;\r\n        wihy_response.personalized_analysis.priority_health_goals.forEach(goal => {\r\n          formatted += `- ${goal}\\n`;\r\n        });\r\n        formatted += '\\n';\r\n      }\r\n      \r\n      // Action Items\r\n      if (wihy_response.personalized_analysis.action_items?.length > 0) {\r\n        formatted += `### 📋 Action Items:\\n`;\r\n        wihy_response.personalized_analysis.action_items.forEach((action, index) => {\r\n          formatted += `#### ${index + 1}. ${action.action}\\n`;\r\n          formatted += `- **Priority:** ${action.priority}\\n`;\r\n          formatted += `- **Target:** ${action.target_illness.replace(/_/g, ' ')}\\n`;\r\n          formatted += `- **Evidence Level:** ${action.evidence_level}\\n`;\r\n          formatted += `- **How it works:** ${action.mechanism}\\n`;\r\n          formatted += `- **Timeline:** ${action.timeline}\\n\\n`;\r\n        });\r\n      }\r\n      \r\n      // Timeline\r\n      if (wihy_response.personalized_analysis.timeline) {\r\n        formatted += `**Implementation Timeline:** ${wihy_response.personalized_analysis.timeline}\\n\\n`;\r\n      }\r\n    }\r\n    \r\n    // Research Foundation\r\n    if (wihy_response.research_foundation?.length > 0) {\r\n      formatted += `## 📚 Research Foundation\\n\\n`;\r\n      wihy_response.research_foundation.forEach(research => {\r\n        formatted += `- **${research.citation_text}** (${research.study_type})\\n`;\r\n        formatted += `  ${research.key_finding}\\n\\n`;\r\n      });\r\n    }\r\n    \r\n    // Progress Tracking\r\n    if (wihy_response.progress_tracking) {\r\n      formatted += `## 📊 Progress Tracking\\n\\n`;\r\n      formatted += `**Key Metrics to Track:**\\n`;\r\n      wihy_response.progress_tracking.key_metrics.forEach(metric => {\r\n        formatted += `- ${metric}\\n`;\r\n      });\r\n      formatted += `\\n**Reassessment:** ${wihy_response.progress_tracking.reassessment_period}\\n\\n`;\r\n    }\r\n    \r\n    // Biblical Wisdom\r\n    if (wihy_response.biblical_wisdom?.length > 0) {\r\n      formatted += `## ✝️ Biblical Wisdom\\n\\n`;\r\n      wihy_response.biblical_wisdom.forEach(wisdom => {\r\n        formatted += `> ${wisdom}\\n\\n`;\r\n      });\r\n    }\r\n    \r\n    formatted += `---\\n\\n*WiHy health truth analysis generated at: ${new Date(response.timestamp).toLocaleString()}*\\n`;\r\n    \r\n    return formatted;\r\n  }\r\n\r\n  /**\r\n   * Extract recommendations from WiHy response for UI display\r\n   */\r\n  extractRecommendations(response: WihyResponse): string[] {\r\n    const recommendations: string[] = [];\r\n    \r\n    if (response.wihy_response.personalized_analysis?.action_items) {\r\n      response.wihy_response.personalized_analysis.action_items.forEach(action => {\r\n        recommendations.push(`${action.action} (${action.priority} priority)`);\r\n      });\r\n    }\r\n    \r\n    return recommendations;\r\n  }\r\n\r\n  /**\r\n   * Extract citations from WiHy response for UI display\r\n   */\r\n  extractCitations(response: WihyResponse): string[] {\r\n    const citations: string[] = [];\r\n    \r\n    if (response.wihy_response.research_foundation) {\r\n      response.wihy_response.research_foundation.forEach(research => {\r\n        citations.push(`${research.citation_text}: ${research.key_finding}`);\r\n      });\r\n    }\r\n    \r\n    return citations;\r\n  }\r\n}\r\n\r\n// Export a singleton instance\r\nexport const wihyAPI = new WihyAPIService();\r\nexport default wihyAPI;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAqBC,iBAAiB,QAAQ,qBAAqB;;AAEnE;;AA0EA,MAAMC,cAAc,CAAC;EAGnBC,WAAWA,CAAA,EAAG;IAAA,KAFNC,OAAO;IAGb,IAAI,CAACA,OAAO,GAAGH,iBAAiB;EAClC;;EAEA;AACF;AACA;EACE,MAAMI,WAAWA,CAACC,OAAoB,EAAyB;IAC7D,IAAI;MACFC,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEF,OAAO,CAAC;MAEhD,MAAMG,QAAQ,GAAG,MAAMT,KAAK,CAACU,IAAI,CAC/B,GAAG,IAAI,CAACN,OAAO,eAAe,EAC9BE,OAAO,EACP;QACEK,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDC,OAAO,EAAE,KAAK,CAAE;MAClB,CACF,CAAC;MAEDL,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEC,QAAQ,CAACI,IAAI,CAAC;MAChD,OAAOJ,QAAQ,CAACI,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdP,OAAO,CAACO,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;MAEvC,IAAIA,KAAK,IAAI,OAAOA,KAAK,KAAK,QAAQ,IAAI,UAAU,IAAIA,KAAK,EAAE;QAAA,IAAAC,oBAAA;QAC7D,MAAMC,UAAU,GAAGF,KAAY;QAC/B,KAAAC,oBAAA,GAAIC,UAAU,CAACP,QAAQ,cAAAM,oBAAA,eAAnBA,oBAAA,CAAqBF,IAAI,EAAE;UAC7B,MAAM,IAAII,KAAK,CAACD,UAAU,CAACP,QAAQ,CAACI,IAAI,CAACK,MAAM,IAAI,yBAAyB,CAAC;QAC/E;QACA,MAAM,IAAID,KAAK,CAAC,kBAAkBD,UAAU,CAACG,OAAO,IAAI,gBAAgB,EAAE,CAAC;MAC7E;MAEA,MAAM,IAAIF,KAAK,CAAC,kDAAkD,CAAC;IACrE;EACF;;EAEA;AACF;AACA;EACE,MAAMG,aAAaA,CAACC,UAAqB,EAAEC,KAAc,EAAyB;IAChF,MAAMC,KAAK,GAAGF,UAAU,IAAIA,UAAU,CAACG,MAAM,GAAG,CAAC,GAC7C,4BAA4BH,UAAU,CAACI,IAAI,CAAC,IAAI,CAAC,EAAE,GACnD,oBAAoB;IAExB,MAAMnB,OAAoB,GAAG;MAC3BiB,KAAK,EAAEA,KAAK;MACZG,YAAY,EAAE;QACZ;MAAA;IAEJ,CAAC;IAED,OAAO,IAAI,CAACrB,WAAW,CAACC,OAAO,CAAC;EAClC;;EAEA;AACF;AACA;EACE,MAAMqB,eAAeA,CAACC,SAAiB,EAAEC,WAAyB,EAAyB;IACzF,MAAMvB,OAAoB,GAAG;MAC3BiB,KAAK,EAAE,6BAA6BK,SAAS,EAAE;MAC/CF,YAAY,EAAEG;IAChB,CAAC;IAED,OAAO,IAAI,CAACxB,WAAW,CAACC,OAAO,CAAC;EAClC;;EAEA;AACF;AACA;EACE,MAAMwB,YAAYA,CAACP,KAAa,EAAEM,WAAyB,EAAyB;IAClF,MAAMvB,OAAoB,GAAG;MAC3BiB,KAAK,EAAEA,KAAK;MACZG,YAAY,EAAEG;IAChB,CAAC;IAED,OAAO,IAAI,CAACxB,WAAW,CAACC,OAAO,CAAC;EAClC;;EAEA;AACF;AACA;AACA;EACEyB,kBAAkBA,CAACtB,QAAsB,EAAU;IAAA,IAAAuB,qBAAA,EAAAC,qBAAA;IACjD,MAAM;MAAEC;IAAc,CAAC,GAAGzB,QAAQ;IAElC,IAAI0B,SAAS,GAAG,KAAKD,aAAa,CAACE,cAAc,MAAM;;IAEvD;IACA,IAAIF,aAAa,CAACG,qBAAqB,EAAE;MAAA,IAAAC,qBAAA,EAAAC,sBAAA,EAAAC,sBAAA;MACvCL,SAAS,IAAI,wCAAwC;;MAErD;MACA,IAAI,EAAAG,qBAAA,GAAAJ,aAAa,CAACG,qBAAqB,CAACI,uBAAuB,cAAAH,qBAAA,uBAA3DA,qBAAA,CAA6Dd,MAAM,IAAG,CAAC,EAAE;QAC3EW,SAAS,IAAI,gCAAgC;QAC7CD,aAAa,CAACG,qBAAqB,CAACI,uBAAuB,CAACC,OAAO,CAACC,IAAI,IAAI;UAC1ER,SAAS,IAAI,OAAOQ,IAAI,CAACC,WAAW,CAACC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAACC,WAAW,CAAC,CAAC,MAAM;UAC3EX,SAAS,IAAI,wBAAwBQ,IAAI,CAACI,oBAAoB,CAACF,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,IAAI;UACrFV,SAAS,IAAI,mBAAmBQ,IAAI,CAACK,eAAe,KAAK;UACzDb,SAAS,IAAI,uBAAuBQ,IAAI,CAACM,oBAAoB,OAAO;QACtE,CAAC,CAAC;MACJ;;MAEA;MACA,IAAI,EAAAV,sBAAA,GAAAL,aAAa,CAACG,qBAAqB,CAACa,qBAAqB,cAAAX,sBAAA,uBAAzDA,sBAAA,CAA2Df,MAAM,IAAG,CAAC,EAAE;QACzEW,SAAS,IAAI,iCAAiC;QAC9CD,aAAa,CAACG,qBAAqB,CAACa,qBAAqB,CAACR,OAAO,CAACS,IAAI,IAAI;UACxEhB,SAAS,IAAI,KAAKgB,IAAI,IAAI;QAC5B,CAAC,CAAC;QACFhB,SAAS,IAAI,IAAI;MACnB;;MAEA;MACA,IAAI,EAAAK,sBAAA,GAAAN,aAAa,CAACG,qBAAqB,CAACe,YAAY,cAAAZ,sBAAA,uBAAhDA,sBAAA,CAAkDhB,MAAM,IAAG,CAAC,EAAE;QAChEW,SAAS,IAAI,wBAAwB;QACrCD,aAAa,CAACG,qBAAqB,CAACe,YAAY,CAACV,OAAO,CAAC,CAACW,MAAM,EAAEC,KAAK,KAAK;UAC1EnB,SAAS,IAAI,QAAQmB,KAAK,GAAG,CAAC,KAAKD,MAAM,CAACA,MAAM,IAAI;UACpDlB,SAAS,IAAI,mBAAmBkB,MAAM,CAACE,QAAQ,IAAI;UACnDpB,SAAS,IAAI,iBAAiBkB,MAAM,CAACG,cAAc,CAACX,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,IAAI;UAC1EV,SAAS,IAAI,yBAAyBkB,MAAM,CAACI,cAAc,IAAI;UAC/DtB,SAAS,IAAI,uBAAuBkB,MAAM,CAACK,SAAS,IAAI;UACxDvB,SAAS,IAAI,mBAAmBkB,MAAM,CAACM,QAAQ,MAAM;QACvD,CAAC,CAAC;MACJ;;MAEA;MACA,IAAIzB,aAAa,CAACG,qBAAqB,CAACsB,QAAQ,EAAE;QAChDxB,SAAS,IAAI,gCAAgCD,aAAa,CAACG,qBAAqB,CAACsB,QAAQ,MAAM;MACjG;IACF;;IAEA;IACA,IAAI,EAAA3B,qBAAA,GAAAE,aAAa,CAAC0B,mBAAmB,cAAA5B,qBAAA,uBAAjCA,qBAAA,CAAmCR,MAAM,IAAG,CAAC,EAAE;MACjDW,SAAS,IAAI,+BAA+B;MAC5CD,aAAa,CAAC0B,mBAAmB,CAAClB,OAAO,CAACmB,QAAQ,IAAI;QACpD1B,SAAS,IAAI,OAAO0B,QAAQ,CAACC,aAAa,OAAOD,QAAQ,CAACE,UAAU,KAAK;QACzE5B,SAAS,IAAI,KAAK0B,QAAQ,CAACG,WAAW,MAAM;MAC9C,CAAC,CAAC;IACJ;;IAEA;IACA,IAAI9B,aAAa,CAAC+B,iBAAiB,EAAE;MACnC9B,SAAS,IAAI,6BAA6B;MAC1CA,SAAS,IAAI,6BAA6B;MAC1CD,aAAa,CAAC+B,iBAAiB,CAACC,WAAW,CAACxB,OAAO,CAACyB,MAAM,IAAI;QAC5DhC,SAAS,IAAI,KAAKgC,MAAM,IAAI;MAC9B,CAAC,CAAC;MACFhC,SAAS,IAAI,uBAAuBD,aAAa,CAAC+B,iBAAiB,CAACG,mBAAmB,MAAM;IAC/F;;IAEA;IACA,IAAI,EAAAnC,qBAAA,GAAAC,aAAa,CAACmC,eAAe,cAAApC,qBAAA,uBAA7BA,qBAAA,CAA+BT,MAAM,IAAG,CAAC,EAAE;MAC7CW,SAAS,IAAI,2BAA2B;MACxCD,aAAa,CAACmC,eAAe,CAAC3B,OAAO,CAAC4B,MAAM,IAAI;QAC9CnC,SAAS,IAAI,KAAKmC,MAAM,MAAM;MAChC,CAAC,CAAC;IACJ;IAEAnC,SAAS,IAAI,oDAAoD,IAAIoC,IAAI,CAAC9D,QAAQ,CAAC+D,SAAS,CAAC,CAACC,cAAc,CAAC,CAAC,KAAK;IAEnH,OAAOtC,SAAS;EAClB;;EAEA;AACF;AACA;EACEuC,sBAAsBA,CAACjE,QAAsB,EAAY;IAAA,IAAAkE,qBAAA;IACvD,MAAMC,eAAyB,GAAG,EAAE;IAEpC,KAAAD,qBAAA,GAAIlE,QAAQ,CAACyB,aAAa,CAACG,qBAAqB,cAAAsC,qBAAA,eAA5CA,qBAAA,CAA8CvB,YAAY,EAAE;MAC9D3C,QAAQ,CAACyB,aAAa,CAACG,qBAAqB,CAACe,YAAY,CAACV,OAAO,CAACW,MAAM,IAAI;QAC1EuB,eAAe,CAACC,IAAI,CAAC,GAAGxB,MAAM,CAACA,MAAM,KAAKA,MAAM,CAACE,QAAQ,YAAY,CAAC;MACxE,CAAC,CAAC;IACJ;IAEA,OAAOqB,eAAe;EACxB;;EAEA;AACF;AACA;EACEE,gBAAgBA,CAACrE,QAAsB,EAAY;IACjD,MAAMsE,SAAmB,GAAG,EAAE;IAE9B,IAAItE,QAAQ,CAACyB,aAAa,CAAC0B,mBAAmB,EAAE;MAC9CnD,QAAQ,CAACyB,aAAa,CAAC0B,mBAAmB,CAAClB,OAAO,CAACmB,QAAQ,IAAI;QAC7DkB,SAAS,CAACF,IAAI,CAAC,GAAGhB,QAAQ,CAACC,aAAa,KAAKD,QAAQ,CAACG,WAAW,EAAE,CAAC;MACtE,CAAC,CAAC;IACJ;IAEA,OAAOe,SAAS;EAClB;AACF;;AAEA;AACA,OAAO,MAAMC,OAAO,GAAG,IAAI9E,cAAc,CAAC,CAAC;AAC3C,eAAe8E,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}