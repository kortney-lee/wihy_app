{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{chatService}from'../../services/chatService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FullScreenChat=_ref=>{let{isOpen,onClose,initialQuery,initialResponse}=_ref;const[messages,setMessages]=useState([]);const[inputMessage,setInputMessage]=useState('');const[isLoading,setIsLoading]=useState(false);const[showMobileHistory,setShowMobileHistory]=useState(false);const[isMobile,setIsMobile]=useState(false);const[hasActiveSession,setHasActiveSession]=useState(false);const messagesEndRef=useRef(null);const inputRef=useRef(null);// Check for mobile screen size\nuseEffect(()=>{const checkMobile=()=>{setIsMobile(window.innerWidth<=768);};checkMobile();window.addEventListener('resize',checkMobile);return()=>window.removeEventListener('resize',checkMobile);},[]);// Check for active session when component opens\nuseEffect(()=>{if(isOpen){const sessionId=chatService.getCurrentSessionId();const conversationId=chatService.getConversationId();// Only consider it an active session if there's a session ID or conversation ID\n// indicating there's been previous chat interaction\nsetHasActiveSession(Boolean(sessionId||conversationId));console.log('🔍 FULL SCREEN CHAT: Session check:',{hasSessionId:Boolean(sessionId),hasConversationId:Boolean(conversationId),hasActiveSession:Boolean(sessionId||conversationId)});}},[isOpen]);// Initialize with provided query/response\nuseEffect(()=>{if(initialQuery&&initialResponse){const initialMessages=[{id:'1',type:'user',message:initialQuery,timestamp:new Date()},{id:'2',type:'assistant',message:initialResponse,timestamp:new Date()}];setMessages(initialMessages);}},[initialQuery,initialResponse]);// Auto-scroll to bottom\nuseEffect(()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:'smooth'});},[messages]);const formatTime=date=>{return date.toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'});};const handleSendMessage=async()=>{if(!inputMessage.trim()||isLoading)return;const messageText=inputMessage.trim();setInputMessage('');setIsLoading(true);// Add user message\nconst userMessage={id:Date.now().toString(),type:'user',message:messageText,timestamp:new Date()};setMessages(prev=>[...prev,userMessage]);try{// Get AI response\nconst response=await chatService.sendMessage(messageText);let aiResponse;if(typeof response==='object'&&response!==null){if('data'in response&&typeof response.data==='string'){aiResponse=response.data;}else if('analysis'in response&&typeof response.analysis==='string'){aiResponse=response.analysis;}else if('response'in response&&typeof response.response==='string'){aiResponse=response.response;}else if('message'in response&&typeof response.message==='string'){aiResponse=response.message;}else{aiResponse='I received your message but had trouble formatting the response. Could you try asking in a different way?';}}else if(typeof response==='string'){aiResponse=response;}else{aiResponse='I apologize, but I encountered an issue processing your request. Could you please try again?';}// Provide helpful health responses for demo\nif(aiResponse.length<20||aiResponse.includes('There is no cure')){const userQuery=messageText.toLowerCase();if(userQuery.includes('healthy')||userQuery.includes('health')){aiResponse=\"Great question about health! Being healthy generally involves maintaining a balanced diet, regular exercise, adequate sleep, and managing stress. What specific aspect of health would you like to explore?\";}else if(userQuery.includes('diet')||userQuery.includes('nutrition')||userQuery.includes('eat')){aiResponse=\"Nutrition is key to good health! A balanced diet with plenty of fruits, vegetables, whole grains, and lean proteins is important. Would you like tips on any specific dietary concerns?\";}else if(userQuery.includes('exercise')||userQuery.includes('fitness')){aiResponse=\"Regular physical activity is essential for health! Aim for at least 150 minutes of moderate exercise per week. What type of activities interest you?\";}else{aiResponse=\"I'm here to help with your health questions! What would you like to know about nutrition, exercise, or wellness?\";}}const aiMessage={id:Date.now().toString()+'-assistant',type:'assistant',message:aiResponse,timestamp:new Date()};setMessages(prev=>[...prev,aiMessage]);// After first successful message exchange, we now have an active session\nif(!hasActiveSession){setHasActiveSession(true);console.log('🔍 FULL SCREEN CHAT: Session now active after first message exchange');}}catch(error){console.error('Chat error:',error);const errorMessage={id:Date.now().toString()+'-assistant',type:'assistant',message:\"I'm having trouble connecting right now. Please try again in a moment.\",timestamp:new Date()};setMessages(prev=>[...prev,errorMessage]);}finally{setIsLoading(false);}};const handleKeyPress=e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();handleSendMessage();}};if(!isOpen)return null;// Determine if we should show chat history (only if there's an active session with history)\nconst shouldShowHistory=hasActiveSession&&(messages.length>0||initialQuery&&initialResponse);return/*#__PURE__*/_jsxs(\"div\",{style:{position:'fixed',top:isMobile?'170px':'150px',// Start higher on desktop\nleft:isMobile?'8px':'30px',// Smaller side margins on desktop\nright:isMobile?'8px':'30px',bottom:isMobile?'20px':'30px',// Smaller bottom margin on desktop\nbackgroundColor:'#ffffff',zIndex:10000,display:'flex',flexDirection:isMobile?'column':'row',fontFamily:'-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',borderRadius:isMobile?'12px':'16px',// Rounded corners\nboxShadow:'0 10px 25px rgba(0, 0, 0, 0.15)',// Nice shadow\nborder:'1px solid #e5e7eb',// Subtle border\noverflow:'hidden',maxWidth:isMobile?'none':'1200px',// Larger max width on desktop\nmaxHeight:isMobile?'none':'800px',// Larger max height on desktop\nmargin:isMobile?'0':'0 auto'// Center on desktop\n},children:[isMobile&&shouldShowHistory&&/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'16px',left:'16px',zIndex:101},children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowMobileHistory(!showMobileHistory),style:{width:'40px',height:'40px',borderRadius:'8px',border:'none',backgroundColor:'#f3f4f6',cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center',fontSize:'16px',color:'#6b7280',transition:'all 0.2s ease'},children:\"\\u2630\"})}),shouldShowHistory&&/*#__PURE__*/_jsxs(\"div\",{style:{width:isMobile?'100%':'280px',height:isMobile?showMobileHistory?'50%':'0':'100%',backgroundColor:'#f9fafb',borderRight:isMobile?'none':'1px solid #e5e7eb',borderBottom:isMobile?'1px solid #e5e7eb':'none',display:'flex',flexDirection:'column',overflow:'hidden',transition:isMobile?'height 0.3s ease':'none',position:isMobile?'relative':'static',zIndex:isMobile?100:'auto'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px 16px',borderBottom:'1px solid #e5e7eb',display:'flex',alignItems:'center',justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{margin:0,fontSize:'16px',fontWeight:'600',color:'#1f2937'},children:\"Chat History\"}),isMobile&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowMobileHistory(false),style:{width:'24px',height:'24px',borderRadius:'4px',border:'none',backgroundColor:'transparent',cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center',fontSize:'14px',color:'#6b7280'},children:\"\\u2715\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1,overflow:'hidden'},children:/*#__PURE__*/_jsxs(\"div\",{style:{padding:'8px',height:'100%',overflowY:'auto',overflowX:'hidden'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'12px',marginBottom:'8px',backgroundColor:'#ffffff',borderRadius:'8px',border:'1px solid #e5e7eb',cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',fontWeight:'500',color:'#1f2937',marginBottom:'4px',overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},children:initialQuery||'Current Chat'}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#6b7280'},children:\"Active now\"})]}),['Health and nutrition basics','Exercise routine planning','Sleep optimization tips','Stress management techniques'].map((chat,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:'12px',marginBottom:'8px',borderRadius:'8px',cursor:'pointer',transition:'background-color 0.2s ease'},onMouseEnter:e=>{e.currentTarget.style.backgroundColor='#f3f4f6';},onMouseLeave:e=>{e.currentTarget.style.backgroundColor='transparent';},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',color:'#374151',marginBottom:'4px',overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},children:chat}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',color:'#9ca3af'},children:[index+1,\" days ago\"]})]},index))]})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,display:'flex',flexDirection:'column',height:isMobile?shouldShowHistory&&showMobileHistory?'50%':'100%':'100%',overflow:'hidden'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'space-between',padding:isMobile?'16px 60px 16px 16px':'16px 24px',borderBottom:'1px solid #e5e7eb',backgroundColor:'#ffffff',flexShrink:0},children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'center',gap:'12px'},children:/*#__PURE__*/_jsx(\"h1\",{style:{margin:0,fontSize:isMobile?'20px':'24px',fontWeight:'600',color:'#1f2937'},children:\"Let's Chat\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,style:{width:'40px',height:'40px',borderRadius:'50%',border:'none',backgroundColor:'#f3f4f6',cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center',fontSize:'18px',color:'#6b7280',transition:'all 0.2s ease'},onMouseEnter:e=>{e.currentTarget.style.backgroundColor='#e5e7eb';},onMouseLeave:e=>{e.currentTarget.style.backgroundColor='#f3f4f6';},children:\"\\u2715\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1,display:'flex',flexDirection:'column',overflow:'hidden'},children:/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,overflowY:'auto',overflowX:'hidden',padding:isMobile?'16px':'24px',maxWidth:isMobile?'100%':'768px',margin:'0 auto',width:'100%',scrollBehavior:'smooth'},children:[messages.length===0?/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',height:'60vh',textAlign:'center',color:'#6b7280'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:isMobile?'48px':'64px',height:isMobile?'48px':'64px',borderRadius:'16px',backgroundColor:'#f3f4f6',display:'flex',alignItems:'center',justifyContent:'center',fontSize:isMobile?'20px':'24px',marginBottom:'16px'},children:\"\\uD83D\\uDCAC\"}),/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:isMobile?'18px':'20px',fontWeight:'600',color:'#1f2937',margin:'0 0 8px 0'},children:\"How can I help you today?\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:isMobile?'14px':'16px',margin:0,maxWidth:isMobile?'300px':'400px'},children:\"Ask me anything about health, nutrition, exercise, or wellness. I'm here to provide evidence-based guidance.\"})]}):messages.map(message=>/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:isMobile?'12px':'16px',marginBottom:isMobile?'16px':'24px',alignItems:'flex-start'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:isMobile?'28px':'32px',height:isMobile?'28px':'32px',borderRadius:'50%',backgroundColor:message.type==='user'?'#10b981':'#f3f4f6',display:'flex',alignItems:'center',justifyContent:'center',color:message.type==='user'?'white':'#6b7280',fontSize:isMobile?'12px':'14px',fontWeight:'bold',flexShrink:0},children:message.type==='user'?'U':/*#__PURE__*/_jsx(\"img\",{src:\"/assets/wihyfavicon.png\",alt:\"WiHy\",style:{width:isMobile?'16px':'20px',height:isMobile?'16px':'20px',borderRadius:'4px'}})}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,minWidth:0},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:isMobile?'14px':'16px',lineHeight:'1.6',color:'#1f2937',whiteSpace:'pre-wrap',wordWrap:'break-word'},children:message.message}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#9ca3af',marginTop:'8px'},children:formatTime(message.timestamp)})]})]},message.id)),isLoading&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:isMobile?'12px':'16px',marginBottom:isMobile?'16px':'24px',alignItems:'flex-start'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:isMobile?'28px':'32px',height:isMobile?'28px':'32px',borderRadius:'50%',backgroundColor:'#f3f4f6',display:'flex',alignItems:'center',justifyContent:'center',flexShrink:0},children:/*#__PURE__*/_jsx(\"img\",{src:\"/assets/wihyfavicon.png\",alt:\"WiHy\",style:{width:isMobile?'16px':'20px',height:isMobile?'16px':'20px',borderRadius:'4px'}})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'4px',alignItems:'center',padding:isMobile?'8px 12px':'12px 16px',backgroundColor:'#f9fafb',borderRadius:'12px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'8px',height:'8px',borderRadius:'50%',backgroundColor:'#9ca3af',animation:'typing 1.4s ease-in-out infinite'}}),/*#__PURE__*/_jsx(\"div\",{style:{width:'8px',height:'8px',borderRadius:'50%',backgroundColor:'#9ca3af',animation:'typing 1.4s ease-in-out infinite 0.2s'}}),/*#__PURE__*/_jsx(\"div\",{style:{width:'8px',height:'8px',borderRadius:'50%',backgroundColor:'#9ca3af',animation:'typing 1.4s ease-in-out infinite 0.4s'}})]})]}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"chat-input-area\",children:/*#__PURE__*/_jsx(\"div\",{style:{maxWidth:isMobile?'100%':'768px',margin:'0 auto'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"chat-input-wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"search-input-container chat-input-container\",children:/*#__PURE__*/_jsx(\"textarea\",{ref:inputRef,className:\"search-input\",value:inputMessage,onChange:e=>setInputMessage(e.target.value),onKeyPress:handleKeyPress,placeholder:isLoading?\"Processing...\":\"Ask about your health data...\",rows:1,disabled:isLoading})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSendMessage,disabled:!inputMessage.trim()||isLoading,className:\"send-button \".concat(!inputMessage.trim()||isLoading?'disabled':'active'),children:isLoading?/*#__PURE__*/_jsx(\"div\",{style:{width:'16px',height:'16px',border:'2px solid currentColor',borderTop:'2px solid transparent',borderRadius:'50%',animation:'spin 1s linear infinite'}}):/*#__PURE__*/_jsx(\"svg\",{width:\"20\",height:\"20\",viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M8.59 16.59L13.17 12L8.59 7.41L10 6l6 6-6 6-1.41-1.41z\"})})})]})})})]}),/*#__PURE__*/_jsx(\"style\",{children:\"\\n        /* Hide scrollbars completely for a cleaner look */\\n        div::-webkit-scrollbar {\\n          width: 0px;\\n          background: transparent;\\n        }\\n\\n        div::-webkit-scrollbar-thumb {\\n          background: transparent;\\n        }\\n\\n        /* For Firefox */\\n        div {\\n          scrollbar-width: none;\\n        }\\n\\n        @keyframes typing {\\n          0%, 60%, 100% {\\n            transform: translateY(0);\\n            opacity: 0.4;\\n          }\\n          30% {\\n            transform: translateY(-6px);\\n            opacity: 1;\\n          }\\n        }\\n\\n        @keyframes spin {\\n          0% { transform: rotate(0deg); }\\n          100% { transform: rotate(360deg); }\\n        }\\n\\n        /* Chat-specific input area styling */\\n        .chat-input-area {\\n          padding: \".concat(isMobile?'12px 16px':'16px 24px',\";\\n          border-top: 1px solid #e5e7eb;\\n          background-color: #ffffff;\\n          flex-shrink: 0;\\n        }\\n\\n        /* Wrapper for input and button positioning */\\n        .chat-input-wrapper {\\n          position: relative;\\n          display: flex;\\n          align-items: center;\\n          gap: 8px;\\n        }\\n\\n        /* Chat input container - Simple solid styling for chat */\\n        .chat-input-container {\\n          width: 100% !important; /* Override the 80% width for chat context */\\n          margin: 0 !important; /* Override auto margins for flexbox */\\n          flex: 1; /* Allow it to grow in flexbox */\\n          /* Override animated styles with solid styling */\\n          background: #ffffff !important;\\n          border: 2px solid #fa5f06 !important;\\n          border-radius: 28px !important;\\n          box-shadow: 0 2px 8px rgba(250, 95, 6, 0.1) !important;\\n          animation: none !important;\\n          padding: 4px;\\n        }\\n\\n        .chat-input-container:focus-within {\\n          box-shadow: 0 4px 16px rgba(250, 95, 6, 0.25);\\n          border-color: #fa5f06;\\n        }\\n\\n        /* Chat input overrides */\\n        .chat-input-container .search-input {\\n          width: 100%;\\n          min-height: \").concat(isMobile?'52px':'60px',\";\\n          max-height: \").concat(isMobile?'120px':'140px',\";\\n          padding: \").concat(isMobile?'16px 20px':'18px 24px',\";\\n          border: none;\\n          border-radius: 24px;\\n          font-size: \").concat(isMobile?'16px':'18px',\";\\n          line-height: 1.4;\\n          resize: none;\\n          outline: none;\\n          font-family: inherit;\\n          background-color: #ffffff !important; /* Ensure pure white background */\\n          color: #1f2937;\\n        }\\n\\n        .chat-input-container .search-input:disabled {\\n          background-color: #f9fafb;\\n          color: #9ca3af;\\n        }\\n\\n        /* Send button styling - positioned outside input, matching ChatWidget exactly */\\n        .send-button {\\n          position: relative;\\n          right: auto;\\n          top: auto;\\n          transform: none;\\n          color: #374151;\\n          border: none;\\n          border-radius: 16px;\\n          padding: 12px;\\n          display: flex;\\n          align-items: center;\\n          justify-content: center;\\n          transition: all 0.2s ease;\\n          flex-shrink: 0;\\n          min-width: 44px;\\n          height: 44px;\\n          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\\n        }\\n\\n        .send-button.active {\\n          background-color: #d1d5db;\\n          color: #374151;\\n          cursor: pointer;\\n        }\\n\\n        .send-button.active:hover {\\n          background-color: #9ca3af;\\n          color: white;\\n        }\\n\\n        .send-button.disabled {\\n          background-color: #e5e7eb;\\n          color: #9ca3af;\\n          cursor: not-allowed;\\n          box-shadow: none;\\n        }\\n      \")})]});};export default FullScreenChat;","map":{"version":3,"names":["React","useState","useRef","useEffect","chatService","jsx","_jsx","jsxs","_jsxs","FullScreenChat","_ref","isOpen","onClose","initialQuery","initialResponse","messages","setMessages","inputMessage","setInputMessage","isLoading","setIsLoading","showMobileHistory","setShowMobileHistory","isMobile","setIsMobile","hasActiveSession","setHasActiveSession","messagesEndRef","inputRef","checkMobile","window","innerWidth","addEventListener","removeEventListener","sessionId","getCurrentSessionId","conversationId","getConversationId","Boolean","console","log","hasSessionId","hasConversationId","initialMessages","id","type","message","timestamp","Date","_messagesEndRef$curre","current","scrollIntoView","behavior","formatTime","date","toLocaleTimeString","hour","minute","handleSendMessage","trim","messageText","userMessage","now","toString","prev","response","sendMessage","aiResponse","data","analysis","length","includes","userQuery","toLowerCase","aiMessage","error","errorMessage","handleKeyPress","e","key","shiftKey","preventDefault","shouldShowHistory","style","position","top","left","right","bottom","backgroundColor","zIndex","display","flexDirection","fontFamily","borderRadius","boxShadow","border","overflow","maxWidth","maxHeight","margin","children","onClick","width","height","cursor","alignItems","justifyContent","fontSize","color","transition","borderRight","borderBottom","padding","fontWeight","flex","overflowY","overflowX","marginBottom","textOverflow","whiteSpace","map","chat","index","onMouseEnter","currentTarget","onMouseLeave","flexShrink","gap","scrollBehavior","textAlign","src","alt","minWidth","lineHeight","wordWrap","marginTop","animation","ref","className","value","onChange","target","onKeyPress","placeholder","rows","disabled","concat","borderTop","viewBox","fill","d"],"sources":["C:/repo/wihy_ui/client/src/components/ui/FullScreenChat.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { chatService } from '../../services/chatService';\r\n\r\ninterface ChatMessage {\r\n  id: string;\r\n  type: 'user' | 'assistant';\r\n  message: string;\r\n  timestamp: Date;\r\n}\r\n\r\ninterface FullScreenChatProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  initialQuery?: string;\r\n  initialResponse?: string;\r\n}\r\n\r\nconst FullScreenChat: React.FC<FullScreenChatProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  initialQuery,\r\n  initialResponse\r\n}) => {\r\n  const [messages, setMessages] = useState<ChatMessage[]>([]);\r\n  const [inputMessage, setInputMessage] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [showMobileHistory, setShowMobileHistory] = useState(false);\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  const [hasActiveSession, setHasActiveSession] = useState(false);\r\n  const messagesEndRef = useRef<HTMLDivElement>(null);\r\n  const inputRef = useRef<HTMLTextAreaElement>(null);\r\n\r\n  // Check for mobile screen size\r\n  useEffect(() => {\r\n    const checkMobile = () => {\r\n      setIsMobile(window.innerWidth <= 768);\r\n    };\r\n    \r\n    checkMobile();\r\n    window.addEventListener('resize', checkMobile);\r\n    return () => window.removeEventListener('resize', checkMobile);\r\n  }, []);\r\n\r\n  // Check for active session when component opens\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      const sessionId = chatService.getCurrentSessionId();\r\n      const conversationId = chatService.getConversationId();\r\n      // Only consider it an active session if there's a session ID or conversation ID\r\n      // indicating there's been previous chat interaction\r\n      setHasActiveSession(Boolean(sessionId || conversationId));\r\n      console.log('🔍 FULL SCREEN CHAT: Session check:', {\r\n        hasSessionId: Boolean(sessionId),\r\n        hasConversationId: Boolean(conversationId),\r\n        hasActiveSession: Boolean(sessionId || conversationId)\r\n      });\r\n    }\r\n  }, [isOpen]);\r\n\r\n  // Initialize with provided query/response\r\n  useEffect(() => {\r\n    if (initialQuery && initialResponse) {\r\n      const initialMessages: ChatMessage[] = [\r\n        {\r\n          id: '1',\r\n          type: 'user',\r\n          message: initialQuery,\r\n          timestamp: new Date()\r\n        },\r\n        {\r\n          id: '2',\r\n          type: 'assistant',\r\n          message: initialResponse,\r\n          timestamp: new Date()\r\n        }\r\n      ];\r\n      setMessages(initialMessages);\r\n    }\r\n  }, [initialQuery, initialResponse]);\r\n\r\n  // Auto-scroll to bottom\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [messages]);\r\n\r\n  const formatTime = (date: Date) => {\r\n    return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n  };\r\n\r\n  const handleSendMessage = async () => {\r\n    if (!inputMessage.trim() || isLoading) return;\r\n\r\n    const messageText = inputMessage.trim();\r\n    setInputMessage('');\r\n    setIsLoading(true);\r\n\r\n    // Add user message\r\n    const userMessage: ChatMessage = {\r\n      id: Date.now().toString(),\r\n      type: 'user',\r\n      message: messageText,\r\n      timestamp: new Date()\r\n    };\r\n    setMessages(prev => [...prev, userMessage]);\r\n\r\n    try {\r\n      // Get AI response\r\n      const response = await chatService.sendMessage(messageText);\r\n      \r\n      let aiResponse: string;\r\n      if (typeof response === 'object' && response !== null) {\r\n        if ('data' in response && typeof response.data === 'string') {\r\n          aiResponse = response.data;\r\n        } else if ('analysis' in response && typeof response.analysis === 'string') {\r\n          aiResponse = response.analysis;\r\n        } else if ('response' in response && typeof response.response === 'string') {\r\n          aiResponse = response.response;\r\n        } else if ('message' in response && typeof response.message === 'string') {\r\n          aiResponse = response.message;\r\n        } else {\r\n          aiResponse = 'I received your message but had trouble formatting the response. Could you try asking in a different way?';\r\n        }\r\n      } else if (typeof response === 'string') {\r\n        aiResponse = response;\r\n      } else {\r\n        aiResponse = 'I apologize, but I encountered an issue processing your request. Could you please try again?';\r\n      }\r\n\r\n      // Provide helpful health responses for demo\r\n      if (aiResponse.length < 20 || aiResponse.includes('There is no cure')) {\r\n        const userQuery = messageText.toLowerCase();\r\n        if (userQuery.includes('healthy') || userQuery.includes('health')) {\r\n          aiResponse = \"Great question about health! Being healthy generally involves maintaining a balanced diet, regular exercise, adequate sleep, and managing stress. What specific aspect of health would you like to explore?\";\r\n        } else if (userQuery.includes('diet') || userQuery.includes('nutrition') || userQuery.includes('eat')) {\r\n          aiResponse = \"Nutrition is key to good health! A balanced diet with plenty of fruits, vegetables, whole grains, and lean proteins is important. Would you like tips on any specific dietary concerns?\";\r\n        } else if (userQuery.includes('exercise') || userQuery.includes('fitness')) {\r\n          aiResponse = \"Regular physical activity is essential for health! Aim for at least 150 minutes of moderate exercise per week. What type of activities interest you?\";\r\n        } else {\r\n          aiResponse = \"I'm here to help with your health questions! What would you like to know about nutrition, exercise, or wellness?\";\r\n        }\r\n      }\r\n\r\n      const aiMessage: ChatMessage = {\r\n        id: Date.now().toString() + '-assistant',\r\n        type: 'assistant',\r\n        message: aiResponse,\r\n        timestamp: new Date()\r\n      };\r\n\r\n      setMessages(prev => [...prev, aiMessage]);\r\n\r\n      // After first successful message exchange, we now have an active session\r\n      if (!hasActiveSession) {\r\n        setHasActiveSession(true);\r\n        console.log('🔍 FULL SCREEN CHAT: Session now active after first message exchange');\r\n      }\r\n    } catch (error) {\r\n      console.error('Chat error:', error);\r\n      const errorMessage: ChatMessage = {\r\n        id: Date.now().toString() + '-assistant',\r\n        type: 'assistant',\r\n        message: \"I'm having trouble connecting right now. Please try again in a moment.\",\r\n        timestamp: new Date()\r\n      };\r\n      setMessages(prev => [...prev, errorMessage]);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSendMessage();\r\n    }\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  // Determine if we should show chat history (only if there's an active session with history)\r\n  const shouldShowHistory = hasActiveSession && (messages.length > 0 || (initialQuery && initialResponse));\r\n\r\n  return (\r\n    <div style={{\r\n      position: 'fixed',\r\n      top: isMobile ? '170px' : '150px', // Start higher on desktop\r\n      left: isMobile ? '8px' : '30px', // Smaller side margins on desktop\r\n      right: isMobile ? '8px' : '30px',\r\n      bottom: isMobile ? '20px' : '30px', // Smaller bottom margin on desktop\r\n      backgroundColor: '#ffffff',\r\n      zIndex: 10000,\r\n      display: 'flex',\r\n      flexDirection: isMobile ? 'column' : 'row',\r\n      fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\r\n      borderRadius: isMobile ? '12px' : '16px', // Rounded corners\r\n      boxShadow: '0 10px 25px rgba(0, 0, 0, 0.15)', // Nice shadow\r\n      border: '1px solid #e5e7eb', // Subtle border\r\n      overflow: 'hidden',\r\n      maxWidth: isMobile ? 'none' : '1200px', // Larger max width on desktop\r\n      maxHeight: isMobile ? 'none' : '800px', // Larger max height on desktop\r\n      margin: isMobile ? '0' : '0 auto' // Center on desktop\r\n    }}>\r\n      {/* Mobile History Toggle - only show if history exists */}\r\n      {isMobile && shouldShowHistory && (\r\n        <div style={{\r\n          position: 'absolute',\r\n          top: '16px',\r\n          left: '16px',\r\n          zIndex: 101\r\n        }}>\r\n          <button\r\n            onClick={() => setShowMobileHistory(!showMobileHistory)}\r\n            style={{\r\n              width: '40px',\r\n              height: '40px',\r\n              borderRadius: '8px',\r\n              border: 'none',\r\n              backgroundColor: '#f3f4f6',\r\n              cursor: 'pointer',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              fontSize: '16px',\r\n              color: '#6b7280',\r\n              transition: 'all 0.2s ease'\r\n            }}\r\n          >\r\n            ☰\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Chat History Sidebar - only show if history exists */}\r\n      {shouldShowHistory && (\r\n      <div style={{\r\n        width: isMobile ? '100%' : '280px',\r\n        height: isMobile ? (showMobileHistory ? '50%' : '0') : '100%',\r\n        backgroundColor: '#f9fafb',\r\n        borderRight: isMobile ? 'none' : '1px solid #e5e7eb',\r\n        borderBottom: isMobile ? '1px solid #e5e7eb' : 'none',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        overflow: 'hidden',\r\n        transition: isMobile ? 'height 0.3s ease' : 'none',\r\n        position: isMobile ? 'relative' : 'static',\r\n        zIndex: isMobile ? 100 : 'auto'\r\n      }}>\r\n        {/* Sidebar Header */}\r\n        <div style={{\r\n          padding: '20px 16px',\r\n          borderBottom: '1px solid #e5e7eb',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'space-between'\r\n        }}>\r\n          <h2 style={{\r\n            margin: 0,\r\n            fontSize: '16px',\r\n            fontWeight: '600',\r\n            color: '#1f2937'\r\n          }}>\r\n            Chat History\r\n          </h2>\r\n          {isMobile && (\r\n            <button\r\n              onClick={() => setShowMobileHistory(false)}\r\n              style={{\r\n                width: '24px',\r\n                height: '24px',\r\n                borderRadius: '4px',\r\n                border: 'none',\r\n                backgroundColor: 'transparent',\r\n                cursor: 'pointer',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                fontSize: '14px',\r\n                color: '#6b7280'\r\n              }}\r\n            >\r\n              ✕\r\n            </button>\r\n          )}\r\n        </div>\r\n\r\n        {/* History List */}\r\n        <div style={{\r\n          flex: 1,\r\n          overflow: 'hidden'\r\n        }}>\r\n          <div style={{\r\n            padding: '8px',\r\n            height: '100%',\r\n            overflowY: 'auto',\r\n            overflowX: 'hidden'\r\n          }}>\r\n            {/* Current Chat */}\r\n            <div style={{\r\n              padding: '12px',\r\n              marginBottom: '8px',\r\n              backgroundColor: '#ffffff',\r\n              borderRadius: '8px',\r\n              border: '1px solid #e5e7eb',\r\n              cursor: 'pointer'\r\n            }}>\r\n              <div style={{\r\n                fontSize: '14px',\r\n                fontWeight: '500',\r\n                color: '#1f2937',\r\n                marginBottom: '4px',\r\n                overflow: 'hidden',\r\n                textOverflow: 'ellipsis',\r\n                whiteSpace: 'nowrap'\r\n              }}>\r\n                {initialQuery || 'Current Chat'}\r\n              </div>\r\n              <div style={{\r\n                fontSize: '12px',\r\n                color: '#6b7280'\r\n              }}>\r\n                Active now\r\n              </div>\r\n            </div>\r\n\r\n            {/* Previous Chats */}\r\n            {['Health and nutrition basics', 'Exercise routine planning', 'Sleep optimization tips', 'Stress management techniques'].map((chat, index) => (\r\n              <div key={index} style={{\r\n                padding: '12px',\r\n                marginBottom: '8px',\r\n                borderRadius: '8px',\r\n                cursor: 'pointer',\r\n                transition: 'background-color 0.2s ease'\r\n              }}\r\n              onMouseEnter={(e) => {\r\n                e.currentTarget.style.backgroundColor = '#f3f4f6';\r\n              }}\r\n              onMouseLeave={(e) => {\r\n                e.currentTarget.style.backgroundColor = 'transparent';\r\n              }}>\r\n                <div style={{\r\n                  fontSize: '14px',\r\n                  color: '#374151',\r\n                  marginBottom: '4px',\r\n                  overflow: 'hidden',\r\n                  textOverflow: 'ellipsis',\r\n                  whiteSpace: 'nowrap'\r\n                }}>\r\n                  {chat}\r\n                </div>\r\n                <div style={{\r\n                  fontSize: '12px',\r\n                  color: '#9ca3af'\r\n                }}>\r\n                  {index + 1} days ago\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      )}\r\n\r\n      {/* Main Chat Area */}\r\n      <div style={{\r\n        flex: 1,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        height: isMobile ? (shouldShowHistory && showMobileHistory ? '50%' : '100%') : '100%',\r\n        overflow: 'hidden'\r\n      }}>\r\n        {/* Header */}\r\n        <div style={{\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'space-between',\r\n          padding: isMobile ? '16px 60px 16px 16px' : '16px 24px',\r\n          borderBottom: '1px solid #e5e7eb',\r\n          backgroundColor: '#ffffff',\r\n          flexShrink: 0\r\n        }}>\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\r\n            <h1 style={{\r\n              margin: 0,\r\n              fontSize: isMobile ? '20px' : '24px',\r\n              fontWeight: '600',\r\n              color: '#1f2937'\r\n            }}>\r\n              Let's Chat\r\n            </h1>\r\n          </div>\r\n\r\n          <button\r\n            onClick={onClose}\r\n            style={{\r\n              width: '40px',\r\n              height: '40px',\r\n              borderRadius: '50%',\r\n              border: 'none',\r\n              backgroundColor: '#f3f4f6',\r\n              cursor: 'pointer',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              fontSize: '18px',\r\n              color: '#6b7280',\r\n              transition: 'all 0.2s ease'\r\n            }}\r\n            onMouseEnter={(e) => {\r\n              e.currentTarget.style.backgroundColor = '#e5e7eb';\r\n            }}\r\n            onMouseLeave={(e) => {\r\n              e.currentTarget.style.backgroundColor = '#f3f4f6';\r\n            }}\r\n          >\r\n            ✕\r\n          </button>\r\n        </div>\r\n\r\n        {/* Messages Container - Single scroll area */}\r\n        <div style={{\r\n          flex: 1,\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          overflow: 'hidden'\r\n        }}>\r\n          <div style={{\r\n            flex: 1,\r\n            overflowY: 'auto',\r\n            overflowX: 'hidden',\r\n            padding: isMobile ? '16px' : '24px',\r\n            maxWidth: isMobile ? '100%' : '768px',\r\n            margin: '0 auto',\r\n            width: '100%',\r\n            scrollBehavior: 'smooth'\r\n          }}>\r\n            {messages.length === 0 ? (\r\n              <div style={{\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                height: '60vh',\r\n                textAlign: 'center',\r\n                color: '#6b7280'\r\n              }}>\r\n                <div style={{\r\n                  width: isMobile ? '48px' : '64px',\r\n                  height: isMobile ? '48px' : '64px',\r\n                  borderRadius: '16px',\r\n                  backgroundColor: '#f3f4f6',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  fontSize: isMobile ? '20px' : '24px',\r\n                  marginBottom: '16px'\r\n                }}>\r\n                  💬\r\n                </div>\r\n                <h3 style={{\r\n                  fontSize: isMobile ? '18px' : '20px',\r\n                  fontWeight: '600',\r\n                  color: '#1f2937',\r\n                  margin: '0 0 8px 0'\r\n                }}>\r\n                  How can I help you today?\r\n                </h3>\r\n                <p style={{\r\n                  fontSize: isMobile ? '14px' : '16px',\r\n                  margin: 0,\r\n                  maxWidth: isMobile ? '300px' : '400px'\r\n                }}>\r\n                  Ask me anything about health, nutrition, exercise, or wellness. I'm here to provide evidence-based guidance.\r\n                </p>\r\n              </div>\r\n            ) : (\r\n              messages.map((message) => (\r\n                <div\r\n                  key={message.id}\r\n                  style={{\r\n                    display: 'flex',\r\n                    gap: isMobile ? '12px' : '16px',\r\n                    marginBottom: isMobile ? '16px' : '24px',\r\n                    alignItems: 'flex-start'\r\n                  }}\r\n                >\r\n                  <div style={{\r\n                    width: isMobile ? '28px' : '32px',\r\n                    height: isMobile ? '28px' : '32px',\r\n                    borderRadius: '50%',\r\n                    backgroundColor: message.type === 'user' ? '#10b981' : '#f3f4f6',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    color: message.type === 'user' ? 'white' : '#6b7280',\r\n                    fontSize: isMobile ? '12px' : '14px',\r\n                    fontWeight: 'bold',\r\n                    flexShrink: 0\r\n                  }}>\r\n                    {message.type === 'user' ? 'U' : (\r\n                      <img\r\n                        src=\"/assets/wihyfavicon.png\"\r\n                        alt=\"WiHy\"\r\n                        style={{ \r\n                          width: isMobile ? '16px' : '20px', \r\n                          height: isMobile ? '16px' : '20px', \r\n                          borderRadius: '4px' \r\n                        }}\r\n                      />\r\n                    )}\r\n                  </div>\r\n                  \r\n                  <div style={{ flex: 1, minWidth: 0 }}>\r\n                    <div style={{\r\n                      fontSize: isMobile ? '14px' : '16px',\r\n                      lineHeight: '1.6',\r\n                      color: '#1f2937',\r\n                      whiteSpace: 'pre-wrap',\r\n                      wordWrap: 'break-word'\r\n                    }}>\r\n                      {message.message}\r\n                    </div>\r\n                    <div style={{\r\n                      fontSize: '12px',\r\n                      color: '#9ca3af',\r\n                      marginTop: '8px'\r\n                    }}>\r\n                      {formatTime(message.timestamp)}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))\r\n            )}\r\n\r\n            {isLoading && (\r\n              <div style={{\r\n                display: 'flex',\r\n                gap: isMobile ? '12px' : '16px',\r\n                marginBottom: isMobile ? '16px' : '24px',\r\n                alignItems: 'flex-start'\r\n              }}>\r\n                <div style={{\r\n                  width: isMobile ? '28px' : '32px',\r\n                  height: isMobile ? '28px' : '32px',\r\n                  borderRadius: '50%',\r\n                  backgroundColor: '#f3f4f6',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  flexShrink: 0\r\n                }}>\r\n                  <img\r\n                    src=\"/assets/wihyfavicon.png\"\r\n                    alt=\"WiHy\"\r\n                    style={{ \r\n                      width: isMobile ? '16px' : '20px', \r\n                      height: isMobile ? '16px' : '20px', \r\n                      borderRadius: '4px' \r\n                    }}\r\n                  />\r\n                </div>\r\n                \r\n                <div style={{\r\n                  display: 'flex',\r\n                  gap: '4px',\r\n                  alignItems: 'center',\r\n                  padding: isMobile ? '8px 12px' : '12px 16px',\r\n                  backgroundColor: '#f9fafb',\r\n                  borderRadius: '12px'\r\n                }}>\r\n                  <div style={{\r\n                    width: '8px',\r\n                    height: '8px',\r\n                    borderRadius: '50%',\r\n                    backgroundColor: '#9ca3af',\r\n                    animation: 'typing 1.4s ease-in-out infinite'\r\n                  }} />\r\n                  <div style={{\r\n                    width: '8px',\r\n                    height: '8px',\r\n                    borderRadius: '50%',\r\n                    backgroundColor: '#9ca3af',\r\n                    animation: 'typing 1.4s ease-in-out infinite 0.2s'\r\n                  }} />\r\n                  <div style={{\r\n                    width: '8px',\r\n                    height: '8px',\r\n                    borderRadius: '50%',\r\n                    backgroundColor: '#9ca3af',\r\n                    animation: 'typing 1.4s ease-in-out infinite 0.4s'\r\n                  }} />\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <div ref={messagesEndRef} />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Input */}\r\n        <div className=\"chat-input-area\">\r\n          <div style={{\r\n            maxWidth: isMobile ? '100%' : '768px',\r\n            margin: '0 auto'\r\n          }}>\r\n            <div className=\"chat-input-wrapper\">\r\n              <div className=\"search-input-container chat-input-container\">\r\n                <textarea\r\n                  ref={inputRef}\r\n                  className=\"search-input\"\r\n                  value={inputMessage}\r\n                  onChange={(e) => setInputMessage(e.target.value)}\r\n                  onKeyPress={handleKeyPress}\r\n                  placeholder={isLoading ? \"Processing...\" : \"Ask about your health data...\"}\r\n                  rows={1}\r\n                  disabled={isLoading}\r\n                />\r\n              </div>\r\n              <button\r\n                onClick={handleSendMessage}\r\n                disabled={!inputMessage.trim() || isLoading}\r\n                className={`send-button ${(!inputMessage.trim() || isLoading) ? 'disabled' : 'active'}`}\r\n              >\r\n                {isLoading ? (\r\n                  <div style={{\r\n                    width: '16px',\r\n                    height: '16px',\r\n                    border: '2px solid currentColor',\r\n                    borderTop: '2px solid transparent',\r\n                    borderRadius: '50%',\r\n                    animation: 'spin 1s linear infinite'\r\n                  }} />\r\n                ) : (\r\n                  <svg \r\n                    width=\"20\" \r\n                    height=\"20\" \r\n                    viewBox=\"0 0 24 24\" \r\n                    fill=\"currentColor\"\r\n                  >\r\n                    <path d=\"M8.59 16.59L13.17 12L8.59 7.41L10 6l6 6-6 6-1.41-1.41z\"/>\r\n                  </svg>\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <style>{`\r\n        /* Hide scrollbars completely for a cleaner look */\r\n        div::-webkit-scrollbar {\r\n          width: 0px;\r\n          background: transparent;\r\n        }\r\n\r\n        div::-webkit-scrollbar-thumb {\r\n          background: transparent;\r\n        }\r\n\r\n        /* For Firefox */\r\n        div {\r\n          scrollbar-width: none;\r\n        }\r\n\r\n        @keyframes typing {\r\n          0%, 60%, 100% {\r\n            transform: translateY(0);\r\n            opacity: 0.4;\r\n          }\r\n          30% {\r\n            transform: translateY(-6px);\r\n            opacity: 1;\r\n          }\r\n        }\r\n\r\n        @keyframes spin {\r\n          0% { transform: rotate(0deg); }\r\n          100% { transform: rotate(360deg); }\r\n        }\r\n\r\n        /* Chat-specific input area styling */\r\n        .chat-input-area {\r\n          padding: ${isMobile ? '12px 16px' : '16px 24px'};\r\n          border-top: 1px solid #e5e7eb;\r\n          background-color: #ffffff;\r\n          flex-shrink: 0;\r\n        }\r\n\r\n        /* Wrapper for input and button positioning */\r\n        .chat-input-wrapper {\r\n          position: relative;\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n        }\r\n\r\n        /* Chat input container - Simple solid styling for chat */\r\n        .chat-input-container {\r\n          width: 100% !important; /* Override the 80% width for chat context */\r\n          margin: 0 !important; /* Override auto margins for flexbox */\r\n          flex: 1; /* Allow it to grow in flexbox */\r\n          /* Override animated styles with solid styling */\r\n          background: #ffffff !important;\r\n          border: 2px solid #fa5f06 !important;\r\n          border-radius: 28px !important;\r\n          box-shadow: 0 2px 8px rgba(250, 95, 6, 0.1) !important;\r\n          animation: none !important;\r\n          padding: 4px;\r\n        }\r\n\r\n        .chat-input-container:focus-within {\r\n          box-shadow: 0 4px 16px rgba(250, 95, 6, 0.25);\r\n          border-color: #fa5f06;\r\n        }\r\n\r\n        /* Chat input overrides */\r\n        .chat-input-container .search-input {\r\n          width: 100%;\r\n          min-height: ${isMobile ? '52px' : '60px'};\r\n          max-height: ${isMobile ? '120px' : '140px'};\r\n          padding: ${isMobile ? '16px 20px' : '18px 24px'};\r\n          border: none;\r\n          border-radius: 24px;\r\n          font-size: ${isMobile ? '16px' : '18px'};\r\n          line-height: 1.4;\r\n          resize: none;\r\n          outline: none;\r\n          font-family: inherit;\r\n          background-color: #ffffff !important; /* Ensure pure white background */\r\n          color: #1f2937;\r\n        }\r\n\r\n        .chat-input-container .search-input:disabled {\r\n          background-color: #f9fafb;\r\n          color: #9ca3af;\r\n        }\r\n\r\n        /* Send button styling - positioned outside input, matching ChatWidget exactly */\r\n        .send-button {\r\n          position: relative;\r\n          right: auto;\r\n          top: auto;\r\n          transform: none;\r\n          color: #374151;\r\n          border: none;\r\n          border-radius: 16px;\r\n          padding: 12px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          transition: all 0.2s ease;\r\n          flex-shrink: 0;\r\n          min-width: 44px;\r\n          height: 44px;\r\n          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n        }\r\n\r\n        .send-button.active {\r\n          background-color: #d1d5db;\r\n          color: #374151;\r\n          cursor: pointer;\r\n        }\r\n\r\n        .send-button.active:hover {\r\n          background-color: #9ca3af;\r\n          color: white;\r\n        }\r\n\r\n        .send-button.disabled {\r\n          background-color: #e5e7eb;\r\n          color: #9ca3af;\r\n          cursor: not-allowed;\r\n          box-shadow: none;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FullScreenChat;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}