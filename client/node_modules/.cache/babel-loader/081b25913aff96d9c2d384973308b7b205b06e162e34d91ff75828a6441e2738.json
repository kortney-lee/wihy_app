{"ast":null,"code":"// Unified API configuration for mobile and desktop with dev flag\nconst getWihyApiUrl=()=>{// Check for explicit environment variable first (highest priority)\nif(process.env.REACT_APP_WIHY_API_URL){return process.env.REACT_APP_WIHY_API_URL;}// Development flag - set to true to use local dev server, false for production\nconst USE_LOCAL_DEV=process.env.REACT_APP_USE_LOCAL_API==='true';// Check if we're on localhost (local development)\nconst isLocalhost=window.location.hostname==='localhost'||window.location.hostname==='127.0.0.1';if(isLocalhost&&USE_LOCAL_DEV){// Local development with dev flag enabled - use localhost API with port\nreturn'http://localhost:8000';}else{// Production/deployed OR dev flag disabled - use ml.wihy.ai without port (standard HTTPS)\nreturn'https://ml.wihy.ai';}};// Add cache busting version\nconst CACHE_VERSION='v2.0.1';// Increment this after each deployment\n// Environment configuration for API endpoints\nexport const API_CONFIG={// WIHY API - Unified for mobile and desktop\nWIHY_API_URL:getWihyApiUrl()};// Debug logging\nconsole.log('🔍 API CONFIG DEBUG:',{NODE_ENV:process.env.NODE_ENV,REACT_APP_WIHY_API_URL:process.env.REACT_APP_WIHY_API_URL,FINAL_URL:API_CONFIG.WIHY_API_URL,HOSTNAME:window.location.hostname,IS_LOCALHOST:window.location.hostname==='localhost'||window.location.hostname==='127.0.0.1',USE_LOCAL_DEV:process.env.REACT_APP_USE_LOCAL_API==='true',CACHE_VERSION:CACHE_VERSION,DETECTION_REASON:process.env.REACT_APP_WIHY_API_URL?'ENV_VAR':(window.location.hostname==='localhost'||window.location.hostname==='127.0.0.1')&&process.env.REACT_APP_USE_LOCAL_API==='true'?'LOCAL_DEV':'PRODUCTION_ML_WIHY_AI'});// Dynamic endpoint helper functions\nexport const getApiEndpoint=function(){let path=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';const cleanPath=path.startsWith('/')?path:\"/\".concat(path);const fullUrl=\"\".concat(API_CONFIG.WIHY_API_URL).concat(cleanPath);console.log('🔍 API ENDPOINT DEBUG:',{path,cleanPath,baseURL:API_CONFIG.WIHY_API_URL,fullUrl});return fullUrl;};export const getWihyEndpoint=function(){let path=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';return getApiEndpoint(path);};export default API_CONFIG;","map":{"version":3,"names":["getWihyApiUrl","process","env","REACT_APP_WIHY_API_URL","USE_LOCAL_DEV","REACT_APP_USE_LOCAL_API","isLocalhost","window","location","hostname","CACHE_VERSION","API_CONFIG","WIHY_API_URL","console","log","NODE_ENV","FINAL_URL","HOSTNAME","IS_LOCALHOST","DETECTION_REASON","getApiEndpoint","path","arguments","length","undefined","cleanPath","startsWith","concat","fullUrl","baseURL","getWihyEndpoint"],"sources":["C:/repo/wihy_ui/client/src/config/apiConfig.ts"],"sourcesContent":["// Unified API configuration for mobile and desktop with dev flag\r\nconst getWihyApiUrl = () => {\r\n  // Check for explicit environment variable first (highest priority)\r\n  if (process.env.REACT_APP_WIHY_API_URL) {\r\n    return process.env.REACT_APP_WIHY_API_URL;\r\n  }\r\n  \r\n  // Development flag - set to true to use local dev server, false for production\r\n  const USE_LOCAL_DEV = process.env.REACT_APP_USE_LOCAL_API === 'true';\r\n  \r\n  // Check if we're on localhost (local development)\r\n  const isLocalhost = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1';\r\n  \r\n  if (isLocalhost && USE_LOCAL_DEV) {\r\n    // Local development with dev flag enabled - use localhost API with port\r\n    return 'http://localhost:8000';\r\n  } else {\r\n    // Production/deployed OR dev flag disabled - use ml.wihy.ai without port (standard HTTPS)\r\n    return 'https://ml.wihy.ai';\r\n  }\r\n};\r\n\r\n// Add cache busting version\r\nconst CACHE_VERSION = 'v2.0.1'; // Increment this after each deployment\r\n\r\n// Environment configuration for API endpoints\r\nexport const API_CONFIG = {\r\n  // WIHY API - Unified for mobile and desktop\r\n  WIHY_API_URL: getWihyApiUrl(),\r\n} as const;\r\n\r\n// Debug logging\r\nconsole.log('🔍 API CONFIG DEBUG:', {\r\n  NODE_ENV: process.env.NODE_ENV,\r\n  REACT_APP_WIHY_API_URL: process.env.REACT_APP_WIHY_API_URL,\r\n  FINAL_URL: API_CONFIG.WIHY_API_URL,\r\n  HOSTNAME: window.location.hostname,\r\n  IS_LOCALHOST: window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1',\r\n  USE_LOCAL_DEV: process.env.REACT_APP_USE_LOCAL_API === 'true',\r\n  CACHE_VERSION: CACHE_VERSION,\r\n  DETECTION_REASON: process.env.REACT_APP_WIHY_API_URL ? 'ENV_VAR' : \r\n    (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') && process.env.REACT_APP_USE_LOCAL_API === 'true' ? 'LOCAL_DEV' : 'PRODUCTION_ML_WIHY_AI'\r\n});\r\n\r\n// Dynamic endpoint helper functions\r\nexport const getApiEndpoint = (path: string = '') => {\r\n  const cleanPath = path.startsWith('/') ? path : `/${path}`;\r\n  const fullUrl = `${API_CONFIG.WIHY_API_URL}${cleanPath}`;\r\n  console.log('🔍 API ENDPOINT DEBUG:', { path, cleanPath, baseURL: API_CONFIG.WIHY_API_URL, fullUrl });\r\n  return fullUrl;\r\n};\r\n\r\nexport const getWihyEndpoint = (path: string = '') => {\r\n  return getApiEndpoint(path);\r\n};\r\n\r\nexport default API_CONFIG;"],"mappings":"AAAA;AACA,KAAM,CAAAA,aAAa,CAAGA,CAAA,GAAM,CAC1B;AACA,GAAIC,OAAO,CAACC,GAAG,CAACC,sBAAsB,CAAE,CACtC,MAAO,CAAAF,OAAO,CAACC,GAAG,CAACC,sBAAsB,CAC3C,CAEA;AACA,KAAM,CAAAC,aAAa,CAAGH,OAAO,CAACC,GAAG,CAACG,uBAAuB,GAAK,MAAM,CAEpE;AACA,KAAM,CAAAC,WAAW,CAAGC,MAAM,CAACC,QAAQ,CAACC,QAAQ,GAAK,WAAW,EAAIF,MAAM,CAACC,QAAQ,CAACC,QAAQ,GAAK,WAAW,CAExG,GAAIH,WAAW,EAAIF,aAAa,CAAE,CAChC;AACA,MAAO,uBAAuB,CAChC,CAAC,IAAM,CACL;AACA,MAAO,oBAAoB,CAC7B,CACF,CAAC,CAED;AACA,KAAM,CAAAM,aAAa,CAAG,QAAQ,CAAE;AAEhC;AACA,MAAO,MAAM,CAAAC,UAAU,CAAG,CACxB;AACAC,YAAY,CAAEZ,aAAa,CAAC,CAC9B,CAAU,CAEV;AACAa,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAE,CAClCC,QAAQ,CAAEd,OAAO,CAACC,GAAG,CAACa,QAAQ,CAC9BZ,sBAAsB,CAAEF,OAAO,CAACC,GAAG,CAACC,sBAAsB,CAC1Da,SAAS,CAAEL,UAAU,CAACC,YAAY,CAClCK,QAAQ,CAAEV,MAAM,CAACC,QAAQ,CAACC,QAAQ,CAClCS,YAAY,CAAEX,MAAM,CAACC,QAAQ,CAACC,QAAQ,GAAK,WAAW,EAAIF,MAAM,CAACC,QAAQ,CAACC,QAAQ,GAAK,WAAW,CAClGL,aAAa,CAAEH,OAAO,CAACC,GAAG,CAACG,uBAAuB,GAAK,MAAM,CAC7DK,aAAa,CAAEA,aAAa,CAC5BS,gBAAgB,CAAElB,OAAO,CAACC,GAAG,CAACC,sBAAsB,CAAG,SAAS,CAC9D,CAACI,MAAM,CAACC,QAAQ,CAACC,QAAQ,GAAK,WAAW,EAAIF,MAAM,CAACC,QAAQ,CAACC,QAAQ,GAAK,WAAW,GAAKR,OAAO,CAACC,GAAG,CAACG,uBAAuB,GAAK,MAAM,CAAG,WAAW,CAAG,uBAC7J,CAAC,CAAC,CAEF;AACA,MAAO,MAAM,CAAAe,cAAc,CAAG,QAAAA,CAAA,CAAuB,IAAtB,CAAAC,IAAY,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,EAAE,CAC9C,KAAM,CAAAG,SAAS,CAAGJ,IAAI,CAACK,UAAU,CAAC,GAAG,CAAC,CAAGL,IAAI,KAAAM,MAAA,CAAON,IAAI,CAAE,CAC1D,KAAM,CAAAO,OAAO,IAAAD,MAAA,CAAMhB,UAAU,CAACC,YAAY,EAAAe,MAAA,CAAGF,SAAS,CAAE,CACxDZ,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAE,CAAEO,IAAI,CAAEI,SAAS,CAAEI,OAAO,CAAElB,UAAU,CAACC,YAAY,CAAEgB,OAAQ,CAAC,CAAC,CACrG,MAAO,CAAAA,OAAO,CAChB,CAAC,CAED,MAAO,MAAM,CAAAE,eAAe,CAAG,QAAAA,CAAA,CAAuB,IAAtB,CAAAT,IAAY,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,EAAE,CAC/C,MAAO,CAAAF,cAAc,CAACC,IAAI,CAAC,CAC7B,CAAC,CAED,cAAe,CAAAV,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}