{"ast":null,"code":"import _objectSpread from\"C:/Users/Kortn/AppData/Roaming/npm/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import'./MultiAuthLogin.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MultiAuthLogin=_ref=>{var _user$name;let{position='top-right',className='',onUserChange,onSignIn,onSignOut,customProviders,storageKey='vhealth_user',title='Sign in to vHealth',disclaimer='Your health data is secure and private. We only use your account for authentication.'}=_ref;const[user,setUser]=useState(null);const[showProviders,setShowProviders]=useState(false);const[showDropdown,setShowDropdown]=useState(false);const[loading,setLoading]=useState(false);// Default authentication providers configuration\nconst defaultAuthProviders=[{name:'Google',id:'google',icon:/*#__PURE__*/_jsxs(\"svg\",{viewBox:\"0 0 24 24\",className:\"provider-icon\",children:[/*#__PURE__*/_jsx(\"path\",{fill:\"#4285F4\",d:\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"#34A853\",d:\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"#FBBC05\",d:\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"#EA4335\",d:\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"})]}),color:'#4285F4',clientId:process.env.REACT_APP_GOOGLE_CLIENT_ID||'your-google-client-id',authUrl:'https://accounts.google.com/oauth/authorize'},{name:'Microsoft',id:'microsoft',icon:/*#__PURE__*/_jsxs(\"svg\",{viewBox:\"0 0 24 24\",className:\"provider-icon\",children:[/*#__PURE__*/_jsx(\"path\",{fill:\"#F25022\",d:\"M1 1h10v10H1z\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"#00A4EF\",d:\"M13 1h10v10H13z\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"#7FBA00\",d:\"M1 13h10v10H1z\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"#FFB900\",d:\"M13 13h10v10H13z\"})]}),color:'#0078D4',clientId:process.env.REACT_APP_MICROSOFT_CLIENT_ID||'your-microsoft-client-id',authUrl:'https://login.microsoftonline.com/common/oauth2/v2.0/authorize'},{name:'Apple',id:'apple',icon:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",className:\"provider-icon\",children:/*#__PURE__*/_jsx(\"path\",{fill:\"#000\",d:\"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z\"})}),color:'#000',clientId:process.env.REACT_APP_APPLE_CLIENT_ID||'your-apple-client-id',authUrl:'https://appleid.apple.com/auth/authorize'},{name:'Facebook',id:'facebook',icon:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",className:\"provider-icon\",children:/*#__PURE__*/_jsx(\"path\",{fill:\"#1877F2\",d:\"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\"})}),color:'#1877F2',clientId:process.env.REACT_APP_FACEBOOK_CLIENT_ID||'your-facebook-client-id',authUrl:'https://www.facebook.com/v18.0/dialog/oauth'}];const authProviders=customProviders||defaultAuthProviders;useEffect(()=>{// Check if user is already logged in\nconst savedUser=localStorage.getItem(storageKey);if(savedUser){try{const parsedUser=JSON.parse(savedUser);setUser(parsedUser);onUserChange===null||onUserChange===void 0?void 0:onUserChange(parsedUser);}catch(error){console.error('Error parsing saved user:',error);localStorage.removeItem(storageKey);}}// Handle OAuth callback\nconst urlParams=new URLSearchParams(window.location.search);const code=urlParams.get('code');const state=urlParams.get('state');if(code&&state&&!user){handleOAuthCallback(code,state);}},[storageKey,onUserChange]);const handleOAuthCallback=async(code,state)=>{setLoading(true);try{const provider=state;// TODO: Replace with actual API call to your backend\n// const response = await fetch('/api/auth/oauth/callback', {\n//   method: 'POST',\n//   headers: { 'Content-Type': 'application/json' },\n//   body: JSON.stringify({ code, state, provider })\n// });\n// const userData = await response.json();\n// For demo purposes, simulate a successful login\nawait new Promise(resolve=>setTimeout(resolve,1000));const mockUser={id:\"\".concat(provider,\"-123456\"),name:\"User from \".concat(provider.charAt(0).toUpperCase()+provider.slice(1)),email:\"user@\".concat(provider==='microsoft'?'outlook.com':provider,\".com\"),picture:\"https://via.placeholder.com/40/\".concat(getProviderColor(provider).replace('#',''),\"/ffffff?text=\").concat(provider.charAt(0).toUpperCase()),provider};setUser(mockUser);localStorage.setItem(storageKey,JSON.stringify(mockUser));onUserChange===null||onUserChange===void 0?void 0:onUserChange(mockUser);onSignIn===null||onSignIn===void 0?void 0:onSignIn(mockUser);// Clean up URL\nwindow.history.replaceState({},document.title,window.location.pathname);}catch(error){console.error('OAuth callback error:',error);}finally{setLoading(false);}};const getProviderColor=provider=>{const providerObj=authProviders.find(p=>p.id===provider);return(providerObj===null||providerObj===void 0?void 0:providerObj.color)||'#666';};const handleProviderLogin=provider=>{const params=new URLSearchParams(_objectSpread(_objectSpread({client_id:provider.clientId,redirect_uri:window.location.origin,response_type:'code',scope:getProviderScopes(provider.id),state:provider.id},provider.id==='microsoft'&&{response_mode:'query'}),provider.id==='apple'&&{response_mode:'form_post'}));const authUrl=\"\".concat(provider.authUrl,\"?\").concat(params.toString());window.location.href=authUrl;};const getProviderScopes=providerId=>{const scopes={google:'openid profile email',microsoft:'openid profile email',apple:'name email',facebook:'email public_profile'};return scopes[providerId]||'profile email';};const handleSignOut=()=>{setUser(null);localStorage.removeItem(storageKey);setShowDropdown(false);setShowProviders(false);onUserChange===null||onUserChange===void 0?void 0:onUserChange(null);onSignOut===null||onSignOut===void 0?void 0:onSignOut();};const handleLoginClick=()=>{if(user){setShowDropdown(!showDropdown);}else{setShowProviders(!showProviders);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"multi-auth-container \".concat(position,\" \").concat(className),children:[/*#__PURE__*/_jsx(\"button\",{className:\"login-icon \".concat(user?'authenticated':''),onClick:handleLoginClick,disabled:loading,\"aria-label\":user?'User menu':'Sign in',children:loading?/*#__PURE__*/_jsx(\"div\",{className:\"login-spinner\"}):user?user.picture?/*#__PURE__*/_jsx(\"img\",{src:user.picture,alt:\"Profile\",className:\"profile-image\"}):/*#__PURE__*/_jsx(\"div\",{className:\"profile-initial\",style:{backgroundColor:getProviderColor(user.provider)},children:((_user$name=user.name)===null||_user$name===void 0?void 0:_user$name.charAt(0))||'U'}):/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"})})}),!user&&showProviders&&/*#__PURE__*/_jsxs(\"div\",{className:\"providers-popup\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"providers-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:title}),/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",onClick:()=>setShowProviders(false),children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"providers-list\",children:authProviders.map(provider=>/*#__PURE__*/_jsxs(\"button\",{className:\"provider-button\",onClick:()=>handleProviderLogin(provider),style:{'--provider-color':provider.color},children:[provider.icon,/*#__PURE__*/_jsxs(\"span\",{children:[\"Continue with \",provider.name]})]},provider.id))}),/*#__PURE__*/_jsx(\"p\",{className:\"providers-disclaimer\",children:disclaimer})]}),user&&showDropdown&&/*#__PURE__*/_jsxs(\"div\",{className:\"user-dropdown\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"user-name\",children:user.name}),/*#__PURE__*/_jsx(\"div\",{className:\"user-email\",children:user.email}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-provider\",children:[\"Signed in with \",user.provider.charAt(0).toUpperCase()+user.provider.slice(1)]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-divider\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"dropdown-item\",onClick:handleSignOut,children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",className:\"dropdown-icon\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.59L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z\"})}),\"Sign Out\"]})]}),(showProviders||showDropdown)&&/*#__PURE__*/_jsx(\"div\",{className:\"auth-overlay\",onClick:()=>{setShowProviders(false);setShowDropdown(false);}})]});};export default MultiAuthLogin;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","MultiAuthLogin","_ref","_user$name","position","className","onUserChange","onSignIn","onSignOut","customProviders","storageKey","title","disclaimer","user","setUser","showProviders","setShowProviders","showDropdown","setShowDropdown","loading","setLoading","defaultAuthProviders","name","id","icon","viewBox","children","fill","d","color","clientId","process","env","REACT_APP_GOOGLE_CLIENT_ID","authUrl","REACT_APP_MICROSOFT_CLIENT_ID","REACT_APP_APPLE_CLIENT_ID","REACT_APP_FACEBOOK_CLIENT_ID","authProviders","savedUser","localStorage","getItem","parsedUser","JSON","parse","error","console","removeItem","urlParams","URLSearchParams","window","location","search","code","get","state","handleOAuthCallback","provider","Promise","resolve","setTimeout","mockUser","concat","charAt","toUpperCase","slice","email","picture","getProviderColor","replace","setItem","stringify","history","replaceState","document","pathname","providerObj","find","p","handleProviderLogin","params","_objectSpread","client_id","redirect_uri","origin","response_type","scope","getProviderScopes","response_mode","toString","href","providerId","scopes","google","microsoft","apple","facebook","handleSignOut","handleLoginClick","onClick","disabled","src","alt","style","backgroundColor","map"],"sources":["C:/vHealth/vhealth/client/src/components/shared/components/MultiAuthLogin.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './MultiAuthLogin.css';\r\n\r\nexport interface User {\r\n  id: string;\r\n  name: string;\r\n  email: string;\r\n  picture?: string;\r\n  provider: 'google' | 'microsoft' | 'apple' | 'facebook';\r\n}\r\n\r\nexport interface AuthProvider {\r\n  name: string;\r\n  id: 'google' | 'microsoft' | 'apple' | 'facebook';\r\n  icon: React.ReactNode; // Changed from JSX.Element\r\n  color: string;\r\n  clientId: string;\r\n  authUrl: string;\r\n}\r\n\r\ninterface MultiAuthLoginProps {\r\n  position?: 'top-right' | 'inline';\r\n  className?: string;\r\n  onUserChange?: (user: User | null) => void;\r\n  onSignIn?: (user: User) => void;\r\n  onSignOut?: () => void;\r\n  customProviders?: AuthProvider[];\r\n  storageKey?: string;\r\n  title?: string;\r\n  disclaimer?: string;\r\n}\r\n\r\nconst MultiAuthLogin: React.FC<MultiAuthLoginProps> = ({\r\n  position = 'top-right',\r\n  className = '',\r\n  onUserChange,\r\n  onSignIn,\r\n  onSignOut,\r\n  customProviders,\r\n  storageKey = 'vhealth_user',\r\n  title = 'Sign in to vHealth',\r\n  disclaimer = 'Your health data is secure and private. We only use your account for authentication.'\r\n}) => {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [showProviders, setShowProviders] = useState(false);\r\n  const [showDropdown, setShowDropdown] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // Default authentication providers configuration\r\n  const defaultAuthProviders: AuthProvider[] = [\r\n    {\r\n      name: 'Google',\r\n      id: 'google',\r\n      icon: (\r\n        <svg viewBox=\"0 0 24 24\" className=\"provider-icon\">\r\n          <path fill=\"#4285F4\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"/>\r\n          <path fill=\"#34A853\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"/>\r\n          <path fill=\"#FBBC05\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"/>\r\n          <path fill=\"#EA4335\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"/>\r\n        </svg>\r\n      ),\r\n      color: '#4285F4',\r\n      clientId: process.env.REACT_APP_GOOGLE_CLIENT_ID || 'your-google-client-id',\r\n      authUrl: 'https://accounts.google.com/oauth/authorize'\r\n    },\r\n    {\r\n      name: 'Microsoft',\r\n      id: 'microsoft',\r\n      icon: (\r\n        <svg viewBox=\"0 0 24 24\" className=\"provider-icon\">\r\n          <path fill=\"#F25022\" d=\"M1 1h10v10H1z\"/>\r\n          <path fill=\"#00A4EF\" d=\"M13 1h10v10H13z\"/>\r\n          <path fill=\"#7FBA00\" d=\"M1 13h10v10H1z\"/>\r\n          <path fill=\"#FFB900\" d=\"M13 13h10v10H13z\"/>\r\n        </svg>\r\n      ),\r\n      color: '#0078D4',\r\n      clientId: process.env.REACT_APP_MICROSOFT_CLIENT_ID || 'your-microsoft-client-id',\r\n      authUrl: 'https://login.microsoftonline.com/common/oauth2/v2.0/authorize'\r\n    },\r\n    {\r\n      name: 'Apple',\r\n      id: 'apple',\r\n      icon: (\r\n        <svg viewBox=\"0 0 24 24\" className=\"provider-icon\">\r\n          <path fill=\"#000\" d=\"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z\"/>\r\n        </svg>\r\n      ),\r\n      color: '#000',\r\n      clientId: process.env.REACT_APP_APPLE_CLIENT_ID || 'your-apple-client-id',\r\n      authUrl: 'https://appleid.apple.com/auth/authorize'\r\n    },\r\n    {\r\n      name: 'Facebook',\r\n      id: 'facebook',\r\n      icon: (\r\n        <svg viewBox=\"0 0 24 24\" className=\"provider-icon\">\r\n          <path fill=\"#1877F2\" d=\"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\"/>\r\n        </svg>\r\n      ),\r\n      color: '#1877F2',\r\n      clientId: process.env.REACT_APP_FACEBOOK_CLIENT_ID || 'your-facebook-client-id',\r\n      authUrl: 'https://www.facebook.com/v18.0/dialog/oauth'\r\n    }\r\n  ];\r\n\r\n  const authProviders = customProviders || defaultAuthProviders;\r\n\r\n  useEffect(() => {\r\n    // Check if user is already logged in\r\n    const savedUser = localStorage.getItem(storageKey);\r\n    if (savedUser) {\r\n      try {\r\n        const parsedUser = JSON.parse(savedUser);\r\n        setUser(parsedUser);\r\n        onUserChange?.(parsedUser);\r\n      } catch (error) {\r\n        console.error('Error parsing saved user:', error);\r\n        localStorage.removeItem(storageKey);\r\n      }\r\n    }\r\n\r\n    // Handle OAuth callback\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const code = urlParams.get('code');\r\n    const state = urlParams.get('state');\r\n    \r\n    if (code && state && !user) {\r\n      handleOAuthCallback(code, state);\r\n    }\r\n  }, [storageKey, onUserChange]);\r\n\r\n  const handleOAuthCallback = async (code: string, state: string) => {\r\n    setLoading(true);\r\n    try {\r\n      const provider = state as 'google' | 'microsoft' | 'apple' | 'facebook';\r\n      \r\n      // TODO: Replace with actual API call to your backend\r\n      // const response = await fetch('/api/auth/oauth/callback', {\r\n      //   method: 'POST',\r\n      //   headers: { 'Content-Type': 'application/json' },\r\n      //   body: JSON.stringify({ code, state, provider })\r\n      // });\r\n      // const userData = await response.json();\r\n      \r\n      // For demo purposes, simulate a successful login\r\n      await new Promise(resolve => setTimeout(resolve, 1000));\r\n      \r\n      const mockUser: User = {\r\n        id: `${provider}-123456`,\r\n        name: `User from ${provider.charAt(0).toUpperCase() + provider.slice(1)}`,\r\n        email: `user@${provider === 'microsoft' ? 'outlook.com' : provider}.com`,\r\n        picture: `https://via.placeholder.com/40/${getProviderColor(provider).replace('#', '')}/ffffff?text=${provider.charAt(0).toUpperCase()}`,\r\n        provider\r\n      };\r\n\r\n      setUser(mockUser);\r\n      localStorage.setItem(storageKey, JSON.stringify(mockUser));\r\n      onUserChange?.(mockUser);\r\n      onSignIn?.(mockUser);\r\n      \r\n      // Clean up URL\r\n      window.history.replaceState({}, document.title, window.location.pathname);\r\n    } catch (error) {\r\n      console.error('OAuth callback error:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getProviderColor = (provider: string): string => {\r\n    const providerObj = authProviders.find(p => p.id === provider);\r\n    return providerObj?.color || '#666';\r\n  };\r\n\r\n  const handleProviderLogin = (provider: AuthProvider) => {\r\n    const params = new URLSearchParams({\r\n      client_id: provider.clientId,\r\n      redirect_uri: window.location.origin,\r\n      response_type: 'code',\r\n      scope: getProviderScopes(provider.id),\r\n      state: provider.id,\r\n      ...(provider.id === 'microsoft' && { response_mode: 'query' }),\r\n      ...(provider.id === 'apple' && { response_mode: 'form_post' })\r\n    });\r\n\r\n    const authUrl = `${provider.authUrl}?${params.toString()}`;\r\n    window.location.href = authUrl;\r\n  };\r\n\r\n  const getProviderScopes = (providerId: string): string => {\r\n    const scopes = {\r\n      google: 'openid profile email',\r\n      microsoft: 'openid profile email',\r\n      apple: 'name email',\r\n      facebook: 'email public_profile'\r\n    };\r\n    return scopes[providerId as keyof typeof scopes] || 'profile email';\r\n  };\r\n\r\n  const handleSignOut = () => {\r\n    setUser(null);\r\n    localStorage.removeItem(storageKey);\r\n    setShowDropdown(false);\r\n    setShowProviders(false);\r\n    onUserChange?.(null);\r\n    onSignOut?.();\r\n  };\r\n\r\n  const handleLoginClick = () => {\r\n    if (user) {\r\n      setShowDropdown(!showDropdown);\r\n    } else {\r\n      setShowProviders(!showProviders);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`multi-auth-container ${position} ${className}`}>\r\n      {/* Main Login Button */}\r\n      <button \r\n        className={`login-icon ${user ? 'authenticated' : ''}`}\r\n        onClick={handleLoginClick}\r\n        disabled={loading}\r\n        aria-label={user ? 'User menu' : 'Sign in'}\r\n      >\r\n        {loading ? (\r\n          <div className=\"login-spinner\"></div>\r\n        ) : user ? (\r\n          user.picture ? (\r\n            <img \r\n              src={user.picture} \r\n              alt=\"Profile\" \r\n              className=\"profile-image\"\r\n            />\r\n          ) : (\r\n            <div \r\n              className=\"profile-initial\"\r\n              style={{ backgroundColor: getProviderColor(user.provider) }}\r\n            >\r\n              {user.name?.charAt(0) || 'U'}\r\n            </div>\r\n          )\r\n        ) : (\r\n          <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n            <path d=\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"/>\r\n          </svg>\r\n        )}\r\n      </button>\r\n\r\n      {/* Provider Selection Popup */}\r\n      {!user && showProviders && (\r\n        <div className=\"providers-popup\">\r\n          <div className=\"providers-header\">\r\n            <h3>{title}</h3>\r\n            <button \r\n              className=\"close-button\"\r\n              onClick={() => setShowProviders(false)}\r\n            >\r\n              ×\r\n            </button>\r\n          </div>\r\n          <div className=\"providers-list\">\r\n            {authProviders.map((provider) => (\r\n              <button\r\n                key={provider.id}\r\n                className=\"provider-button\"\r\n                onClick={() => handleProviderLogin(provider)}\r\n                style={{ '--provider-color': provider.color } as React.CSSProperties}\r\n              >\r\n                {provider.icon}\r\n                <span>Continue with {provider.name}</span>\r\n              </button>\r\n            ))}\r\n          </div>\r\n          <p className=\"providers-disclaimer\">\r\n            {disclaimer}\r\n          </p>\r\n        </div>\r\n      )}\r\n\r\n      {/* User Dropdown */}\r\n      {user && showDropdown && (\r\n        <div className=\"user-dropdown\">\r\n          <div className=\"user-info\">\r\n            <div className=\"user-name\">{user.name}</div>\r\n            <div className=\"user-email\">{user.email}</div>\r\n            <div className=\"user-provider\">\r\n              Signed in with {user.provider.charAt(0).toUpperCase() + user.provider.slice(1)}\r\n            </div>\r\n          </div>\r\n          <div className=\"dropdown-divider\"></div>\r\n          <button className=\"dropdown-item\" onClick={handleSignOut}>\r\n            <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" className=\"dropdown-icon\">\r\n              <path d=\"M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.59L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z\"/>\r\n            </svg>\r\n            Sign Out\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Overlay */}\r\n      {(showProviders || showDropdown) && (\r\n        <div \r\n          className=\"auth-overlay\" \r\n          onClick={() => {\r\n            setShowProviders(false);\r\n            setShowDropdown(false);\r\n          }}\r\n        ></div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MultiAuthLogin;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}