{"ast":null,"code":"var _jsxFileName = \"C:\\\\repo\\\\wihy_ui\\\\client\\\\src\\\\components\\\\ui\\\\FullScreenChat.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { chatService } from '../../services/chatService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FullScreenChat = ({\n  isOpen,\n  onClose,\n  initialQuery,\n  initialResponse\n}) => {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [showMobileHistory, setShowMobileHistory] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n  const [hasActiveSession, setHasActiveSession] = useState(false);\n  const messagesEndRef = useRef(null);\n  const inputRef = useRef(null);\n\n  // Check for mobile screen size\n  useEffect(() => {\n    const checkMobile = () => {\n      setIsMobile(window.innerWidth <= 768);\n    };\n    checkMobile();\n    window.addEventListener('resize', checkMobile);\n    return () => window.removeEventListener('resize', checkMobile);\n  }, []);\n\n  // Check for active session when component opens\n  useEffect(() => {\n    if (isOpen) {\n      const sessionId = chatService.getCurrentSessionId();\n      const conversationId = chatService.getConversationId();\n      // Only consider it an active session if there's a session ID or conversation ID\n      // indicating there's been previous chat interaction\n      setHasActiveSession(Boolean(sessionId || conversationId));\n      console.log('🔍 FULL SCREEN CHAT: Session check:', {\n        hasSessionId: Boolean(sessionId),\n        hasConversationId: Boolean(conversationId),\n        hasActiveSession: Boolean(sessionId || conversationId)\n      });\n    }\n  }, [isOpen]);\n\n  // Initialize with provided query/response\n  useEffect(() => {\n    if (initialQuery && initialResponse) {\n      const initialMessages = [{\n        id: '1',\n        type: 'user',\n        message: initialQuery,\n        timestamp: new Date()\n      }, {\n        id: '2',\n        type: 'assistant',\n        message: initialResponse,\n        timestamp: new Date()\n      }];\n      setMessages(initialMessages);\n    }\n  }, [initialQuery, initialResponse]);\n\n  // Auto-scroll to bottom\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages]);\n  const formatTime = date => {\n    return date.toLocaleTimeString([], {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  const handleSendMessage = async () => {\n    if (!inputMessage.trim() || isLoading) return;\n    const messageText = inputMessage.trim();\n    setInputMessage('');\n    setIsLoading(true);\n\n    // Add user message\n    const userMessage = {\n      id: Date.now().toString(),\n      type: 'user',\n      message: messageText,\n      timestamp: new Date()\n    };\n    setMessages(prev => [...prev, userMessage]);\n    try {\n      // Get AI response\n      const response = await chatService.sendMessage(messageText);\n      let aiResponse;\n      if (typeof response === 'object' && response !== null) {\n        if ('data' in response && typeof response.data === 'string') {\n          aiResponse = response.data;\n        } else if ('analysis' in response && typeof response.analysis === 'string') {\n          aiResponse = response.analysis;\n        } else if ('response' in response && typeof response.response === 'string') {\n          aiResponse = response.response;\n        } else if ('message' in response && typeof response.message === 'string') {\n          aiResponse = response.message;\n        } else {\n          aiResponse = 'I received your message but had trouble formatting the response. Could you try asking in a different way?';\n        }\n      } else if (typeof response === 'string') {\n        aiResponse = response;\n      } else {\n        aiResponse = 'I apologize, but I encountered an issue processing your request. Could you please try again?';\n      }\n\n      // Provide helpful health responses for demo\n      if (aiResponse.length < 20 || aiResponse.includes('There is no cure')) {\n        const userQuery = messageText.toLowerCase();\n        if (userQuery.includes('healthy') || userQuery.includes('health')) {\n          aiResponse = \"Great question about health! Being healthy generally involves maintaining a balanced diet, regular exercise, adequate sleep, and managing stress. What specific aspect of health would you like to explore?\";\n        } else if (userQuery.includes('diet') || userQuery.includes('nutrition') || userQuery.includes('eat')) {\n          aiResponse = \"Nutrition is key to good health! A balanced diet with plenty of fruits, vegetables, whole grains, and lean proteins is important. Would you like tips on any specific dietary concerns?\";\n        } else if (userQuery.includes('exercise') || userQuery.includes('fitness')) {\n          aiResponse = \"Regular physical activity is essential for health! Aim for at least 150 minutes of moderate exercise per week. What type of activities interest you?\";\n        } else {\n          aiResponse = \"I'm here to help with your health questions! What would you like to know about nutrition, exercise, or wellness?\";\n        }\n      }\n      const aiMessage = {\n        id: Date.now().toString() + '-assistant',\n        type: 'assistant',\n        message: aiResponse,\n        timestamp: new Date()\n      };\n      setMessages(prev => [...prev, aiMessage]);\n\n      // After first successful message exchange, we now have an active session\n      if (!hasActiveSession) {\n        setHasActiveSession(true);\n        console.log('🔍 FULL SCREEN CHAT: Session now active after first message exchange');\n      }\n    } catch (error) {\n      console.error('Chat error:', error);\n      const errorMessage = {\n        id: Date.now().toString() + '-assistant',\n        type: 'assistant',\n        message: \"I'm having trouble connecting right now. Please try again in a moment.\",\n        timestamp: new Date()\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  // Manage body scroll when chat is open\n  useEffect(() => {\n    if (isOpen) {\n      document.body.classList.add('chat-open');\n    } else {\n      document.body.classList.remove('chat-open');\n    }\n\n    // Cleanup when component unmounts\n    return () => {\n      document.body.classList.remove('chat-open');\n    };\n  }, [isOpen]);\n  if (!isOpen) return null;\n\n  // Determine if we should show chat history (only if there's an active session with history)\n  const shouldShowHistory = hasActiveSession && (messages.length > 0 || initialQuery && initialResponse);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fullscreen-chat-container\",\n    style: {\n      position: 'fixed',\n      top: '170px',\n      // Start 10px below the header (160px + 10px gap)\n      left: 0,\n      right: 0,\n      bottom: 0,\n      backgroundColor: '#ffffff',\n      zIndex: 10000,\n      display: 'flex',\n      flexDirection: isMobile ? 'column' : 'row',\n      fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\n      height: 'calc(100vh - 170px)',\n      // Adjust height for the gap\n      overflow: 'hidden',\n      // Completely hide any overflow\n      borderTop: '1px solid #e5e7eb',\n      // Add subtle border to separate from header\n      boxShadow: '0 -2px 10px rgba(0, 0, 0, 0.1)' // Add subtle shadow to lift the chat\n    },\n    children: [isMobile && shouldShowHistory && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '16px',\n        left: '16px',\n        zIndex: 101\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowMobileHistory(!showMobileHistory),\n        style: {\n          width: '40px',\n          height: '40px',\n          borderRadius: '8px',\n          border: 'none',\n          backgroundColor: '#f3f4f6',\n          cursor: 'pointer',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          fontSize: '16px',\n          color: '#6b7280',\n          transition: 'all 0.2s ease'\n        },\n        children: \"\\u2630\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 9\n    }, this), shouldShowHistory && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: isMobile ? '100%' : '280px',\n        height: isMobile ? showMobileHistory ? '50%' : '0' : '100%',\n        backgroundColor: '#f9fafb',\n        borderRight: isMobile ? 'none' : '1px solid #e5e7eb',\n        borderBottom: isMobile ? '1px solid #e5e7eb' : 'none',\n        display: 'flex',\n        flexDirection: 'column',\n        overflow: 'hidden',\n        transition: isMobile ? 'height 0.3s ease' : 'none',\n        position: isMobile ? 'relative' : 'static',\n        zIndex: isMobile ? 100 : 'auto'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '20px 16px',\n          borderBottom: '1px solid #e5e7eb',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'space-between'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            margin: 0,\n            fontSize: '16px',\n            fontWeight: '600',\n            color: '#1f2937'\n          },\n          children: \"Chat History\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 11\n        }, this), isMobile && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowMobileHistory(false),\n          style: {\n            width: '24px',\n            height: '24px',\n            borderRadius: '4px',\n            border: 'none',\n            backgroundColor: 'transparent',\n            cursor: 'pointer',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            fontSize: '14px',\n            color: '#6b7280'\n          },\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1,\n          overflow: 'hidden'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '8px',\n            height: '100%',\n            overflowY: 'auto',\n            overflowX: 'hidden'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: '12px',\n              marginBottom: '8px',\n              backgroundColor: '#ffffff',\n              borderRadius: '8px',\n              border: '1px solid #e5e7eb',\n              cursor: 'pointer'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '14px',\n                fontWeight: '500',\n                color: '#1f2937',\n                marginBottom: '4px',\n                overflow: 'hidden',\n                textOverflow: 'ellipsis',\n                whiteSpace: 'nowrap'\n              },\n              children: initialQuery || 'Current Chat'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '12px',\n                color: '#6b7280'\n              },\n              children: \"Active now\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 13\n          }, this), ['Health and nutrition basics', 'Exercise routine planning', 'Sleep optimization tips', 'Stress management techniques'].map((chat, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: '12px',\n              marginBottom: '8px',\n              borderRadius: '8px',\n              cursor: 'pointer',\n              transition: 'background-color 0.2s ease'\n            },\n            onMouseEnter: e => {\n              e.currentTarget.style.backgroundColor = '#f3f4f6';\n            },\n            onMouseLeave: e => {\n              e.currentTarget.style.backgroundColor = 'transparent';\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '14px',\n                color: '#374151',\n                marginBottom: '4px',\n                overflow: 'hidden',\n                textOverflow: 'ellipsis',\n                whiteSpace: 'nowrap'\n              },\n              children: chat\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '12px',\n                color: '#9ca3af'\n              },\n              children: [index + 1, \" days ago\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        height: isMobile ? shouldShowHistory && showMobileHistory ? '50%' : '100%' : '100%',\n        overflow: 'hidden'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'space-between',\n          padding: isMobile ? '16px 60px 16px 16px' : '16px 24px',\n          borderBottom: '1px solid #e5e7eb',\n          backgroundColor: '#ffffff',\n          flexShrink: 0\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: '12px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            style: {\n              margin: 0,\n              fontSize: isMobile ? '20px' : '24px',\n              fontWeight: '600',\n              color: '#1f2937'\n            },\n            children: \"Let's Chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => {\n            e.preventDefault();\n            e.stopPropagation();\n            console.log('Close button clicked - calling onClose');\n            onClose();\n          },\n          style: {\n            width: '40px',\n            height: '40px',\n            borderRadius: '50%',\n            border: 'none',\n            backgroundColor: '#f3f4f6',\n            cursor: 'pointer',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            fontSize: '18px',\n            color: '#6b7280',\n            transition: 'all 0.2s ease',\n            zIndex: 10001,\n            // Ensure it's above everything else\n            position: 'relative' // Ensure proper positioning context\n          },\n          onMouseEnter: e => {\n            e.currentTarget.style.backgroundColor = '#e5e7eb';\n            e.currentTarget.style.transform = 'scale(1.05)'; // Slight scale for better UX\n          },\n          onMouseLeave: e => {\n            e.currentTarget.style.backgroundColor = '#f3f4f6';\n            e.currentTarget.style.transform = 'scale(1)';\n          },\n          title: \"Close chat\" // Add tooltip for accessibility\n          ,\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1,\n          display: 'flex',\n          flexDirection: 'column',\n          overflow: 'hidden',\n          minHeight: 0 // Ensures flex child can shrink\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: 1,\n            overflowY: 'auto',\n            overflowX: 'hidden',\n            padding: isMobile ? '16px' : '24px',\n            maxWidth: isMobile ? '100%' : '768px',\n            margin: '0 auto',\n            width: '100%',\n            scrollBehavior: 'smooth',\n            minHeight: 0,\n            // Ensures proper scrolling within flex\n            maxHeight: '100%' // Prevents overflow beyond container\n          },\n          children: [messages.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              alignItems: 'center',\n              justifyContent: 'center',\n              height: '60vh',\n              textAlign: 'center',\n              color: '#6b7280'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: isMobile ? '48px' : '64px',\n                height: isMobile ? '48px' : '64px',\n                borderRadius: '16px',\n                backgroundColor: '#f3f4f6',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                fontSize: isMobile ? '20px' : '24px',\n                marginBottom: '16px'\n              },\n              children: \"\\uD83D\\uDCAC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                fontSize: isMobile ? '18px' : '20px',\n                fontWeight: '600',\n                color: '#1f2937',\n                margin: '0 0 8px 0'\n              },\n              children: \"How can I help you today?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                fontSize: isMobile ? '14px' : '16px',\n                margin: 0,\n                maxWidth: isMobile ? '300px' : '400px'\n              },\n              children: \"Ask me anything about health, nutrition, exercise, or wellness. I'm here to provide evidence-based guidance.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 15\n          }, this) : messages.map(message => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: isMobile ? '12px' : '16px',\n              marginBottom: isMobile ? '16px' : '24px',\n              alignItems: 'flex-start'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: isMobile ? '28px' : '32px',\n                height: isMobile ? '28px' : '32px',\n                borderRadius: '50%',\n                backgroundColor: message.type === 'user' ? '#10b981' : '#f3f4f6',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                color: message.type === 'user' ? 'white' : '#6b7280',\n                fontSize: isMobile ? '12px' : '14px',\n                fontWeight: 'bold',\n                flexShrink: 0\n              },\n              children: message.type === 'user' ? 'U' : /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"/assets/wihyfavicon.png\",\n                alt: \"WiHy\",\n                style: {\n                  width: isMobile ? '16px' : '20px',\n                  height: isMobile ? '16px' : '20px',\n                  borderRadius: '4px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 524,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 510,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                flex: 1,\n                minWidth: 0\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: isMobile ? '14px' : '16px',\n                  lineHeight: '1.6',\n                  color: '#1f2937',\n                  whiteSpace: 'pre-wrap',\n                  wordWrap: 'break-word'\n                },\n                children: message.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 537,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '12px',\n                  color: '#9ca3af',\n                  marginTop: '8px'\n                },\n                children: formatTime(message.timestamp)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 546,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 19\n            }, this)]\n          }, message.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 17\n          }, this)), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: isMobile ? '12px' : '16px',\n              marginBottom: isMobile ? '16px' : '24px',\n              alignItems: 'flex-start'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: isMobile ? '28px' : '32px',\n                height: isMobile ? '28px' : '32px',\n                borderRadius: '50%',\n                backgroundColor: '#f3f4f6',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                flexShrink: 0\n              },\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"/assets/wihyfavicon.png\",\n                alt: \"WiHy\",\n                style: {\n                  width: isMobile ? '16px' : '20px',\n                  height: isMobile ? '16px' : '20px',\n                  borderRadius: '4px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 575,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 565,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                gap: '4px',\n                alignItems: 'center',\n                padding: isMobile ? '8px 12px' : '12px 16px',\n                backgroundColor: '#f9fafb',\n                borderRadius: '12px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: '8px',\n                  height: '8px',\n                  borderRadius: '50%',\n                  backgroundColor: '#9ca3af',\n                  animation: 'typing 1.4s ease-in-out infinite'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 594,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: '8px',\n                  height: '8px',\n                  borderRadius: '50%',\n                  backgroundColor: '#9ca3af',\n                  animation: 'typing 1.4s ease-in-out infinite 0.2s'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 601,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: '8px',\n                  height: '8px',\n                  borderRadius: '50%',\n                  backgroundColor: '#9ca3af',\n                  animation: 'typing 1.4s ease-in-out infinite 0.4s'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 608,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 586,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 559,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: messagesEndRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 619,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-input-area\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            maxWidth: isMobile ? '100%' : '768px',\n            margin: '0 auto'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-input-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"search-input-container chat-input-container\",\n              children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                ref: inputRef,\n                className: \"search-input\",\n                value: inputMessage,\n                onChange: e => setInputMessage(e.target.value),\n                onKeyPress: handleKeyPress,\n                placeholder: isLoading ? \"Processing...\" : \"Ask about your health data...\",\n                rows: 1,\n                disabled: isLoading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 631,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 630,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSendMessage,\n              disabled: !inputMessage.trim() || isLoading,\n              className: `send-button ${!inputMessage.trim() || isLoading ? 'disabled' : 'active'}`,\n              children: isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: '16px',\n                  height: '16px',\n                  border: '2px solid currentColor',\n                  borderTop: '2px solid transparent',\n                  borderRadius: '50%',\n                  animation: 'spin 1s linear infinite'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 648,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"20\",\n                height: \"20\",\n                viewBox: \"0 0 24 24\",\n                fill: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M8.59 16.59L13.17 12L8.59 7.41L10 6l6 6-6 6-1.41-1.41z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 663,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 657,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 642,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 629,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 625,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 624,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        /* Hide scrollbars only within this chat component */\n        .fullscreen-chat-container ::-webkit-scrollbar {\n          width: 0px;\n          background: transparent;\n        }\n\n        .fullscreen-chat-container ::-webkit-scrollbar-thumb {\n          background: transparent;\n        }\n\n        /* For Firefox - only within chat */\n        .fullscreen-chat-container * {\n          scrollbar-width: none;\n        }\n\n        /* Ensure chat container prevents any body scroll */\n        body.chat-open {\n          overflow: hidden !important;\n          position: fixed !important;\n          width: 100% !important;\n          top: 0 !important;\n        }\n\n        @keyframes typing {\n          0%, 60%, 100% {\n            transform: translateY(0);\n            opacity: 0.4;\n          }\n          30% {\n            transform: translateY(-6px);\n            opacity: 1;\n          }\n        }\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        /* Chat-specific input area styling */\n        .chat-input-area {\n          padding: ${isMobile ? '12px 16px' : '16px 24px'};\n          border-top: 1px solid #e5e7eb;\n          background-color: #ffffff;\n          flex-shrink: 0;\n        }\n\n        /* Wrapper for input and button positioning */\n        .chat-input-wrapper {\n          position: relative;\n          display: flex;\n          align-items: center;\n          gap: 8px;\n        }\n\n        /* Chat input container - Simple solid styling for chat */\n        .chat-input-container {\n          width: 100% !important; /* Override the 80% width for chat context */\n          margin: 0 !important; /* Override auto margins for flexbox */\n          flex: 1; /* Allow it to grow in flexbox */\n          /* Override animated styles with solid styling */\n          background: #ffffff !important;\n          border: 2px solid #fa5f06 !important;\n          border-radius: 28px !important;\n          box-shadow: 0 2px 8px rgba(250, 95, 6, 0.1) !important;\n          animation: none !important;\n          padding: 4px;\n        }\n\n        .chat-input-container:focus-within {\n          box-shadow: 0 4px 16px rgba(250, 95, 6, 0.25);\n          border-color: #fa5f06;\n        }\n\n        /* Chat input overrides */\n        .chat-input-container .search-input {\n          width: 100%;\n          min-height: ${isMobile ? '52px' : '60px'};\n          max-height: ${isMobile ? '120px' : '140px'};\n          padding: ${isMobile ? '16px 20px' : '18px 24px'};\n          border: none;\n          border-radius: 24px;\n          font-size: ${isMobile ? '16px' : '18px'};\n          line-height: 1.4;\n          resize: none;\n          outline: none;\n          font-family: inherit;\n          background-color: #ffffff !important; /* Ensure pure white background */\n          color: #1f2937;\n        }\n\n        .chat-input-container .search-input:disabled {\n          background-color: #f9fafb;\n          color: #9ca3af;\n        }\n\n        /* Send button styling - positioned outside input, matching ChatWidget exactly */\n        .send-button {\n          position: relative;\n          right: auto;\n          top: auto;\n          transform: none;\n          color: #374151;\n          border: none;\n          border-radius: 16px;\n          padding: 12px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          transition: all 0.2s ease;\n          flex-shrink: 0;\n          min-width: 44px;\n          height: 44px;\n          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n        }\n\n        .send-button.active {\n          background-color: #d1d5db;\n          color: #374151;\n          cursor: pointer;\n        }\n\n        .send-button.active:hover {\n          background-color: #9ca3af;\n          color: white;\n        }\n\n        .send-button.disabled {\n          background-color: #e5e7eb;\n          color: #9ca3af;\n          cursor: not-allowed;\n          box-shadow: none;\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 672,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 198,\n    columnNumber: 5\n  }, this);\n};\n_s(FullScreenChat, \"q6YgRtoez+ns4niRnqsUVYgEz8I=\");\n_c = FullScreenChat;\nexport default FullScreenChat;\nvar _c;\n$RefreshReg$(_c, \"FullScreenChat\");","map":{"version":3,"names":["React","useState","useRef","useEffect","chatService","jsxDEV","_jsxDEV","FullScreenChat","isOpen","onClose","initialQuery","initialResponse","_s","messages","setMessages","inputMessage","setInputMessage","isLoading","setIsLoading","showMobileHistory","setShowMobileHistory","isMobile","setIsMobile","hasActiveSession","setHasActiveSession","messagesEndRef","inputRef","checkMobile","window","innerWidth","addEventListener","removeEventListener","sessionId","getCurrentSessionId","conversationId","getConversationId","Boolean","console","log","hasSessionId","hasConversationId","initialMessages","id","type","message","timestamp","Date","_messagesEndRef$curre","current","scrollIntoView","behavior","formatTime","date","toLocaleTimeString","hour","minute","handleSendMessage","trim","messageText","userMessage","now","toString","prev","response","sendMessage","aiResponse","data","analysis","length","includes","userQuery","toLowerCase","aiMessage","error","errorMessage","handleKeyPress","e","key","shiftKey","preventDefault","document","body","classList","add","remove","shouldShowHistory","className","style","position","top","left","right","bottom","backgroundColor","zIndex","display","flexDirection","fontFamily","height","overflow","borderTop","boxShadow","children","onClick","width","borderRadius","border","cursor","alignItems","justifyContent","fontSize","color","transition","fileName","_jsxFileName","lineNumber","columnNumber","borderRight","borderBottom","padding","margin","fontWeight","flex","overflowY","overflowX","marginBottom","textOverflow","whiteSpace","map","chat","index","onMouseEnter","currentTarget","onMouseLeave","flexShrink","gap","stopPropagation","transform","title","minHeight","maxWidth","scrollBehavior","maxHeight","textAlign","src","alt","minWidth","lineHeight","wordWrap","marginTop","animation","ref","value","onChange","target","onKeyPress","placeholder","rows","disabled","viewBox","fill","d","_c","$RefreshReg$"],"sources":["C:/repo/wihy_ui/client/src/components/ui/FullScreenChat.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { chatService } from '../../services/chatService';\r\n\r\ninterface ChatMessage {\r\n  id: string;\r\n  type: 'user' | 'assistant';\r\n  message: string;\r\n  timestamp: Date;\r\n}\r\n\r\ninterface FullScreenChatProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  initialQuery?: string;\r\n  initialResponse?: string;\r\n}\r\n\r\nconst FullScreenChat: React.FC<FullScreenChatProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  initialQuery,\r\n  initialResponse\r\n}) => {\r\n  const [messages, setMessages] = useState<ChatMessage[]>([]);\r\n  const [inputMessage, setInputMessage] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [showMobileHistory, setShowMobileHistory] = useState(false);\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  const [hasActiveSession, setHasActiveSession] = useState(false);\r\n  const messagesEndRef = useRef<HTMLDivElement>(null);\r\n  const inputRef = useRef<HTMLTextAreaElement>(null);\r\n\r\n  // Check for mobile screen size\r\n  useEffect(() => {\r\n    const checkMobile = () => {\r\n      setIsMobile(window.innerWidth <= 768);\r\n    };\r\n    \r\n    checkMobile();\r\n    window.addEventListener('resize', checkMobile);\r\n    return () => window.removeEventListener('resize', checkMobile);\r\n  }, []);\r\n\r\n  // Check for active session when component opens\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      const sessionId = chatService.getCurrentSessionId();\r\n      const conversationId = chatService.getConversationId();\r\n      // Only consider it an active session if there's a session ID or conversation ID\r\n      // indicating there's been previous chat interaction\r\n      setHasActiveSession(Boolean(sessionId || conversationId));\r\n      console.log('🔍 FULL SCREEN CHAT: Session check:', {\r\n        hasSessionId: Boolean(sessionId),\r\n        hasConversationId: Boolean(conversationId),\r\n        hasActiveSession: Boolean(sessionId || conversationId)\r\n      });\r\n    }\r\n  }, [isOpen]);\r\n\r\n  // Initialize with provided query/response\r\n  useEffect(() => {\r\n    if (initialQuery && initialResponse) {\r\n      const initialMessages: ChatMessage[] = [\r\n        {\r\n          id: '1',\r\n          type: 'user',\r\n          message: initialQuery,\r\n          timestamp: new Date()\r\n        },\r\n        {\r\n          id: '2',\r\n          type: 'assistant',\r\n          message: initialResponse,\r\n          timestamp: new Date()\r\n        }\r\n      ];\r\n      setMessages(initialMessages);\r\n    }\r\n  }, [initialQuery, initialResponse]);\r\n\r\n  // Auto-scroll to bottom\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [messages]);\r\n\r\n  const formatTime = (date: Date) => {\r\n    return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n  };\r\n\r\n  const handleSendMessage = async () => {\r\n    if (!inputMessage.trim() || isLoading) return;\r\n\r\n    const messageText = inputMessage.trim();\r\n    setInputMessage('');\r\n    setIsLoading(true);\r\n\r\n    // Add user message\r\n    const userMessage: ChatMessage = {\r\n      id: Date.now().toString(),\r\n      type: 'user',\r\n      message: messageText,\r\n      timestamp: new Date()\r\n    };\r\n    setMessages(prev => [...prev, userMessage]);\r\n\r\n    try {\r\n      // Get AI response\r\n      const response = await chatService.sendMessage(messageText);\r\n      \r\n      let aiResponse: string;\r\n      if (typeof response === 'object' && response !== null) {\r\n        if ('data' in response && typeof response.data === 'string') {\r\n          aiResponse = response.data;\r\n        } else if ('analysis' in response && typeof response.analysis === 'string') {\r\n          aiResponse = response.analysis;\r\n        } else if ('response' in response && typeof response.response === 'string') {\r\n          aiResponse = response.response;\r\n        } else if ('message' in response && typeof response.message === 'string') {\r\n          aiResponse = response.message;\r\n        } else {\r\n          aiResponse = 'I received your message but had trouble formatting the response. Could you try asking in a different way?';\r\n        }\r\n      } else if (typeof response === 'string') {\r\n        aiResponse = response;\r\n      } else {\r\n        aiResponse = 'I apologize, but I encountered an issue processing your request. Could you please try again?';\r\n      }\r\n\r\n      // Provide helpful health responses for demo\r\n      if (aiResponse.length < 20 || aiResponse.includes('There is no cure')) {\r\n        const userQuery = messageText.toLowerCase();\r\n        if (userQuery.includes('healthy') || userQuery.includes('health')) {\r\n          aiResponse = \"Great question about health! Being healthy generally involves maintaining a balanced diet, regular exercise, adequate sleep, and managing stress. What specific aspect of health would you like to explore?\";\r\n        } else if (userQuery.includes('diet') || userQuery.includes('nutrition') || userQuery.includes('eat')) {\r\n          aiResponse = \"Nutrition is key to good health! A balanced diet with plenty of fruits, vegetables, whole grains, and lean proteins is important. Would you like tips on any specific dietary concerns?\";\r\n        } else if (userQuery.includes('exercise') || userQuery.includes('fitness')) {\r\n          aiResponse = \"Regular physical activity is essential for health! Aim for at least 150 minutes of moderate exercise per week. What type of activities interest you?\";\r\n        } else {\r\n          aiResponse = \"I'm here to help with your health questions! What would you like to know about nutrition, exercise, or wellness?\";\r\n        }\r\n      }\r\n\r\n      const aiMessage: ChatMessage = {\r\n        id: Date.now().toString() + '-assistant',\r\n        type: 'assistant',\r\n        message: aiResponse,\r\n        timestamp: new Date()\r\n      };\r\n\r\n      setMessages(prev => [...prev, aiMessage]);\r\n\r\n      // After first successful message exchange, we now have an active session\r\n      if (!hasActiveSession) {\r\n        setHasActiveSession(true);\r\n        console.log('🔍 FULL SCREEN CHAT: Session now active after first message exchange');\r\n      }\r\n    } catch (error) {\r\n      console.error('Chat error:', error);\r\n      const errorMessage: ChatMessage = {\r\n        id: Date.now().toString() + '-assistant',\r\n        type: 'assistant',\r\n        message: \"I'm having trouble connecting right now. Please try again in a moment.\",\r\n        timestamp: new Date()\r\n      };\r\n      setMessages(prev => [...prev, errorMessage]);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSendMessage();\r\n    }\r\n  };\r\n\r\n  // Manage body scroll when chat is open\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      document.body.classList.add('chat-open');\r\n    } else {\r\n      document.body.classList.remove('chat-open');\r\n    }\r\n\r\n    // Cleanup when component unmounts\r\n    return () => {\r\n      document.body.classList.remove('chat-open');\r\n    };\r\n  }, [isOpen]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  // Determine if we should show chat history (only if there's an active session with history)\r\n  const shouldShowHistory = hasActiveSession && (messages.length > 0 || (initialQuery && initialResponse));\r\n\r\n  return (\r\n    <div className=\"fullscreen-chat-container\" style={{\r\n      position: 'fixed',\r\n      top: '170px', // Start 10px below the header (160px + 10px gap)\r\n      left: 0,\r\n      right: 0,\r\n      bottom: 0,\r\n      backgroundColor: '#ffffff',\r\n      zIndex: 10000,\r\n      display: 'flex',\r\n      flexDirection: isMobile ? 'column' : 'row',\r\n      fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\r\n      height: 'calc(100vh - 170px)', // Adjust height for the gap\r\n      overflow: 'hidden', // Completely hide any overflow\r\n      borderTop: '1px solid #e5e7eb', // Add subtle border to separate from header\r\n      boxShadow: '0 -2px 10px rgba(0, 0, 0, 0.1)' // Add subtle shadow to lift the chat\r\n    }}>\r\n      {/* Mobile History Toggle - only show if history exists */}\r\n      {isMobile && shouldShowHistory && (\r\n        <div style={{\r\n          position: 'absolute',\r\n          top: '16px',\r\n          left: '16px',\r\n          zIndex: 101\r\n        }}>\r\n          <button\r\n            onClick={() => setShowMobileHistory(!showMobileHistory)}\r\n            style={{\r\n              width: '40px',\r\n              height: '40px',\r\n              borderRadius: '8px',\r\n              border: 'none',\r\n              backgroundColor: '#f3f4f6',\r\n              cursor: 'pointer',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              fontSize: '16px',\r\n              color: '#6b7280',\r\n              transition: 'all 0.2s ease'\r\n            }}\r\n          >\r\n            ☰\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Chat History Sidebar - only show if history exists */}\r\n      {shouldShowHistory && (\r\n      <div style={{\r\n        width: isMobile ? '100%' : '280px',\r\n        height: isMobile ? (showMobileHistory ? '50%' : '0') : '100%',\r\n        backgroundColor: '#f9fafb',\r\n        borderRight: isMobile ? 'none' : '1px solid #e5e7eb',\r\n        borderBottom: isMobile ? '1px solid #e5e7eb' : 'none',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        overflow: 'hidden',\r\n        transition: isMobile ? 'height 0.3s ease' : 'none',\r\n        position: isMobile ? 'relative' : 'static',\r\n        zIndex: isMobile ? 100 : 'auto'\r\n      }}>\r\n        {/* Sidebar Header */}\r\n        <div style={{\r\n          padding: '20px 16px',\r\n          borderBottom: '1px solid #e5e7eb',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'space-between'\r\n        }}>\r\n          <h2 style={{\r\n            margin: 0,\r\n            fontSize: '16px',\r\n            fontWeight: '600',\r\n            color: '#1f2937'\r\n          }}>\r\n            Chat History\r\n          </h2>\r\n          {isMobile && (\r\n            <button\r\n              onClick={() => setShowMobileHistory(false)}\r\n              style={{\r\n                width: '24px',\r\n                height: '24px',\r\n                borderRadius: '4px',\r\n                border: 'none',\r\n                backgroundColor: 'transparent',\r\n                cursor: 'pointer',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                fontSize: '14px',\r\n                color: '#6b7280'\r\n              }}\r\n            >\r\n              ✕\r\n            </button>\r\n          )}\r\n        </div>\r\n\r\n        {/* History List */}\r\n        <div style={{\r\n          flex: 1,\r\n          overflow: 'hidden'\r\n        }}>\r\n          <div style={{\r\n            padding: '8px',\r\n            height: '100%',\r\n            overflowY: 'auto',\r\n            overflowX: 'hidden'\r\n          }}>\r\n            {/* Current Chat */}\r\n            <div style={{\r\n              padding: '12px',\r\n              marginBottom: '8px',\r\n              backgroundColor: '#ffffff',\r\n              borderRadius: '8px',\r\n              border: '1px solid #e5e7eb',\r\n              cursor: 'pointer'\r\n            }}>\r\n              <div style={{\r\n                fontSize: '14px',\r\n                fontWeight: '500',\r\n                color: '#1f2937',\r\n                marginBottom: '4px',\r\n                overflow: 'hidden',\r\n                textOverflow: 'ellipsis',\r\n                whiteSpace: 'nowrap'\r\n              }}>\r\n                {initialQuery || 'Current Chat'}\r\n              </div>\r\n              <div style={{\r\n                fontSize: '12px',\r\n                color: '#6b7280'\r\n              }}>\r\n                Active now\r\n              </div>\r\n            </div>\r\n\r\n            {/* Previous Chats */}\r\n            {['Health and nutrition basics', 'Exercise routine planning', 'Sleep optimization tips', 'Stress management techniques'].map((chat, index) => (\r\n              <div key={index} style={{\r\n                padding: '12px',\r\n                marginBottom: '8px',\r\n                borderRadius: '8px',\r\n                cursor: 'pointer',\r\n                transition: 'background-color 0.2s ease'\r\n              }}\r\n              onMouseEnter={(e) => {\r\n                e.currentTarget.style.backgroundColor = '#f3f4f6';\r\n              }}\r\n              onMouseLeave={(e) => {\r\n                e.currentTarget.style.backgroundColor = 'transparent';\r\n              }}>\r\n                <div style={{\r\n                  fontSize: '14px',\r\n                  color: '#374151',\r\n                  marginBottom: '4px',\r\n                  overflow: 'hidden',\r\n                  textOverflow: 'ellipsis',\r\n                  whiteSpace: 'nowrap'\r\n                }}>\r\n                  {chat}\r\n                </div>\r\n                <div style={{\r\n                  fontSize: '12px',\r\n                  color: '#9ca3af'\r\n                }}>\r\n                  {index + 1} days ago\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      )}\r\n\r\n      {/* Main Chat Area */}\r\n      <div style={{\r\n        flex: 1,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        height: isMobile ? (shouldShowHistory && showMobileHistory ? '50%' : '100%') : '100%',\r\n        overflow: 'hidden'\r\n      }}>\r\n        {/* Header */}\r\n        <div style={{\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'space-between',\r\n          padding: isMobile ? '16px 60px 16px 16px' : '16px 24px',\r\n          borderBottom: '1px solid #e5e7eb',\r\n          backgroundColor: '#ffffff',\r\n          flexShrink: 0\r\n        }}>\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\r\n            <h1 style={{\r\n              margin: 0,\r\n              fontSize: isMobile ? '20px' : '24px',\r\n              fontWeight: '600',\r\n              color: '#1f2937'\r\n            }}>\r\n              Let's Chat\r\n            </h1>\r\n          </div>\r\n\r\n          <button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              e.stopPropagation();\r\n              console.log('Close button clicked - calling onClose');\r\n              onClose();\r\n            }}\r\n            style={{\r\n              width: '40px',\r\n              height: '40px',\r\n              borderRadius: '50%',\r\n              border: 'none',\r\n              backgroundColor: '#f3f4f6',\r\n              cursor: 'pointer',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              fontSize: '18px',\r\n              color: '#6b7280',\r\n              transition: 'all 0.2s ease',\r\n              zIndex: 10001, // Ensure it's above everything else\r\n              position: 'relative' // Ensure proper positioning context\r\n            }}\r\n            onMouseEnter={(e) => {\r\n              e.currentTarget.style.backgroundColor = '#e5e7eb';\r\n              e.currentTarget.style.transform = 'scale(1.05)'; // Slight scale for better UX\r\n            }}\r\n            onMouseLeave={(e) => {\r\n              e.currentTarget.style.backgroundColor = '#f3f4f6';\r\n              e.currentTarget.style.transform = 'scale(1)';\r\n            }}\r\n            title=\"Close chat\" // Add tooltip for accessibility\r\n          >\r\n            ✕\r\n          </button>\r\n        </div>\r\n\r\n        {/* Messages Container - Single scroll area */}\r\n        <div style={{\r\n          flex: 1,\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          overflow: 'hidden',\r\n          minHeight: 0 // Ensures flex child can shrink\r\n        }}>\r\n          <div style={{\r\n            flex: 1,\r\n            overflowY: 'auto',\r\n            overflowX: 'hidden',\r\n            padding: isMobile ? '16px' : '24px',\r\n            maxWidth: isMobile ? '100%' : '768px',\r\n            margin: '0 auto',\r\n            width: '100%',\r\n            scrollBehavior: 'smooth',\r\n            minHeight: 0, // Ensures proper scrolling within flex\r\n            maxHeight: '100%' // Prevents overflow beyond container\r\n          }}>\r\n            {messages.length === 0 ? (\r\n              <div style={{\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                height: '60vh',\r\n                textAlign: 'center',\r\n                color: '#6b7280'\r\n              }}>\r\n                <div style={{\r\n                  width: isMobile ? '48px' : '64px',\r\n                  height: isMobile ? '48px' : '64px',\r\n                  borderRadius: '16px',\r\n                  backgroundColor: '#f3f4f6',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  fontSize: isMobile ? '20px' : '24px',\r\n                  marginBottom: '16px'\r\n                }}>\r\n                  💬\r\n                </div>\r\n                <h3 style={{\r\n                  fontSize: isMobile ? '18px' : '20px',\r\n                  fontWeight: '600',\r\n                  color: '#1f2937',\r\n                  margin: '0 0 8px 0'\r\n                }}>\r\n                  How can I help you today?\r\n                </h3>\r\n                <p style={{\r\n                  fontSize: isMobile ? '14px' : '16px',\r\n                  margin: 0,\r\n                  maxWidth: isMobile ? '300px' : '400px'\r\n                }}>\r\n                  Ask me anything about health, nutrition, exercise, or wellness. I'm here to provide evidence-based guidance.\r\n                </p>\r\n              </div>\r\n            ) : (\r\n              messages.map((message) => (\r\n                <div\r\n                  key={message.id}\r\n                  style={{\r\n                    display: 'flex',\r\n                    gap: isMobile ? '12px' : '16px',\r\n                    marginBottom: isMobile ? '16px' : '24px',\r\n                    alignItems: 'flex-start'\r\n                  }}\r\n                >\r\n                  <div style={{\r\n                    width: isMobile ? '28px' : '32px',\r\n                    height: isMobile ? '28px' : '32px',\r\n                    borderRadius: '50%',\r\n                    backgroundColor: message.type === 'user' ? '#10b981' : '#f3f4f6',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    color: message.type === 'user' ? 'white' : '#6b7280',\r\n                    fontSize: isMobile ? '12px' : '14px',\r\n                    fontWeight: 'bold',\r\n                    flexShrink: 0\r\n                  }}>\r\n                    {message.type === 'user' ? 'U' : (\r\n                      <img\r\n                        src=\"/assets/wihyfavicon.png\"\r\n                        alt=\"WiHy\"\r\n                        style={{ \r\n                          width: isMobile ? '16px' : '20px', \r\n                          height: isMobile ? '16px' : '20px', \r\n                          borderRadius: '4px' \r\n                        }}\r\n                      />\r\n                    )}\r\n                  </div>\r\n                  \r\n                  <div style={{ flex: 1, minWidth: 0 }}>\r\n                    <div style={{\r\n                      fontSize: isMobile ? '14px' : '16px',\r\n                      lineHeight: '1.6',\r\n                      color: '#1f2937',\r\n                      whiteSpace: 'pre-wrap',\r\n                      wordWrap: 'break-word'\r\n                    }}>\r\n                      {message.message}\r\n                    </div>\r\n                    <div style={{\r\n                      fontSize: '12px',\r\n                      color: '#9ca3af',\r\n                      marginTop: '8px'\r\n                    }}>\r\n                      {formatTime(message.timestamp)}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))\r\n            )}\r\n\r\n            {isLoading && (\r\n              <div style={{\r\n                display: 'flex',\r\n                gap: isMobile ? '12px' : '16px',\r\n                marginBottom: isMobile ? '16px' : '24px',\r\n                alignItems: 'flex-start'\r\n              }}>\r\n                <div style={{\r\n                  width: isMobile ? '28px' : '32px',\r\n                  height: isMobile ? '28px' : '32px',\r\n                  borderRadius: '50%',\r\n                  backgroundColor: '#f3f4f6',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  flexShrink: 0\r\n                }}>\r\n                  <img\r\n                    src=\"/assets/wihyfavicon.png\"\r\n                    alt=\"WiHy\"\r\n                    style={{ \r\n                      width: isMobile ? '16px' : '20px', \r\n                      height: isMobile ? '16px' : '20px', \r\n                      borderRadius: '4px' \r\n                    }}\r\n                  />\r\n                </div>\r\n                \r\n                <div style={{\r\n                  display: 'flex',\r\n                  gap: '4px',\r\n                  alignItems: 'center',\r\n                  padding: isMobile ? '8px 12px' : '12px 16px',\r\n                  backgroundColor: '#f9fafb',\r\n                  borderRadius: '12px'\r\n                }}>\r\n                  <div style={{\r\n                    width: '8px',\r\n                    height: '8px',\r\n                    borderRadius: '50%',\r\n                    backgroundColor: '#9ca3af',\r\n                    animation: 'typing 1.4s ease-in-out infinite'\r\n                  }} />\r\n                  <div style={{\r\n                    width: '8px',\r\n                    height: '8px',\r\n                    borderRadius: '50%',\r\n                    backgroundColor: '#9ca3af',\r\n                    animation: 'typing 1.4s ease-in-out infinite 0.2s'\r\n                  }} />\r\n                  <div style={{\r\n                    width: '8px',\r\n                    height: '8px',\r\n                    borderRadius: '50%',\r\n                    backgroundColor: '#9ca3af',\r\n                    animation: 'typing 1.4s ease-in-out infinite 0.4s'\r\n                  }} />\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <div ref={messagesEndRef} />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Input */}\r\n        <div className=\"chat-input-area\">\r\n          <div style={{\r\n            maxWidth: isMobile ? '100%' : '768px',\r\n            margin: '0 auto'\r\n          }}>\r\n            <div className=\"chat-input-wrapper\">\r\n              <div className=\"search-input-container chat-input-container\">\r\n                <textarea\r\n                  ref={inputRef}\r\n                  className=\"search-input\"\r\n                  value={inputMessage}\r\n                  onChange={(e) => setInputMessage(e.target.value)}\r\n                  onKeyPress={handleKeyPress}\r\n                  placeholder={isLoading ? \"Processing...\" : \"Ask about your health data...\"}\r\n                  rows={1}\r\n                  disabled={isLoading}\r\n                />\r\n              </div>\r\n              <button\r\n                onClick={handleSendMessage}\r\n                disabled={!inputMessage.trim() || isLoading}\r\n                className={`send-button ${(!inputMessage.trim() || isLoading) ? 'disabled' : 'active'}`}\r\n              >\r\n                {isLoading ? (\r\n                  <div style={{\r\n                    width: '16px',\r\n                    height: '16px',\r\n                    border: '2px solid currentColor',\r\n                    borderTop: '2px solid transparent',\r\n                    borderRadius: '50%',\r\n                    animation: 'spin 1s linear infinite'\r\n                  }} />\r\n                ) : (\r\n                  <svg \r\n                    width=\"20\" \r\n                    height=\"20\" \r\n                    viewBox=\"0 0 24 24\" \r\n                    fill=\"currentColor\"\r\n                  >\r\n                    <path d=\"M8.59 16.59L13.17 12L8.59 7.41L10 6l6 6-6 6-1.41-1.41z\"/>\r\n                  </svg>\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <style>{`\r\n        /* Hide scrollbars only within this chat component */\r\n        .fullscreen-chat-container ::-webkit-scrollbar {\r\n          width: 0px;\r\n          background: transparent;\r\n        }\r\n\r\n        .fullscreen-chat-container ::-webkit-scrollbar-thumb {\r\n          background: transparent;\r\n        }\r\n\r\n        /* For Firefox - only within chat */\r\n        .fullscreen-chat-container * {\r\n          scrollbar-width: none;\r\n        }\r\n\r\n        /* Ensure chat container prevents any body scroll */\r\n        body.chat-open {\r\n          overflow: hidden !important;\r\n          position: fixed !important;\r\n          width: 100% !important;\r\n          top: 0 !important;\r\n        }\r\n\r\n        @keyframes typing {\r\n          0%, 60%, 100% {\r\n            transform: translateY(0);\r\n            opacity: 0.4;\r\n          }\r\n          30% {\r\n            transform: translateY(-6px);\r\n            opacity: 1;\r\n          }\r\n        }\r\n\r\n        @keyframes spin {\r\n          0% { transform: rotate(0deg); }\r\n          100% { transform: rotate(360deg); }\r\n        }\r\n\r\n        /* Chat-specific input area styling */\r\n        .chat-input-area {\r\n          padding: ${isMobile ? '12px 16px' : '16px 24px'};\r\n          border-top: 1px solid #e5e7eb;\r\n          background-color: #ffffff;\r\n          flex-shrink: 0;\r\n        }\r\n\r\n        /* Wrapper for input and button positioning */\r\n        .chat-input-wrapper {\r\n          position: relative;\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n        }\r\n\r\n        /* Chat input container - Simple solid styling for chat */\r\n        .chat-input-container {\r\n          width: 100% !important; /* Override the 80% width for chat context */\r\n          margin: 0 !important; /* Override auto margins for flexbox */\r\n          flex: 1; /* Allow it to grow in flexbox */\r\n          /* Override animated styles with solid styling */\r\n          background: #ffffff !important;\r\n          border: 2px solid #fa5f06 !important;\r\n          border-radius: 28px !important;\r\n          box-shadow: 0 2px 8px rgba(250, 95, 6, 0.1) !important;\r\n          animation: none !important;\r\n          padding: 4px;\r\n        }\r\n\r\n        .chat-input-container:focus-within {\r\n          box-shadow: 0 4px 16px rgba(250, 95, 6, 0.25);\r\n          border-color: #fa5f06;\r\n        }\r\n\r\n        /* Chat input overrides */\r\n        .chat-input-container .search-input {\r\n          width: 100%;\r\n          min-height: ${isMobile ? '52px' : '60px'};\r\n          max-height: ${isMobile ? '120px' : '140px'};\r\n          padding: ${isMobile ? '16px 20px' : '18px 24px'};\r\n          border: none;\r\n          border-radius: 24px;\r\n          font-size: ${isMobile ? '16px' : '18px'};\r\n          line-height: 1.4;\r\n          resize: none;\r\n          outline: none;\r\n          font-family: inherit;\r\n          background-color: #ffffff !important; /* Ensure pure white background */\r\n          color: #1f2937;\r\n        }\r\n\r\n        .chat-input-container .search-input:disabled {\r\n          background-color: #f9fafb;\r\n          color: #9ca3af;\r\n        }\r\n\r\n        /* Send button styling - positioned outside input, matching ChatWidget exactly */\r\n        .send-button {\r\n          position: relative;\r\n          right: auto;\r\n          top: auto;\r\n          transform: none;\r\n          color: #374151;\r\n          border: none;\r\n          border-radius: 16px;\r\n          padding: 12px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          transition: all 0.2s ease;\r\n          flex-shrink: 0;\r\n          min-width: 44px;\r\n          height: 44px;\r\n          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n        }\r\n\r\n        .send-button.active {\r\n          background-color: #d1d5db;\r\n          color: #374151;\r\n          cursor: pointer;\r\n        }\r\n\r\n        .send-button.active:hover {\r\n          background-color: #9ca3af;\r\n          color: white;\r\n        }\r\n\r\n        .send-button.disabled {\r\n          background-color: #e5e7eb;\r\n          color: #9ca3af;\r\n          cursor: not-allowed;\r\n          box-shadow: none;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FullScreenChat;"],"mappings":"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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwBA,QAAQ,GAAG,MAAM,GAAG,MAAM;AAClD,wBAAwBA,QAAQ,GAAG,OAAO,GAAG,OAAO;AACpD,qBAAqBA,QAAQ,GAAG,WAAW,GAAG,WAAW;AACzD;AACA;AACA,uBAAuBA,QAAQ,GAAG,MAAM,GAAG,MAAM;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAAO;MAAA4F,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACP,CAAC;AAEV,CAAC;AAACxG,EAAA,CAvxBIL,cAA6C;AAAA2J,EAAA,GAA7C3J,cAA6C;AAyxBnD,eAAeA,cAAc;AAAC,IAAA2J,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}