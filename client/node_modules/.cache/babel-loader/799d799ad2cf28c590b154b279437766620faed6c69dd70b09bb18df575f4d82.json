{"ast":null,"code":"import axios from'axios';import{WIHY_API_ENDPOINT}from'../config/apiConfig';// Types for the WiHy API\nclass WihyAPIService{constructor(){this.baseURL=void 0;this.baseURL=WIHY_API_ENDPOINT;}/**\r\n   * Ask WiHy a health-related question with optional user context\r\n   */async askAnything(request){try{console.log('Making WiHy API request:',request);const response=await axios.post(\"\".concat(this.baseURL,\"/ask-anything\"),request,{headers:{'Content-Type':'application/json'},timeout:30000// 30 second timeout\n});console.log('WiHy API response:',response.data);return response.data;}catch(error){console.error('WiHy API error:',error);if(error&&typeof error==='object'&&'response'in error){var _axiosError$response;const axiosError=error;if((_axiosError$response=axiosError.response)!==null&&_axiosError$response!==void 0&&_axiosError$response.data){throw new Error(axiosError.response.data.detail||'WiHy API request failed');}throw new Error(\"Network error: \".concat(axiosError.message||'Request failed'));}throw new Error('Unknown error occurred while contacting WiHy API');}}/**\r\n   * Get health news articles using the unified API\r\n   */async getHealthNews(categories,limit){const query=categories&&categories.length>0?\"Latest health news about \".concat(categories.join(', ')):'Latest health news';const request={query:query,user_context:{// Can add user preferences here if needed\n}};return this.askAnything(request);}/**\r\n   * Search for nutrition information using the unified API\r\n   */async searchNutrition(foodQuery,userContext){const request={query:\"Nutrition information for \".concat(foodQuery),user_context:userContext};return this.askAnything(request);}/**\r\n   * General health search using the unified API\r\n   */async searchHealth(query,userContext){const request={query:query,user_context:userContext};return this.askAnything(request);}/**\r\n   * Format the WiHy response for display in the existing UI\r\n   * This formats it to be compatible with the existing search results format\r\n   */formatWihyResponse(response){var _wihy_response$resear,_wihy_response$biblic;const{wihy_response}=response;let formatted=\"# \".concat(wihy_response.core_principle,\"\\n\\n\");// Personalized Analysis\nif(wihy_response.personalized_analysis){var _wihy_response$person,_wihy_response$person2,_wihy_response$person3;formatted+=\"## \\uD83C\\uDFAF Personalized Health Analysis\\n\\n\";// Risk Factors\nif(((_wihy_response$person=wihy_response.personalized_analysis.identified_risk_factors)===null||_wihy_response$person===void 0?void 0:_wihy_response$person.length)>0){formatted+=\"### Identified Risk Factors:\\n\";wihy_response.personalized_analysis.identified_risk_factors.forEach(risk=>{formatted+=\"- **\".concat(risk.risk_factor.replace(/_/g,' ').toUpperCase(),\"**\\n\");formatted+=\"  - Associated with: \".concat(risk.associated_illnesses.replace(/_/g,' '),\"\\n\");formatted+=\"  - Prevalence: \".concat(risk.prevalence_rate,\"%\\n\");formatted+=\"  - Preventability: \".concat(risk.preventability_score,\"%\\n\\n\");});}// Priority Goals\nif(((_wihy_response$person2=wihy_response.personalized_analysis.priority_health_goals)===null||_wihy_response$person2===void 0?void 0:_wihy_response$person2.length)>0){formatted+=\"### \\uD83C\\uDFAF Priority Health Goals:\\n\";wihy_response.personalized_analysis.priority_health_goals.forEach(goal=>{formatted+=\"- \".concat(goal,\"\\n\");});formatted+='\\n';}// Action Items\nif(((_wihy_response$person3=wihy_response.personalized_analysis.action_items)===null||_wihy_response$person3===void 0?void 0:_wihy_response$person3.length)>0){formatted+=\"### \\uD83D\\uDCCB Action Items:\\n\";wihy_response.personalized_analysis.action_items.forEach((action,index)=>{formatted+=\"#### \".concat(index+1,\". \").concat(action.action,\"\\n\");formatted+=\"- **Priority:** \".concat(action.priority,\"\\n\");formatted+=\"- **Target:** \".concat(action.target_illness.replace(/_/g,' '),\"\\n\");formatted+=\"- **Evidence Level:** \".concat(action.evidence_level,\"\\n\");formatted+=\"- **How it works:** \".concat(action.mechanism,\"\\n\");formatted+=\"- **Timeline:** \".concat(action.timeline,\"\\n\\n\");});}// Timeline\nif(wihy_response.personalized_analysis.timeline){formatted+=\"**Implementation Timeline:** \".concat(wihy_response.personalized_analysis.timeline,\"\\n\\n\");}}// Research Foundation\nif(((_wihy_response$resear=wihy_response.research_foundation)===null||_wihy_response$resear===void 0?void 0:_wihy_response$resear.length)>0){formatted+=\"## \\uD83D\\uDCDA Research Foundation\\n\\n\";wihy_response.research_foundation.forEach(research=>{formatted+=\"- **\".concat(research.citation_text,\"** (\").concat(research.study_type,\")\\n\");formatted+=\"  \".concat(research.key_finding,\"\\n\\n\");});}// Progress Tracking\nif(wihy_response.progress_tracking){formatted+=\"## \\uD83D\\uDCCA Progress Tracking\\n\\n\";formatted+=\"**Key Metrics to Track:**\\n\";wihy_response.progress_tracking.key_metrics.forEach(metric=>{formatted+=\"- \".concat(metric,\"\\n\");});formatted+=\"\\n**Reassessment:** \".concat(wihy_response.progress_tracking.reassessment_period,\"\\n\\n\");}// Biblical Wisdom\nif(((_wihy_response$biblic=wihy_response.biblical_wisdom)===null||_wihy_response$biblic===void 0?void 0:_wihy_response$biblic.length)>0){formatted+=\"## \\u271D\\uFE0F Biblical Wisdom\\n\\n\";wihy_response.biblical_wisdom.forEach(wisdom=>{formatted+=\"> \".concat(wisdom,\"\\n\\n\");});}formatted+=\"---\\n\\n*WiHy health truth analysis generated at: \".concat(new Date(response.timestamp).toLocaleString(),\"*\\n\");return formatted;}/**\r\n   * Extract recommendations from WiHy response for UI display\r\n   */extractRecommendations(response){var _response$wihy_respon;const recommendations=[];if((_response$wihy_respon=response.wihy_response.personalized_analysis)!==null&&_response$wihy_respon!==void 0&&_response$wihy_respon.action_items){response.wihy_response.personalized_analysis.action_items.forEach(action=>{recommendations.push(\"\".concat(action.action,\" (\").concat(action.priority,\" priority)\"));});}return recommendations;}/**\r\n   * Extract citations from WiHy response for UI display\r\n   */extractCitations(response){const citations=[];if(response.wihy_response.research_foundation){response.wihy_response.research_foundation.forEach(research=>{citations.push(\"\".concat(research.citation_text,\": \").concat(research.key_finding));});}return citations;}}// Export a singleton instance\nexport const wihyAPI=new WihyAPIService();export default wihyAPI;","map":{"version":3,"names":["axios","WIHY_API_ENDPOINT","WihyAPIService","constructor","baseURL","askAnything","request","console","log","response","post","concat","headers","timeout","data","error","_axiosError$response","axiosError","Error","detail","message","getHealthNews","categories","limit","query","length","join","user_context","searchNutrition","foodQuery","userContext","searchHealth","formatWihyResponse","_wihy_response$resear","_wihy_response$biblic","wihy_response","formatted","core_principle","personalized_analysis","_wihy_response$person","_wihy_response$person2","_wihy_response$person3","identified_risk_factors","forEach","risk","risk_factor","replace","toUpperCase","associated_illnesses","prevalence_rate","preventability_score","priority_health_goals","goal","action_items","action","index","priority","target_illness","evidence_level","mechanism","timeline","research_foundation","research","citation_text","study_type","key_finding","progress_tracking","key_metrics","metric","reassessment_period","biblical_wisdom","wisdom","Date","timestamp","toLocaleString","extractRecommendations","_response$wihy_respon","recommendations","push","extractCitations","citations","wihyAPI"],"sources":["C:/repo/wihy_ui/client/src/services/wihyAPI.ts"],"sourcesContent":["import axios from 'axios';\r\nimport { API_CONFIG, WIHY_API_ENDPOINT } from '../config/apiConfig';\r\n\r\n// Types for the WiHy API\r\nexport interface UserContext {\r\n  age?: number;\r\n  family_size?: number;\r\n  family_history?: string[];\r\n  health_concerns?: string[];\r\n  dietary_restrictions?: string[];\r\n  activity_level?: 'low' | 'moderate' | 'high';\r\n  current_health_concerns?: string[];\r\n}\r\n\r\nexport interface WihyRequest {\r\n  query: string;\r\n  user_context?: UserContext;\r\n}\r\n\r\nexport interface RiskFactor {\r\n  risk_factor: string;\r\n  associated_illnesses: string;\r\n  prevalence_rate: number;\r\n  preventability_score: number;\r\n}\r\n\r\nexport interface ActionItem {\r\n  action: string;\r\n  priority: string;\r\n  target_illness: string;\r\n  evidence_level: string;\r\n  mechanism: string;\r\n  timeline: string;\r\n}\r\n\r\nexport interface PersonalizedAnalysis {\r\n  identified_risk_factors: RiskFactor[];\r\n  priority_health_goals: string[];\r\n  action_items: ActionItem[];\r\n  timeline: string;\r\n}\r\n\r\nexport interface ResearchFoundation {\r\n  citation_text: string;\r\n  study_type: string;\r\n  key_finding: string;\r\n}\r\n\r\nexport interface ProgressTracking {\r\n  key_metrics: string[];\r\n  reassessment_period: string;\r\n}\r\n\r\nexport interface WihyResponseData {\r\n  query_type: string;\r\n  query: string;\r\n  core_principle: string;\r\n  personalized_analysis: PersonalizedAnalysis;\r\n  research_foundation: ResearchFoundation[];\r\n  progress_tracking: ProgressTracking;\r\n  biblical_wisdom: string[];\r\n}\r\n\r\nexport interface WihyResponse {\r\n  success: boolean;\r\n  timestamp: string;\r\n  response_type: string;\r\n  query: string;\r\n  user_context?: UserContext;\r\n  wihy_response: WihyResponseData;\r\n  message: string;\r\n}\r\n\r\nexport interface WihyError {\r\n  detail: string;\r\n}\r\n\r\nclass WihyAPIService {\r\n  private baseURL: string;\r\n\r\n  constructor() {\r\n    this.baseURL = WIHY_API_ENDPOINT;\r\n  }\r\n\r\n  /**\r\n   * Ask WiHy a health-related question with optional user context\r\n   */\r\n  async askAnything(request: WihyRequest): Promise<WihyResponse> {\r\n    try {\r\n      console.log('Making WiHy API request:', request);\r\n      \r\n      const response = await axios.post<WihyResponse>(\r\n        `${this.baseURL}/ask-anything`,\r\n        request,\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          timeout: 30000, // 30 second timeout\r\n        }\r\n      );\r\n\r\n      console.log('WiHy API response:', response.data);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('WiHy API error:', error);\r\n      \r\n      if (error && typeof error === 'object' && 'response' in error) {\r\n        const axiosError = error as any;\r\n        if (axiosError.response?.data) {\r\n          throw new Error(axiosError.response.data.detail || 'WiHy API request failed');\r\n        }\r\n        throw new Error(`Network error: ${axiosError.message || 'Request failed'}`);\r\n      }\r\n      \r\n      throw new Error('Unknown error occurred while contacting WiHy API');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get health news articles using the unified API\r\n   */\r\n  async getHealthNews(categories?: string[], limit?: number): Promise<WihyResponse> {\r\n    const query = categories && categories.length > 0 \r\n      ? `Latest health news about ${categories.join(', ')}`\r\n      : 'Latest health news';\r\n    \r\n    const request: WihyRequest = {\r\n      query: query,\r\n      user_context: {\r\n        // Can add user preferences here if needed\r\n      }\r\n    };\r\n\r\n    return this.askAnything(request);\r\n  }\r\n\r\n  /**\r\n   * Search for nutrition information using the unified API\r\n   */\r\n  async searchNutrition(foodQuery: string, userContext?: UserContext): Promise<WihyResponse> {\r\n    const request: WihyRequest = {\r\n      query: `Nutrition information for ${foodQuery}`,\r\n      user_context: userContext\r\n    };\r\n\r\n    return this.askAnything(request);\r\n  }\r\n\r\n  /**\r\n   * General health search using the unified API\r\n   */\r\n  async searchHealth(query: string, userContext?: UserContext): Promise<WihyResponse> {\r\n    const request: WihyRequest = {\r\n      query: query,\r\n      user_context: userContext\r\n    };\r\n\r\n    return this.askAnything(request);\r\n  }\r\n\r\n  /**\r\n   * Format the WiHy response for display in the existing UI\r\n   * This formats it to be compatible with the existing search results format\r\n   */\r\n  formatWihyResponse(response: WihyResponse): string {\r\n    const { wihy_response } = response;\r\n    \r\n    let formatted = `# ${wihy_response.core_principle}\\n\\n`;\r\n    \r\n    // Personalized Analysis\r\n    if (wihy_response.personalized_analysis) {\r\n      formatted += `## 🎯 Personalized Health Analysis\\n\\n`;\r\n      \r\n      // Risk Factors\r\n      if (wihy_response.personalized_analysis.identified_risk_factors?.length > 0) {\r\n        formatted += `### Identified Risk Factors:\\n`;\r\n        wihy_response.personalized_analysis.identified_risk_factors.forEach(risk => {\r\n          formatted += `- **${risk.risk_factor.replace(/_/g, ' ').toUpperCase()}**\\n`;\r\n          formatted += `  - Associated with: ${risk.associated_illnesses.replace(/_/g, ' ')}\\n`;\r\n          formatted += `  - Prevalence: ${risk.prevalence_rate}%\\n`;\r\n          formatted += `  - Preventability: ${risk.preventability_score}%\\n\\n`;\r\n        });\r\n      }\r\n      \r\n      // Priority Goals\r\n      if (wihy_response.personalized_analysis.priority_health_goals?.length > 0) {\r\n        formatted += `### 🎯 Priority Health Goals:\\n`;\r\n        wihy_response.personalized_analysis.priority_health_goals.forEach(goal => {\r\n          formatted += `- ${goal}\\n`;\r\n        });\r\n        formatted += '\\n';\r\n      }\r\n      \r\n      // Action Items\r\n      if (wihy_response.personalized_analysis.action_items?.length > 0) {\r\n        formatted += `### 📋 Action Items:\\n`;\r\n        wihy_response.personalized_analysis.action_items.forEach((action, index) => {\r\n          formatted += `#### ${index + 1}. ${action.action}\\n`;\r\n          formatted += `- **Priority:** ${action.priority}\\n`;\r\n          formatted += `- **Target:** ${action.target_illness.replace(/_/g, ' ')}\\n`;\r\n          formatted += `- **Evidence Level:** ${action.evidence_level}\\n`;\r\n          formatted += `- **How it works:** ${action.mechanism}\\n`;\r\n          formatted += `- **Timeline:** ${action.timeline}\\n\\n`;\r\n        });\r\n      }\r\n      \r\n      // Timeline\r\n      if (wihy_response.personalized_analysis.timeline) {\r\n        formatted += `**Implementation Timeline:** ${wihy_response.personalized_analysis.timeline}\\n\\n`;\r\n      }\r\n    }\r\n    \r\n    // Research Foundation\r\n    if (wihy_response.research_foundation?.length > 0) {\r\n      formatted += `## 📚 Research Foundation\\n\\n`;\r\n      wihy_response.research_foundation.forEach(research => {\r\n        formatted += `- **${research.citation_text}** (${research.study_type})\\n`;\r\n        formatted += `  ${research.key_finding}\\n\\n`;\r\n      });\r\n    }\r\n    \r\n    // Progress Tracking\r\n    if (wihy_response.progress_tracking) {\r\n      formatted += `## 📊 Progress Tracking\\n\\n`;\r\n      formatted += `**Key Metrics to Track:**\\n`;\r\n      wihy_response.progress_tracking.key_metrics.forEach(metric => {\r\n        formatted += `- ${metric}\\n`;\r\n      });\r\n      formatted += `\\n**Reassessment:** ${wihy_response.progress_tracking.reassessment_period}\\n\\n`;\r\n    }\r\n    \r\n    // Biblical Wisdom\r\n    if (wihy_response.biblical_wisdom?.length > 0) {\r\n      formatted += `## ✝️ Biblical Wisdom\\n\\n`;\r\n      wihy_response.biblical_wisdom.forEach(wisdom => {\r\n        formatted += `> ${wisdom}\\n\\n`;\r\n      });\r\n    }\r\n    \r\n    formatted += `---\\n\\n*WiHy health truth analysis generated at: ${new Date(response.timestamp).toLocaleString()}*\\n`;\r\n    \r\n    return formatted;\r\n  }\r\n\r\n  /**\r\n   * Extract recommendations from WiHy response for UI display\r\n   */\r\n  extractRecommendations(response: WihyResponse): string[] {\r\n    const recommendations: string[] = [];\r\n    \r\n    if (response.wihy_response.personalized_analysis?.action_items) {\r\n      response.wihy_response.personalized_analysis.action_items.forEach(action => {\r\n        recommendations.push(`${action.action} (${action.priority} priority)`);\r\n      });\r\n    }\r\n    \r\n    return recommendations;\r\n  }\r\n\r\n  /**\r\n   * Extract citations from WiHy response for UI display\r\n   */\r\n  extractCitations(response: WihyResponse): string[] {\r\n    const citations: string[] = [];\r\n    \r\n    if (response.wihy_response.research_foundation) {\r\n      response.wihy_response.research_foundation.forEach(research => {\r\n        citations.push(`${research.citation_text}: ${research.key_finding}`);\r\n      });\r\n    }\r\n    \r\n    return citations;\r\n  }\r\n}\r\n\r\n// Export a singleton instance\r\nexport const wihyAPI = new WihyAPIService();\r\nexport default wihyAPI;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}