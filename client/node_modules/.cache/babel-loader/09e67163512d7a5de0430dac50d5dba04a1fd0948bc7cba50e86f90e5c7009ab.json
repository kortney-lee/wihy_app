{"ast":null,"code":"// src/components/ImageUploadModal.tsx\nimport React,{useState,useRef,useCallback}from'react';import'./Spinner.css';import'../styles/VHealthSearch.css';import'../styles/modals.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ImageUploadModal=_ref=>{let{isOpen,onClose,onAnalysisComplete,title=\"Upload Image\",subtitle=\"Upload images for analysis\"}=_ref;const[isDragging,setIsDragging]=useState(false);const[imageUrl,setImageUrl]=useState('');const[isProcessing,setIsProcessing]=useState(false);const[showCamera,setShowCamera]=useState(false);const[stream,setStream]=useState(null);const[capturedImage,setCapturedImage]=useState(null);const videoRef=useRef(null);const canvasRef=useRef(null);const fileInputRef=useRef(null);// Start camera\nconst startCamera=useCallback(async()=>{try{const mediaStream=await navigator.mediaDevices.getUserMedia({video:{facingMode:'environment'}});setStream(mediaStream);setShowCamera(true);if(videoRef.current){videoRef.current.srcObject=mediaStream;}}catch(error){console.error('Error accessing camera:',error);alert('Unable to access camera. Please check permissions.');}},[]);// Stop camera\nconst stopCamera=useCallback(()=>{if(stream){stream.getTracks().forEach(track=>track.stop());setStream(null);}setShowCamera(false);setCapturedImage(null);},[stream]);// Capture photo\nconst capturePhoto=useCallback(()=>{if(videoRef.current&&canvasRef.current){const video=videoRef.current;const canvas=canvasRef.current;const context=canvas.getContext('2d');canvas.width=video.videoWidth;canvas.height=video.videoHeight;if(context){context.drawImage(video,0,0,canvas.width,canvas.height);const imageDataUrl=canvas.toDataURL('image/jpeg');setCapturedImage(imageDataUrl);}}},[]);// Process file and analyze it\nconst processFile=useCallback(async file=>{console.log('🔍 STEP 1: File received:',{name:file.name,type:file.type,size:file.size});setIsProcessing(true);try{console.log('🔍 STEP 2: Using WiHy Scan API...');// Import wihyAPI dynamically to avoid circular imports\nconst{wihyAPI}=await import('../services/wihyAPI');console.log('🔍 STEP 3: Making scan API call...');const result=await wihyAPI.scanFood(file);console.log('🔍 STEP 4: Scan API response received:',result);// Extract food name from the scan result using unified format\nlet foodName='unknown';// Type-safe check for unified response format\nif(result.success&&'data'in result&&result.data){var _unifiedResult$data$a;const unifiedResult=result;// Use any to handle type checking\n// Primary: Get health advice from AI response\nif((_unifiedResult$data$a=unifiedResult.data.ai_response)!==null&&_unifiedResult$data$a!==void 0&&_unifiedResult$data$a.response){foodName=unifiedResult.data.ai_response.response;console.log('🔍 Using AI response:',foodName);}// Fallback: Try to get product name or other analysis\nelse if(unifiedResult.data.product_name){foodName=unifiedResult.data.product_name;console.log('🔍 Using product name:',foodName);}else if(unifiedResult.data.analysis){foodName=unifiedResult.data.analysis;console.log('🔍 Using analysis:',foodName);}else{foodName='Food item scanned';console.log('🔍 Using fallback name');}}else{console.log('❌ No valid response data found');foodName='Food analysis unavailable';}console.log('🔍 STEP 5: Extracted food name:',foodName);console.log('🔍 STEP 6: Triggering analysis completion for:',foodName);onAnalysisComplete(foodName);}catch(error){console.error('❌ Error in processFile:',error);}finally{setIsProcessing(false);}},[onAnalysisComplete]);// Analyze captured image\nconst analyzeCapturedImage=useCallback(async()=>{if(!capturedImage)return;setIsProcessing(true);try{// Convert data URL to blob\nconst response=await fetch(capturedImage);const blob=await response.blob();const file=new File([blob],'captured-image.jpg',{type:'image/jpeg'});await processFile(file);}catch(error){console.error('Error analyzing captured image:',error);alert('Failed to analyze the captured image. Please try again.');}finally{setIsProcessing(false);}},[capturedImage,processFile]);// Handle URL upload\nconst handleUrlUpload=useCallback(async()=>{if(!imageUrl.trim()){alert('Please enter an image URL');return;}setIsProcessing(true);try{const response=await fetch(imageUrl);if(!response.ok){throw new Error('Failed to fetch image');}const blob=await response.blob();const file=new File([blob],'url-image.jpg',{type:blob.type||'image/jpeg'});await processFile(file);}catch(error){console.error('Error uploading from URL:',error);alert('Failed to upload image from URL. Please check the URL and try again.');}finally{setIsProcessing(false);}},[imageUrl,processFile]);// Back to upload view\nconst backToUpload=useCallback(()=>{stopCamera();},[stopCamera]);if(!isOpen)return null;// Handle file drop\nconst handleDrop=async e=>{e.preventDefault();setIsDragging(false);const files=Array.from(e.dataTransfer.files);const imageFile=files.find(file=>file.type.startsWith('image/'));if(imageFile){await processFile(imageFile);}else{alert('Please upload an image file (JPG, PNG, GIF, etc.)');}};// Handle drag events\nconst handleDragOver=e=>{e.preventDefault();setIsDragging(true);};const handleDragLeave=e=>{e.preventDefault();setIsDragging(false);};// Handle file input\nconst handleFileInput=async e=>{var _e$target$files;console.log('📁 File input triggered');const file=(_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0];console.log('📁 Selected file:',file);if(file){await processFile(file);}else{console.log('❌ No file selected');}};// Handle modal close\nconst handleClose=()=>{if(!isProcessing){onClose();setImageUrl('');setIsDragging(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"photo-modal-overlay \".concat(isOpen?'open':''),onClick:handleClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"photo-modal\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:title}),/*#__PURE__*/_jsx(\"p\",{className:\"modal-subtitle\",children:subtitle}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-close\",onClick:handleClose,\"aria-label\":\"Close\",disabled:isProcessing,children:\"\\xD7\"})]}),showCamera?/*#__PURE__*//* Camera View */_jsx(\"div\",{className:\"camera-view\",children:capturedImage?/*#__PURE__*//* Captured Image Preview */_jsxs(\"div\",{className:\"captured-image-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:capturedImage,alt:\"Captured\",className:\"captured-image\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"camera-controls\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"analyze-wihy-btn\",onClick:analyzeCapturedImage,disabled:isProcessing,style:{background:'transparent',border:'2px solid transparent',borderRadius:'28px',padding:'12px 24px',color:'#1a73e8',fontSize:'16px',fontWeight:'600',cursor:'pointer',backgroundClip:'padding-box',position:'relative',animation:'wiH-border-sweep 2.2s linear infinite',marginBottom:'12px'},children:isProcessing?'Analyzing...':'Analyze with WiHy'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCapturedImage(null),style:{background:'#f8f9fa',border:'1px solid #ddd',borderRadius:'8px',padding:'8px 16px',color:'#666',fontSize:'14px',cursor:'pointer'},children:\"Retake\"}),/*#__PURE__*/_jsx(\"button\",{onClick:backToUpload,style:{background:'#f8f9fa',border:'1px solid #ddd',borderRadius:'8px',padding:'8px 16px',color:'#666',fontSize:'14px',cursor:'pointer',marginLeft:'8px'},children:\"Back to Upload\"})]})]}):/*#__PURE__*//* Live Camera View */_jsxs(\"div\",{className:\"live-camera-container\",children:[/*#__PURE__*/_jsx(\"video\",{ref:videoRef,autoPlay:true,playsInline:true,className:\"camera-video\",style:{width:'100%',height:'300px',objectFit:'cover',borderRadius:'8px'}}),/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,style:{display:'none'}}),/*#__PURE__*/_jsxs(\"div\",{className:\"camera-controls\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"analyze-wihy-btn\",onClick:capturePhoto,style:{background:'transparent',border:'2px solid transparent',borderRadius:'28px',padding:'16px 32px',color:'#1a73e8',fontSize:'18px',fontWeight:'600',cursor:'pointer',backgroundClip:'padding-box',position:'relative',animation:'wiH-border-sweep 2.2s linear infinite',marginBottom:'12px',display:'flex',alignItems:'center',justifyContent:'center',width:'100%'},children:\"Capture & Analyze\"}),/*#__PURE__*/_jsx(\"button\",{onClick:backToUpload,style:{background:'#f8f9fa',border:'1px solid #ddd',borderRadius:'8px',padding:'8px 16px',color:'#666',fontSize:'14px',cursor:'pointer',width:'100%'},children:\"Back to Upload\"})]})]})}):/*#__PURE__*//* Upload View */_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"upload-area \".concat(isDragging?'dragging':'',\" \").concat(isProcessing?'processing':''),onDrop:handleDrop,onDragOver:handleDragOver,onDragLeave:handleDragLeave,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"upload-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"upload-icon\",children:isProcessing?/*#__PURE__*/_jsx(\"div\",{className:\"upload-spinner\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})}):/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z\"})})}),isProcessing?/*#__PURE__*/_jsx(\"p\",{className:\"upload-text\",children:\"Analyzing image...\"}):/*#__PURE__*/_jsxs(\"p\",{className:\"upload-text\",children:[isDragging?'Drop image here':'Drag an image here or',' ',/*#__PURE__*/_jsx(\"button\",{className:\"upload-link\",onClick:()=>{var _fileInputRef$current;return(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();},disabled:isProcessing,children:\"upload a file\"})]})]}),/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,type:\"file\",accept:\"image/*\",style:{display:'none'},onChange:handleFileInput,disabled:isProcessing})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'12px',marginTop:'20px',marginBottom:'20px'},children:/*#__PURE__*/_jsx(\"button\",{className:\"analyze-wihy-btn\",onClick:startCamera,disabled:isProcessing,style:{background:'transparent',border:'2px solid transparent',borderRadius:'28px',padding:'16px 32px',color:'#1a73e8',fontSize:'18px',fontWeight:'600',cursor:'pointer',backgroundClip:'padding-box',position:'relative',animation:'wiH-border-sweep 2.2s linear infinite',display:'flex',alignItems:'center',justifyContent:'center',width:'100%'},children:\"Use Camera\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"url-input-section\",style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"url\",value:imageUrl,onChange:e=>setImageUrl(e.target.value),placeholder:\"Paste image link\",className:\"url-input\",disabled:isProcessing,style:{width:'100%',padding:'12px 16px',borderRadius:'25px',border:'1px solid #ddd',fontSize:'16px',marginBottom:'12px'}}),/*#__PURE__*/_jsx(\"button\",{className:\"analyze-wihy-btn\",onClick:handleUrlUpload,disabled:isProcessing||!imageUrl.trim(),style:{background:'transparent',border:'2px solid transparent',borderRadius:'28px',padding:'12px 24px',color:'#1a73e8',fontSize:'16px',fontWeight:'600',cursor:'pointer',backgroundClip:'padding-box',position:'relative',animation:'wiH-border-sweep 2.2s linear infinite',opacity:isProcessing||!imageUrl.trim()?0.5:1,width:'100%'},children:isProcessing?'Analyzing...':'Analyze with WiHy'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"upload-info\",children:/*#__PURE__*/_jsx(\"small\",{children:\"Supported formats: JPG, PNG, GIF, WebP (max 10MB)\"})})]})]})});};export default ImageUploadModal;","map":{"version":3,"names":["React","useState","useRef","useCallback","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ImageUploadModal","_ref","isOpen","onClose","onAnalysisComplete","title","subtitle","isDragging","setIsDragging","imageUrl","setImageUrl","isProcessing","setIsProcessing","showCamera","setShowCamera","stream","setStream","capturedImage","setCapturedImage","videoRef","canvasRef","fileInputRef","startCamera","mediaStream","navigator","mediaDevices","getUserMedia","video","facingMode","current","srcObject","error","console","alert","stopCamera","getTracks","forEach","track","stop","capturePhoto","canvas","context","getContext","width","videoWidth","height","videoHeight","drawImage","imageDataUrl","toDataURL","processFile","file","log","name","type","size","wihyAPI","result","scanFood","foodName","success","data","_unifiedResult$data$a","unifiedResult","ai_response","response","product_name","analysis","analyzeCapturedImage","fetch","blob","File","handleUrlUpload","trim","ok","Error","backToUpload","handleDrop","e","preventDefault","files","Array","from","dataTransfer","imageFile","find","startsWith","handleDragOver","handleDragLeave","handleFileInput","_e$target$files","target","handleClose","className","concat","onClick","children","stopPropagation","disabled","src","alt","style","background","border","borderRadius","padding","color","fontSize","fontWeight","cursor","backgroundClip","position","animation","marginBottom","marginLeft","ref","autoPlay","playsInline","objectFit","display","alignItems","justifyContent","onDrop","onDragOver","onDragLeave","viewBox","fill","d","_fileInputRef$current","click","accept","onChange","flexDirection","gap","marginTop","value","placeholder","opacity"],"sources":["C:/repo/wihy_ui/client/src/components/ImageUploadModal.tsx"],"sourcesContent":["// src/components/ImageUploadModal.tsx\r\nimport React, { useState, useRef, useCallback } from 'react';\r\nimport './Spinner.css';\r\nimport '../styles/VHealthSearch.css';\r\nimport '../styles/modals.css';\r\n\r\ninterface ImageUploadModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onAnalysisComplete: (foodName: string) => void;\r\n  title?: string;\r\n  subtitle?: string;\r\n}\r\n\r\nconst ImageUploadModal: React.FC<ImageUploadModalProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  onAnalysisComplete,\r\n  title = \"Upload Image\",\r\n  subtitle = \"Upload images for analysis\"\r\n}) => {\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  const [imageUrl, setImageUrl] = useState('');\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [showCamera, setShowCamera] = useState(false);\r\n  const [stream, setStream] = useState<MediaStream | null>(null);\r\n  const [capturedImage, setCapturedImage] = useState<string | null>(null);\r\n  \r\n  const videoRef = useRef<HTMLVideoElement>(null);\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  // Start camera\r\n  const startCamera = useCallback(async () => {\r\n    try {\r\n      const mediaStream = await navigator.mediaDevices.getUserMedia({\r\n        video: { facingMode: 'environment' }\r\n      });\r\n      setStream(mediaStream);\r\n      setShowCamera(true);\r\n      if (videoRef.current) {\r\n        videoRef.current.srcObject = mediaStream;\r\n      }\r\n    } catch (error) {\r\n      console.error('Error accessing camera:', error);\r\n      alert('Unable to access camera. Please check permissions.');\r\n    }\r\n  }, []);\r\n\r\n  // Stop camera\r\n  const stopCamera = useCallback(() => {\r\n    if (stream) {\r\n      stream.getTracks().forEach(track => track.stop());\r\n      setStream(null);\r\n    }\r\n    setShowCamera(false);\r\n    setCapturedImage(null);\r\n  }, [stream]);\r\n\r\n  // Capture photo\r\n  const capturePhoto = useCallback(() => {\r\n    if (videoRef.current && canvasRef.current) {\r\n      const video = videoRef.current;\r\n      const canvas = canvasRef.current;\r\n      const context = canvas.getContext('2d');\r\n      \r\n      canvas.width = video.videoWidth;\r\n      canvas.height = video.videoHeight;\r\n      \r\n      if (context) {\r\n        context.drawImage(video, 0, 0, canvas.width, canvas.height);\r\n        const imageDataUrl = canvas.toDataURL('image/jpeg');\r\n        setCapturedImage(imageDataUrl);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  // Process file and analyze it\r\n  const processFile = useCallback(async (file: File) => {\r\n    console.log('🔍 STEP 1: File received:', {\r\n      name: file.name,\r\n      type: file.type,\r\n      size: file.size\r\n    });\r\n    \r\n    setIsProcessing(true);\r\n    \r\n    try {\r\n      console.log('🔍 STEP 2: Using WiHy Scan API...');\r\n      \r\n      // Import wihyAPI dynamically to avoid circular imports\r\n      const { wihyAPI } = await import('../services/wihyAPI');\r\n      \r\n      console.log('🔍 STEP 3: Making scan API call...');\r\n      const result = await wihyAPI.scanFood(file);\r\n\r\n      console.log('🔍 STEP 4: Scan API response received:', result);\r\n      \r\n      // Extract food name from the scan result using unified format\r\n      let foodName = 'unknown';\r\n      \r\n      // Type-safe check for unified response format\r\n      if (result.success && 'data' in result && result.data) {\r\n        const unifiedResult = result as any; // Use any to handle type checking\r\n        \r\n        // Primary: Get health advice from AI response\r\n        if (unifiedResult.data.ai_response?.response) {\r\n          foodName = unifiedResult.data.ai_response.response;\r\n          console.log('🔍 Using AI response:', foodName);\r\n        }\r\n        // Fallback: Try to get product name or other analysis\r\n        else if (unifiedResult.data.product_name) {\r\n          foodName = unifiedResult.data.product_name;\r\n          console.log('🔍 Using product name:', foodName);\r\n        }\r\n        else if (unifiedResult.data.analysis) {\r\n          foodName = unifiedResult.data.analysis;\r\n          console.log('🔍 Using analysis:', foodName);\r\n        }\r\n        else {\r\n          foodName = 'Food item scanned';\r\n          console.log('🔍 Using fallback name');\r\n        }\r\n      } else {\r\n        console.log('❌ No valid response data found');\r\n        foodName = 'Food analysis unavailable';\r\n      }\r\n      \r\n      console.log('🔍 STEP 5: Extracted food name:', foodName);\r\n      \r\n      console.log('🔍 STEP 6: Triggering analysis completion for:', foodName);\r\n      onAnalysisComplete(foodName);\r\n      \r\n    } catch (error) {\r\n      console.error('❌ Error in processFile:', error);\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  }, [onAnalysisComplete]);\r\n\r\n  // Analyze captured image\r\n  const analyzeCapturedImage = useCallback(async () => {\r\n    if (!capturedImage) return;\r\n\r\n    setIsProcessing(true);\r\n    try {\r\n      // Convert data URL to blob\r\n      const response = await fetch(capturedImage);\r\n      const blob = await response.blob();\r\n      const file = new File([blob], 'captured-image.jpg', { type: 'image/jpeg' });\r\n      \r\n      await processFile(file);\r\n    } catch (error) {\r\n      console.error('Error analyzing captured image:', error);\r\n      alert('Failed to analyze the captured image. Please try again.');\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  }, [capturedImage, processFile]);\r\n\r\n  // Handle URL upload\r\n  const handleUrlUpload = useCallback(async () => {\r\n    if (!imageUrl.trim()) {\r\n      alert('Please enter an image URL');\r\n      return;\r\n    }\r\n\r\n    setIsProcessing(true);\r\n    try {\r\n      const response = await fetch(imageUrl);\r\n      if (!response.ok) {\r\n        throw new Error('Failed to fetch image');\r\n      }\r\n      \r\n      const blob = await response.blob();\r\n      const file = new File([blob], 'url-image.jpg', { type: blob.type || 'image/jpeg' });\r\n      \r\n      await processFile(file);\r\n    } catch (error) {\r\n      console.error('Error uploading from URL:', error);\r\n      alert('Failed to upload image from URL. Please check the URL and try again.');\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  }, [imageUrl, processFile]);\r\n\r\n  // Back to upload view\r\n  const backToUpload = useCallback(() => {\r\n    stopCamera();\r\n  }, [stopCamera]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  // Handle file drop\r\n  const handleDrop = async (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    setIsDragging(false);\r\n    \r\n    const files = Array.from(e.dataTransfer.files);\r\n    const imageFile = files.find(file => file.type.startsWith('image/'));\r\n    \r\n    if (imageFile) {\r\n      await processFile(imageFile);\r\n    } else {\r\n      alert('Please upload an image file (JPG, PNG, GIF, etc.)');\r\n    }\r\n  };\r\n\r\n  // Handle drag events\r\n  const handleDragOver = (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    setIsDragging(true);\r\n  };\r\n\r\n  const handleDragLeave = (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    setIsDragging(false);\r\n  };\r\n\r\n  // Handle file input\r\n  const handleFileInput = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    console.log('📁 File input triggered');\r\n    const file = e.target.files?.[0];\r\n    console.log('📁 Selected file:', file);\r\n    if (file) {\r\n      await processFile(file);\r\n    } else {\r\n      console.log('❌ No file selected');\r\n    }\r\n  };\r\n\r\n  // Handle modal close\r\n  const handleClose = () => {\r\n    if (!isProcessing) {\r\n      onClose();\r\n      setImageUrl('');\r\n      setIsDragging(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`photo-modal-overlay ${isOpen ? 'open' : ''}`} onClick={handleClose}>\r\n      <div className=\"photo-modal\" onClick={(e) => e.stopPropagation()}>\r\n        <div className=\"modal-header\">\r\n          <h2>{title}</h2>\r\n          <p className=\"modal-subtitle\">{subtitle}</p>\r\n          <button \r\n            className=\"modal-close\"\r\n            onClick={handleClose}\r\n            aria-label=\"Close\"\r\n            disabled={isProcessing}\r\n          >\r\n            ×\r\n          </button>\r\n        </div>\r\n        \r\n        {showCamera ? (\r\n          /* Camera View */\r\n          <div className=\"camera-view\">\r\n            {capturedImage ? (\r\n              /* Captured Image Preview */\r\n              <div className=\"captured-image-container\">\r\n                <img src={capturedImage} alt=\"Captured\" className=\"captured-image\" />\r\n                <div className=\"camera-controls\">\r\n                  <button \r\n                    className=\"analyze-wihy-btn\"\r\n                    onClick={analyzeCapturedImage}\r\n                    disabled={isProcessing}\r\n                    style={{\r\n                      background: 'transparent',\r\n                      border: '2px solid transparent',\r\n                      borderRadius: '28px',\r\n                      padding: '12px 24px',\r\n                      color: '#1a73e8',\r\n                      fontSize: '16px',\r\n                      fontWeight: '600',\r\n                      cursor: 'pointer',\r\n                      backgroundClip: 'padding-box',\r\n                      position: 'relative',\r\n                      animation: 'wiH-border-sweep 2.2s linear infinite',\r\n                      marginBottom: '12px'\r\n                    }}\r\n                  >\r\n                    {isProcessing ? 'Analyzing...' : 'Analyze with WiHy'}\r\n                  </button>\r\n                  <button \r\n                    onClick={() => setCapturedImage(null)}\r\n                    style={{\r\n                      background: '#f8f9fa',\r\n                      border: '1px solid #ddd',\r\n                      borderRadius: '8px',\r\n                      padding: '8px 16px',\r\n                      color: '#666',\r\n                      fontSize: '14px',\r\n                      cursor: 'pointer'\r\n                    }}\r\n                  >\r\n                    Retake\r\n                  </button>\r\n                  <button \r\n                    onClick={backToUpload}\r\n                    style={{\r\n                      background: '#f8f9fa',\r\n                      border: '1px solid #ddd',\r\n                      borderRadius: '8px',\r\n                      padding: '8px 16px',\r\n                      color: '#666',\r\n                      fontSize: '14px',\r\n                      cursor: 'pointer',\r\n                      marginLeft: '8px'\r\n                    }}\r\n                  >\r\n                    Back to Upload\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              /* Live Camera View */\r\n              <div className=\"live-camera-container\">\r\n                <video \r\n                  ref={videoRef} \r\n                  autoPlay \r\n                  playsInline \r\n                  className=\"camera-video\"\r\n                  style={{\r\n                    width: '100%',\r\n                    height: '300px',\r\n                    objectFit: 'cover',\r\n                    borderRadius: '8px'\r\n                  }}\r\n                />\r\n                <canvas ref={canvasRef} style={{ display: 'none' }} />\r\n                <div className=\"camera-controls\">\r\n                  <button \r\n                    className=\"analyze-wihy-btn\"\r\n                    onClick={capturePhoto}\r\n                    style={{\r\n                      background: 'transparent',\r\n                      border: '2px solid transparent',\r\n                      borderRadius: '28px',\r\n                      padding: '16px 32px',\r\n                      color: '#1a73e8',\r\n                      fontSize: '18px',\r\n                      fontWeight: '600',\r\n                      cursor: 'pointer',\r\n                      backgroundClip: 'padding-box',\r\n                      position: 'relative',\r\n                      animation: 'wiH-border-sweep 2.2s linear infinite',\r\n                      marginBottom: '12px',\r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      justifyContent: 'center',\r\n                      width: '100%'\r\n                    }}\r\n                  >\r\n                    Capture & Analyze\r\n                  </button>\r\n                  <button \r\n                    onClick={backToUpload}\r\n                    style={{\r\n                      background: '#f8f9fa',\r\n                      border: '1px solid #ddd',\r\n                      borderRadius: '8px',\r\n                      padding: '8px 16px',\r\n                      color: '#666',\r\n                      fontSize: '14px',\r\n                      cursor: 'pointer',\r\n                      width: '100%'\r\n                    }}\r\n                  >\r\n                    Back to Upload\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          /* Upload View */\r\n          <>\r\n            {/* Upload Area */}\r\n            <div \r\n              className={`upload-area ${isDragging ? 'dragging' : ''} ${isProcessing ? 'processing' : ''}`}\r\n              onDrop={handleDrop}\r\n              onDragOver={handleDragOver}\r\n              onDragLeave={handleDragLeave}\r\n            >\r\n              <div className=\"upload-content\">\r\n                <div className=\"upload-icon\">\r\n                  {isProcessing ? (\r\n                    <div className=\"upload-spinner\">\r\n                      <div className=\"spinner\"></div>\r\n                    </div>\r\n                  ) : (\r\n                    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <path d=\"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z\"/>\r\n                    </svg>\r\n                  )}\r\n                </div>\r\n                \r\n                {isProcessing ? (\r\n                  <p className=\"upload-text\">Analyzing image...</p>\r\n                ) : (\r\n                  <p className=\"upload-text\">\r\n                    {isDragging ? 'Drop image here' : 'Drag an image here or'}{' '}\r\n                    <button \r\n                      className=\"upload-link\"\r\n                      onClick={() => fileInputRef.current?.click()}\r\n                      disabled={isProcessing}\r\n                    >\r\n                      upload a file\r\n                    </button>\r\n                  </p>\r\n                )}\r\n              </div>\r\n              \r\n              <input\r\n                ref={fileInputRef}\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                style={{ display: 'none' }}\r\n                onChange={handleFileInput}\r\n                disabled={isProcessing}\r\n              />\r\n            </div>\r\n\r\n            {/* Button Bar */}\r\n            <div style={{ \r\n              display: 'flex', \r\n              flexDirection: 'column', \r\n              gap: '12px', \r\n              marginTop: '20px',\r\n              marginBottom: '20px'\r\n            }}>\r\n              <button \r\n                className=\"analyze-wihy-btn\"\r\n                onClick={startCamera}\r\n                disabled={isProcessing}\r\n                style={{\r\n                  background: 'transparent',\r\n                  border: '2px solid transparent',\r\n                  borderRadius: '28px',\r\n                  padding: '16px 32px',\r\n                  color: '#1a73e8',\r\n                  fontSize: '18px',\r\n                  fontWeight: '600',\r\n                  cursor: 'pointer',\r\n                  backgroundClip: 'padding-box',\r\n                  position: 'relative',\r\n                  animation: 'wiH-border-sweep 2.2s linear infinite',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  width: '100%'\r\n                }}\r\n              >\r\n                Use Camera\r\n              </button>\r\n            </div>\r\n\r\n            {/* URL Input Section */}\r\n            <div className=\"url-input-section\" style={{ marginBottom: '20px' }}>\r\n              <input\r\n                type=\"url\"\r\n                value={imageUrl}\r\n                onChange={(e) => setImageUrl(e.target.value)}\r\n                placeholder=\"Paste image link\"\r\n                className=\"url-input\"\r\n                disabled={isProcessing}\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '12px 16px',\r\n                  borderRadius: '25px',\r\n                  border: '1px solid #ddd',\r\n                  fontSize: '16px',\r\n                  marginBottom: '12px'\r\n                }}\r\n              />\r\n              <button\r\n                className=\"analyze-wihy-btn\"\r\n                onClick={handleUrlUpload}\r\n                disabled={isProcessing || !imageUrl.trim()}\r\n                style={{\r\n                  background: 'transparent',\r\n                  border: '2px solid transparent',\r\n                  borderRadius: '28px',\r\n                  padding: '12px 24px',\r\n                  color: '#1a73e8',\r\n                  fontSize: '16px',\r\n                  fontWeight: '600',\r\n                  cursor: 'pointer',\r\n                  backgroundClip: 'padding-box',\r\n                  position: 'relative',\r\n                  animation: 'wiH-border-sweep 2.2s linear infinite',\r\n                  opacity: isProcessing || !imageUrl.trim() ? 0.5 : 1,\r\n                  width: '100%'\r\n                }}\r\n              >\r\n                {isProcessing ? 'Analyzing...' : 'Analyze with WiHy'}\r\n              </button>\r\n            </div>\r\n\r\n            {/* Supported formats */}\r\n            <div className=\"upload-info\">\r\n              <small>Supported formats: JPG, PNG, GIF, WebP (max 10MB)</small>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageUploadModal;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}