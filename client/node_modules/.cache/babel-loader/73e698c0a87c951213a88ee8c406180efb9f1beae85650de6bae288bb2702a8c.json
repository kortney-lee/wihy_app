{"ast":null,"code":"var _jsxFileName = \"C:\\\\vHealth\\\\vhealth\\\\client\\\\src\\\\components\\\\Spinner.tsx\",\n  _s = $RefreshSig$();\n// Spinner.tsx\nimport React, { useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport './Spinner.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst portalId = 'vh-spinner-portal';\nfunction ensurePortal() {\n  let el = document.getElementById(portalId);\n  if (!el) {\n    el = document.createElement('div');\n    el.id = portalId;\n    document.body.appendChild(el);\n  }\n  return el;\n}\nexport default function Spinner({\n  overlay = false,\n  title = 'Analyzing with AI...',\n  subtitle = 'This may take a few moments...',\n  progress,\n  message,\n  disableEsc = true,\n  onClose\n}) {\n  _s();\n  // Preserve legacy \"message\" prop as subtitle if present\n  const sub = message !== null && message !== void 0 ? message : subtitle;\n\n  // Optional: trap/allow ESC when overlayed\n  useEffect(() => {\n    if (!overlay) return;\n    const onKey = e => {\n      if (e.key === 'Escape') {\n        if (disableEsc) {\n          e.preventDefault();\n          e.stopPropagation();\n        } else {\n          onClose === null || onClose === void 0 ? void 0 : onClose();\n        }\n      }\n    };\n    document.addEventListener('keydown', onKey, {\n      capture: true\n    });\n    return () => document.removeEventListener('keydown', onKey, {\n      capture: true\n    });\n  }, [overlay, disableEsc, onClose]);\n\n  // Non-overlay inline spinner (kept for compatibility)\n  if (!overlay) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"clean-loader\",\n      role: \"status\",\n      \"aria-live\": \"polite\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"arc-spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), sub && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          marginTop: 12\n        },\n        className: \"spinner-text\",\n        children: sub\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Overlay modal via portal to avoid z-index issues\n  const portal = ensurePortal();\n  const clamped = typeof progress === 'number' ? Math.max(0, Math.min(100, Math.round(progress))) : undefined;\n  const modal = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"spinner-overlay\",\n    role: \"dialog\",\n    \"aria-modal\": \"true\",\n    \"aria-labelledby\": \"spinner-title\",\n    \"aria-describedby\": \"spinner-subtitle\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"spinner-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"arc-spinner\",\n        \"aria-hidden\": true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        id: \"spinner-title\",\n        className: \"spinner-title\",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), sub && /*#__PURE__*/_jsxDEV(\"p\", {\n        id: \"spinner-subtitle\",\n        className: \"spinner-message\",\n        children: sub\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner-progress\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner-track\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `spinner-fill ${clamped === undefined ? 'indeterminate' : ''}`,\n            style: clamped !== undefined ? {\n              width: `${clamped}%`\n            } : undefined\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner-percent\",\n          children: clamped !== undefined ? `${clamped}% Complete` : 'Working…'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/ReactDOM.createPortal(modal, portal);\n}\n_s(Spinner, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = Spinner;\nvar _c;\n$RefreshReg$(_c, \"Spinner\");","map":{"version":3,"names":["React","useEffect","ReactDOM","jsxDEV","_jsxDEV","portalId","ensurePortal","el","document","getElementById","createElement","id","body","appendChild","Spinner","overlay","title","subtitle","progress","message","disableEsc","onClose","_s","sub","onKey","e","key","preventDefault","stopPropagation","addEventListener","capture","removeEventListener","className","role","children","fileName","_jsxFileName","lineNumber","columnNumber","style","marginTop","portal","clamped","Math","max","min","round","undefined","modal","width","createPortal","_c","$RefreshReg$"],"sources":["C:/vHealth/vhealth/client/src/components/Spinner.tsx"],"sourcesContent":["// Spinner.tsx\r\nimport React, { useEffect } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './Spinner.css';\r\n\r\ntype SpinnerProps = {\r\n  /** Full-screen overlay modal */\r\n  overlay?: boolean;\r\n  /** Bold heading (defaults to “Analyzing with AI…”) */\r\n  title?: string;\r\n  /** Secondary line (defaults to “This may take a few moments…”) */\r\n  subtitle?: string;\r\n  /** 0–100 for determinate; omit for indeterminate */\r\n  progress?: number;\r\n  /** Legacy alias (treated as subtitle if provided) */\r\n  message?: string;\r\n  /** Prevent closing with Esc (defaults true for blocking tasks) */\r\n  disableEsc?: boolean;\r\n  /** Called if Esc is allowed and user presses it */\r\n  onClose?: () => void;\r\n};\r\n\r\nconst portalId = 'vh-spinner-portal';\r\n\r\nfunction ensurePortal(): HTMLElement {\r\n  let el = document.getElementById(portalId);\r\n  if (!el) {\r\n    el = document.createElement('div');\r\n    el.id = portalId;\r\n    document.body.appendChild(el);\r\n  }\r\n  return el;\r\n}\r\n\r\nexport default function Spinner({\r\n  overlay = false,\r\n  title = 'Analyzing with AI...',\r\n  subtitle = 'This may take a few moments...',\r\n  progress,\r\n  message,\r\n  disableEsc = true,\r\n  onClose\r\n}: SpinnerProps) {\r\n  // Preserve legacy \"message\" prop as subtitle if present\r\n  const sub = message ?? subtitle;\r\n\r\n  // Optional: trap/allow ESC when overlayed\r\n  useEffect(() => {\r\n    if (!overlay) return;\r\n    const onKey = (e: KeyboardEvent) => {\r\n      if (e.key === 'Escape') {\r\n        if (disableEsc) {\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n        } else {\r\n          onClose?.();\r\n        }\r\n      }\r\n    };\r\n    document.addEventListener('keydown', onKey, { capture: true });\r\n    return () => document.removeEventListener('keydown', onKey, { capture: true } as any);\r\n  }, [overlay, disableEsc, onClose]);\r\n\r\n  // Non-overlay inline spinner (kept for compatibility)\r\n  if (!overlay) {\r\n    return (\r\n      <div className=\"clean-loader\" role=\"status\" aria-live=\"polite\">\r\n        <div className=\"arc-spinner\" />\r\n        {sub && <p style={{ marginTop: 12 }} className=\"spinner-text\">{sub}</p>}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Overlay modal via portal to avoid z-index issues\r\n  const portal = ensurePortal();\r\n  const clamped =\r\n    typeof progress === 'number'\r\n      ? Math.max(0, Math.min(100, Math.round(progress)))\r\n      : undefined;\r\n\r\n  const modal = (\r\n    <div className=\"spinner-overlay\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"spinner-title\" aria-describedby=\"spinner-subtitle\">\r\n      <div className=\"spinner-container\">\r\n        <div className=\"arc-spinner\" aria-hidden />\r\n        <h2 id=\"spinner-title\" className=\"spinner-title\">{title}</h2>\r\n        {sub && <p id=\"spinner-subtitle\" className=\"spinner-message\">{sub}</p>}\r\n\r\n        <div className=\"spinner-progress\">\r\n          <div className=\"spinner-track\">\r\n            <div\r\n              className={`spinner-fill ${clamped === undefined ? 'indeterminate' : ''}`}\r\n              style={clamped !== undefined ? { width: `${clamped}%` } : undefined}\r\n            />\r\n          </div>\r\n          <div className=\"spinner-percent\">\r\n            {clamped !== undefined ? `${clamped}% Complete` : 'Working…'}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return ReactDOM.createPortal(modal, portal);\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}