/* Mobile-specific fixes for layout issues */

/* Fix any unwanted overlays or background tints */
@media (max-width: 768px) {
  /* Override CSS variables for mobile to ensure clean look */
  :root {
    --vh-accent: #1a73e8;
    --vh-accent-2: #34a853;
    --vh-ink: #202124;
    --vh-muted: #5f6368;
    --vh-surface: #ffffff;
    --vh-surface-2: #ffffff; /* Changed from #f8fbff to pure white for mobile */
    --vh-ring: 0 0 0 3px rgba(26,115,232,.18);
  }

  /* Remove any yellow/orange overlays */
  *::before,
  *::after {
    background: none !important;
    box-shadow: none !important;
  }

  /* Remove problematic body gradients on mobile */
  body {
    background: #f9f9f9 !important;
    background-image: none !important;
    padding-top: 60px !important; /* Reduce top padding for mobile */
  }

  /* Fix main content areas - reduce padding */
  .results-page {
    padding-top: 5px !important;
  }

  .results-container {
    padding: 10px !important;
    margin: 5px auto !important;
  }

  /* Fix text sizing for mobile readability */
  .health-info-content,
  .health-info-content pre {
    font-size: 14px !important;
    line-height: 1.6 !important;
  }

  /* Improve mobile typography */
  .results-header {
    font-size: 18px !important;
    margin-bottom: 15px !important;
  }

  /* Better mobile text sizing throughout */
  h1, h2, h3, h4, h5, h6 {
    font-size: clamp(14px, 4vw, 24px) !important;
    line-height: 1.3 !important;
  }

  /* Improve readability of main content */
  .markdown-content,
  .health-info-content,
  .health-info-content * {
    font-size: 15px !important;
    line-height: 1.6 !important;
  }

  /* Adjust button text size */
  .topic-button,
  .resources-list a {
    font-size: 14px !important;
  }

  /* Improve chart text */
  .quality-chart-container,
  .nutrition-chart-container {
    font-size: 13px !important;
  }

  /* Better spacing between elements */
  .health-info-card {
    margin-bottom: 15px !important;
  }

  .related-topics-card,
  .resources-card {
    margin-bottom: 12px !important;
  }

  /* Ensure proper mobile padding for search container */
  .search-container-centered {
    padding: 15px 20px !important;
  }

  /* Ensure clean white backgrounds for main content areas */
  .results-page,
  .search-landing,
  .health-info-card,
  .health-info-content,
  .related-topics-card,
  .resources-card {
    background: #ffffff !important;
    background-image: none !important;
    background-color: #ffffff !important;
  }

  /* Override card gradients for mobile */
  .related-topics-card,
  .resources-card {
    background: #ffffff !important;
    border: 1px solid #e8f0fe;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
  }

  .related-topics-card h3,
  .resources-card h3 {
    background: #f8fbff !important;
    color: #1a73e8 !important;
  }

  /* Fix any dark/black overlays that might cause readability issues */
  .data-source-indicator,
  .error-source {
    background: #ffffff !important;
    color: #333333 !important;
    border: 1px solid #e8f0fe;
    border-radius: 8px;
    padding: 8px 12px;
    margin: 8px 0;
  }

  .error-source {
    background: #fef7f7 !important;
    color: #ea4335 !important;
    border-color: #fecaca;
  }

  /* Ensure proper text contrast */
  .health-info-content,
  .health-info-content *,
  .related-topics-list,
  .resources-list {
    color: #333333 !important;
    background: transparent !important;
  }

  /* Fix any modal or overlay issues */
  .modal-overlay,
  .loading-overlay {
    background: rgba(255, 255, 255, 0.95) !important;
  }

  /* Ensure proper button visibility */
  .topic-button,
  .resources-list a {
    background: #f8fbff !important;
    color: #1a73e8 !important;
    border: 1px solid #e8f0fe;
    margin-bottom: 4px;
    border-radius: 8px;
  }

  .topic-button:hover,
  .resources-list a:hover {
    background: #eef4ff !important;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  }

  /* Fix search input container */
  .search-input-container {
    background: 
      linear-gradient(#fff, #fff) padding-box,
      linear-gradient(90deg, #fa5f06, #ffffff, #C0C0C0, #4cbb17, #1a73e8) border-box !important;
  }

  /* Remove any unwanted gradients or overlays */
  .health-info-card::before {
    display: none !important;
  }

  /* Ensure proper z-index stacking */
  .results-search-header {
    z-index: 100 !important;
    background: #ffffff !important;
  }

  .sidebar {
    z-index: 1 !important;
  }

  /* Fix any layout overflow issues */
  body,
  html {
    overflow-x: hidden !important;
  }

  .results-container,
  .search-container-centered {
    width: 100% !important;
    max-width: 100% !important;
    overflow-x: hidden !important;
  }

  /* Fix search input placeholder text display */
  .search-input {
    font-size: 16px !important; /* Prevent zoom on iOS */
    padding: 12px 60px 12px 16px !important; /* More space for icons */
    width: 100% !important;
    box-sizing: border-box !important;
  }

  .search-input::placeholder {
    font-size: 16px !important;
    color: #9aa0a6 !important;
    opacity: 1 !important;
    text-overflow: ellipsis !important;
    white-space: nowrap !important;
    overflow: hidden !important;
  }

  /* Ensure search icons don't overlap text */
  .search-icons {
    right: 8px !important;
    background-color: rgba(255, 255, 255, 0.95) !important;
  }
}

/* Extra small mobile devices */
@media (max-width: 480px) {
  /* Ensure even more compact layout */
  .health-info-card,
  .related-topics-card,
  .resources-card {
    margin: 0 0 12px 0 !important;
    padding: 12px !important;
  }

  /* Fix any remaining overlay issues */
  .search-icons {
    background-color: rgba(255, 255, 255, 0.95) !important;
    backdrop-filter: blur(4px);
  }
}