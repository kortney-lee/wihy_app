{"ast":null,"code":"var _jsxFileName = \"C:\\\\repo\\\\wihy_ui\\\\user\\\\src\\\\components\\\\ChatWidget.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChatWidget = ({\n  isOpen,\n  onToggle,\n  onClose,\n  currentContext\n}) => {\n  _s();\n  const [messages, setMessages] = useState([{\n    id: '1',\n    type: 'assistant',\n    message: 'Hi! I\\'m your health assistant. I can help explain your dashboard data and answer questions about your health metrics. What would you like to know?',\n    timestamp: new Date()\n  }]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n  const messagesEndRef = useRef(null);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  // Add contextual message when context changes\n  useEffect(() => {\n    if (currentContext && isOpen) {\n      const contextualMessage = {\n        id: Date.now().toString(),\n        type: 'assistant',\n        message: `I see you're looking at your ${currentContext}. I can help explain these metrics, identify trends, or answer any questions about this data. What would you like to know?`,\n        timestamp: new Date(),\n        context: currentContext\n      };\n\n      // Only add if it's not the same as the last message\n      setMessages(prev => {\n        const lastMessage = prev[prev.length - 1];\n        if ((lastMessage === null || lastMessage === void 0 ? void 0 : lastMessage.context) === currentContext) {\n          return prev; // Don't duplicate context messages\n        }\n        return [...prev, contextualMessage];\n      });\n    }\n  }, [currentContext, isOpen]);\n  const handleSendMessage = async () => {\n    if (!inputMessage.trim()) return;\n    const userMessage = {\n      id: Date.now().toString(),\n      type: 'user',\n      message: inputMessage.trim(),\n      timestamp: new Date(),\n      context: currentContext\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setInputMessage('');\n    setIsTyping(true);\n\n    // Simulate AI response (replace with actual AI integration)\n    setTimeout(() => {\n      const response = generateContextualResponse(inputMessage, currentContext);\n      const assistantMessage = {\n        id: (Date.now() + 1).toString(),\n        type: 'assistant',\n        message: response,\n        timestamp: new Date()\n      };\n      setMessages(prev => [...prev, assistantMessage]);\n      setIsTyping(false);\n    }, 1500);\n  };\n  const generateContextualResponse = (question, context) => {\n    const lowerQuestion = question.toLowerCase();\n\n    // Context-aware responses based on current dashboard section\n    if (context !== null && context !== void 0 && context.includes('weight')) {\n      if (lowerQuestion.includes('bmi') || lowerQuestion.includes('weight')) {\n        return 'Your current BMI is 22.4, which falls in the healthy range (18.5-24.9). Your weight trend shows you\\'re 3.5kg from your goal of 65kg. The gradual progress indicates a sustainable approach to weight management.';\n      }\n      if (lowerQuestion.includes('goal') || lowerQuestion.includes('target')) {\n        return 'Your weight goal of 65kg represents a 3.5kg reduction from your current weight of 68.5kg. Based on your current trend, you\\'re making steady progress. A healthy weight loss rate is 0.5-1kg per week.';\n      }\n    }\n    if (context !== null && context !== void 0 && context.includes('activity')) {\n      if (lowerQuestion.includes('steps') || lowerQuestion.includes('walking')) {\n        return 'You\\'ve taken 8,742 steps today, which is 87% of your 10,000 step goal. Your activity level is good! The WHO recommends at least 150 minutes of moderate activity per week.';\n      }\n      if (lowerQuestion.includes('calories') || lowerQuestion.includes('burn')) {\n        return 'You\\'ve burned 2,100 calories today through various activities. Your active minutes (45/60 min goal) show consistent movement throughout the day, which is excellent for metabolic health.';\n      }\n    }\n    if (context !== null && context !== void 0 && context.includes('nutrition')) {\n      if (lowerQuestion.includes('calories') || lowerQuestion.includes('food')) {\n        return 'Your calorie intake today is 1,850 kcal. Based on your activity level and goals, this appears well-balanced. Your macro breakdown shows good protein intake for muscle maintenance.';\n      }\n      if (lowerQuestion.includes('protein') || lowerQuestion.includes('macro')) {\n        return 'Your macronutrient distribution looks balanced. Protein intake supports muscle maintenance during weight loss. Consider timing protein intake around workouts for optimal results.';\n      }\n    }\n    if (context !== null && context !== void 0 && context.includes('sleep')) {\n      if (lowerQuestion.includes('sleep') || lowerQuestion.includes('rest')) {\n        return 'You got 7.2 hours of sleep last night with 62% quality score. This meets the 7-9 hour recommendation for adults. The sleep quality could be improved - consider consistent bedtime routines.';\n      }\n      if (lowerQuestion.includes('quality') || lowerQuestion.includes('deep')) {\n        return 'Sleep quality at 62% suggests room for improvement. Deep sleep phases are crucial for recovery. Try reducing screen time before bed and maintaining a cool, dark environment.';\n      }\n    }\n\n    // General health responses\n    if (lowerQuestion.includes('improve') || lowerQuestion.includes('better')) {\n      return 'Based on your current metrics, focus areas for improvement include: 1) Increasing daily steps by 1,000-2,000, 2) Improving sleep quality through better sleep hygiene, 3) Maintaining consistent meal timing for better metabolism.';\n    }\n    if (lowerQuestion.includes('trend') || lowerQuestion.includes('progress')) {\n      return 'Your overall health trends are positive! Weight is steadily decreasing, activity levels are consistent, and sleep duration is adequate. Keep focusing on sustainable habits rather than dramatic changes.';\n    }\n    if (lowerQuestion.includes('recommendation') || lowerQuestion.includes('advice')) {\n      return 'My top recommendations: 1) Aim for 8,000+ steps daily, 2) Focus on sleep quality (7-8 hours), 3) Maintain protein intake at 1.6-2.2g/kg body weight, 4) Stay hydrated (2-3L daily). Small, consistent changes yield the best results.';\n    }\n\n    // Default response\n    return 'I\\'d be happy to help explain your health data! You can ask me about your weight trends, activity levels, nutrition intake, sleep quality, or any specific metrics you see on your dashboard. What interests you most?';\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n  const formatTime = date => {\n    return date.toLocaleTimeString([], {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  if (!isOpen) {\n    return null; // Don't show toggle button when closed\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-widget\",\n    style: {\n      position: 'fixed',\n      left: '0',\n      top: '0',\n      width: '400px',\n      height: '100vh',\n      backgroundColor: 'white',\n      borderRight: '1px solid #e5e7eb',\n      display: 'flex',\n      flexDirection: 'column',\n      zIndex: 1000,\n      fontFamily: 'system-ui, -apple-system, sans-serif',\n      animation: 'slideInFromLeft 0.3s ease-out',\n      boxShadow: '4px 0 12px rgba(0, 0, 0, 0.1)'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '16px 20px',\n        borderBottom: '1px solid #f3f4f6',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        backgroundColor: '#f8fafc',\n        borderRadius: '16px 16px 0 0'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: '12px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/assets/whatishealthyspinner.gif\",\n          alt: \"WiHy Assistant\",\n          style: {\n            width: '40px',\n            height: '40px',\n            borderRadius: '50%',\n            border: '2px solid #e5e7eb'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: '600',\n              fontSize: '14px',\n              color: '#1f2937'\n            },\n            children: \"WiHy Health Assistant\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '12px',\n              color: '#6b7280'\n            },\n            children: currentContext ? `Analyzing: ${currentContext}` : 'Online â€¢ Ready to help'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClose,\n        style: {\n          background: 'none',\n          border: 'none',\n          cursor: 'pointer',\n          padding: '4px',\n          borderRadius: '4px',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          width: \"20\",\n          height: \"20\",\n          viewBox: \"0 0 24 24\",\n          fill: \"#6b7280\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 1,\n        overflow: 'auto',\n        padding: '16px',\n        display: 'flex',\n        flexDirection: 'column',\n        gap: '12px'\n      },\n      children: [messages.map(message => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: message.type === 'user' ? 'row-reverse' : 'row',\n          gap: '8px',\n          alignItems: 'flex-start'\n        },\n        children: [message.type === 'user' ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '28px',\n            height: '28px',\n            borderRadius: '50%',\n            backgroundColor: '#10b981',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            color: 'white',\n            fontSize: '12px',\n            fontWeight: 'bold',\n            flexShrink: 0\n          },\n          children: \"U\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/assets/whatishealthyspinner.gif\",\n          alt: \"WiHy\",\n          style: {\n            width: '28px',\n            height: '28px',\n            borderRadius: '50%',\n            border: '1px solid #e5e7eb',\n            flexShrink: 0\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            maxWidth: '75%',\n            display: 'flex',\n            flexDirection: 'column',\n            gap: '4px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              backgroundColor: message.type === 'user' ? '#10b981' : '#f3f4f6',\n              color: message.type === 'user' ? 'white' : '#1f2937',\n              padding: '12px 16px',\n              borderRadius: message.type === 'user' ? '18px 18px 4px 18px' : '18px 18px 18px 4px',\n              fontSize: '14px',\n              lineHeight: '1.4'\n            },\n            children: message.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '11px',\n              color: '#9ca3af',\n              textAlign: message.type === 'user' ? 'right' : 'left',\n              paddingLeft: message.type === 'user' ? '0' : '16px',\n              paddingRight: message.type === 'user' ? '16px' : '0'\n            },\n            children: [formatTime(message.timestamp), message.context && /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                marginLeft: '8px',\n                fontStyle: 'italic'\n              },\n              children: [\"\\u2022 viewing \", message.context]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 13\n        }, this)]\n      }, message.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 11\n      }, this)), isTyping && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: '8px',\n          alignItems: 'flex-start'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '28px',\n            height: '28px',\n            borderRadius: '50%',\n            backgroundColor: '#1a73e8',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            color: 'white',\n            fontSize: '12px',\n            fontWeight: 'bold'\n          },\n          children: \"WH\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: '#f3f4f6',\n            padding: '12px 16px',\n            borderRadius: '18px 18px 18px 4px',\n            display: 'flex',\n            gap: '4px',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '6px',\n              height: '6px',\n              borderRadius: '50%',\n              backgroundColor: '#9ca3af',\n              animation: 'typing 1.5s ease-in-out infinite'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '6px',\n              height: '6px',\n              borderRadius: '50%',\n              backgroundColor: '#9ca3af',\n              animation: 'typing 1.5s ease-in-out infinite 0.2s'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '6px',\n              height: '6px',\n              borderRadius: '50%',\n              backgroundColor: '#9ca3af',\n              animation: 'typing 1.5s ease-in-out infinite 0.4s'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '16px',\n        borderTop: '1px solid #f3f4f6',\n        backgroundColor: '#fafbfc'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: '8px',\n          alignItems: 'flex-end'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: inputMessage,\n          onChange: e => setInputMessage(e.target.value),\n          onKeyPress: handleKeyPress,\n          placeholder: \"Ask about your health data...\",\n          style: {\n            flex: 1,\n            border: '1px solid #d1d5db',\n            borderRadius: '12px',\n            padding: '12px 16px',\n            fontSize: '14px',\n            resize: 'none',\n            minHeight: '20px',\n            maxHeight: '80px',\n            fontFamily: 'inherit',\n            outline: 'none'\n          },\n          rows: 1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSendMessage,\n          disabled: !inputMessage.trim() || isTyping,\n          style: {\n            backgroundColor: inputMessage.trim() ? '#1a73e8' : '#d1d5db',\n            color: 'white',\n            border: 'none',\n            borderRadius: '12px',\n            padding: '12px',\n            cursor: inputMessage.trim() ? 'pointer' : 'not-allowed',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            transition: 'background-color 0.2s ease'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"16\",\n            height: \"16\",\n            viewBox: \"0 0 24 24\",\n            fill: \"currentColor\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        @keyframes typing {\n          0%, 60%, 100% {\n            transform: translateY(0);\n            opacity: 0.4;\n          }\n          30% {\n            transform: translateY(-10px);\n            opacity: 1;\n          }\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 164,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatWidget, \"NAiguTXAwXNRu99DvNvb+a1Pe4U=\");\n_c = ChatWidget;\nexport default ChatWidget;\nvar _c;\n$RefreshReg$(_c, \"ChatWidget\");","map":{"version":3,"names":["React","useState","useRef","useEffect","jsxDEV","_jsxDEV","ChatWidget","isOpen","onToggle","onClose","currentContext","_s","messages","setMessages","id","type","message","timestamp","Date","inputMessage","setInputMessage","isTyping","setIsTyping","messagesEndRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","contextualMessage","now","toString","context","prev","lastMessage","length","handleSendMessage","trim","userMessage","setTimeout","response","generateContextualResponse","assistantMessage","question","lowerQuestion","toLowerCase","includes","handleKeyPress","e","key","shiftKey","preventDefault","formatTime","date","toLocaleTimeString","hour","minute","className","style","position","left","top","width","height","backgroundColor","borderRight","display","flexDirection","zIndex","fontFamily","animation","boxShadow","children","padding","borderBottom","alignItems","justifyContent","borderRadius","gap","src","alt","border","fileName","_jsxFileName","lineNumber","columnNumber","fontWeight","fontSize","color","onClick","background","cursor","viewBox","fill","d","flex","overflow","map","flexShrink","maxWidth","lineHeight","textAlign","paddingLeft","paddingRight","marginLeft","fontStyle","ref","borderTop","value","onChange","target","onKeyPress","placeholder","resize","minHeight","maxHeight","outline","rows","disabled","transition","_c","$RefreshReg$"],"sources":["C:/repo/wihy_ui/user/src/components/ChatWidget.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\n\r\ninterface ChatMessage {\r\n  id: string;\r\n  type: 'user' | 'assistant';\r\n  message: string;\r\n  timestamp: Date;\r\n  context?: string; // What the user was viewing when they asked\r\n}\r\n\r\ninterface ChatWidgetProps {\r\n  isOpen: boolean;\r\n  onToggle: () => void;\r\n  onClose: () => void;\r\n  currentContext?: string; // Current dashboard section being viewed\r\n}\r\n\r\nconst ChatWidget: React.FC<ChatWidgetProps> = ({ isOpen, onToggle, onClose, currentContext }) => {\r\n  const [messages, setMessages] = useState<ChatMessage[]>([\r\n    {\r\n      id: '1',\r\n      type: 'assistant',\r\n      message: 'Hi! I\\'m your health assistant. I can help explain your dashboard data and answer questions about your health metrics. What would you like to know?',\r\n      timestamp: new Date()\r\n    }\r\n  ]);\r\n  const [inputMessage, setInputMessage] = useState('');\r\n  const [isTyping, setIsTyping] = useState(false);\r\n  const messagesEndRef = useRef<HTMLDivElement>(null);\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  // Add contextual message when context changes\r\n  useEffect(() => {\r\n    if (currentContext && isOpen) {\r\n      const contextualMessage: ChatMessage = {\r\n        id: Date.now().toString(),\r\n        type: 'assistant',\r\n        message: `I see you're looking at your ${currentContext}. I can help explain these metrics, identify trends, or answer any questions about this data. What would you like to know?`,\r\n        timestamp: new Date(),\r\n        context: currentContext\r\n      };\r\n      \r\n      // Only add if it's not the same as the last message\r\n      setMessages(prev => {\r\n        const lastMessage = prev[prev.length - 1];\r\n        if (lastMessage?.context === currentContext) {\r\n          return prev; // Don't duplicate context messages\r\n        }\r\n        return [...prev, contextualMessage];\r\n      });\r\n    }\r\n  }, [currentContext, isOpen]);\r\n\r\n  const handleSendMessage = async () => {\r\n    if (!inputMessage.trim()) return;\r\n\r\n    const userMessage: ChatMessage = {\r\n      id: Date.now().toString(),\r\n      type: 'user',\r\n      message: inputMessage.trim(),\r\n      timestamp: new Date(),\r\n      context: currentContext\r\n    };\r\n\r\n    setMessages(prev => [...prev, userMessage]);\r\n    setInputMessage('');\r\n    setIsTyping(true);\r\n\r\n    // Simulate AI response (replace with actual AI integration)\r\n    setTimeout(() => {\r\n      const response = generateContextualResponse(inputMessage, currentContext);\r\n      const assistantMessage: ChatMessage = {\r\n        id: (Date.now() + 1).toString(),\r\n        type: 'assistant',\r\n        message: response,\r\n        timestamp: new Date()\r\n      };\r\n\r\n      setMessages(prev => [...prev, assistantMessage]);\r\n      setIsTyping(false);\r\n    }, 1500);\r\n  };\r\n\r\n  const generateContextualResponse = (question: string, context?: string): string => {\r\n    const lowerQuestion = question.toLowerCase();\r\n    \r\n    // Context-aware responses based on current dashboard section\r\n    if (context?.includes('weight')) {\r\n      if (lowerQuestion.includes('bmi') || lowerQuestion.includes('weight')) {\r\n        return 'Your current BMI is 22.4, which falls in the healthy range (18.5-24.9). Your weight trend shows you\\'re 3.5kg from your goal of 65kg. The gradual progress indicates a sustainable approach to weight management.';\r\n      }\r\n      if (lowerQuestion.includes('goal') || lowerQuestion.includes('target')) {\r\n        return 'Your weight goal of 65kg represents a 3.5kg reduction from your current weight of 68.5kg. Based on your current trend, you\\'re making steady progress. A healthy weight loss rate is 0.5-1kg per week.';\r\n      }\r\n    }\r\n\r\n    if (context?.includes('activity')) {\r\n      if (lowerQuestion.includes('steps') || lowerQuestion.includes('walking')) {\r\n        return 'You\\'ve taken 8,742 steps today, which is 87% of your 10,000 step goal. Your activity level is good! The WHO recommends at least 150 minutes of moderate activity per week.';\r\n      }\r\n      if (lowerQuestion.includes('calories') || lowerQuestion.includes('burn')) {\r\n        return 'You\\'ve burned 2,100 calories today through various activities. Your active minutes (45/60 min goal) show consistent movement throughout the day, which is excellent for metabolic health.';\r\n      }\r\n    }\r\n\r\n    if (context?.includes('nutrition')) {\r\n      if (lowerQuestion.includes('calories') || lowerQuestion.includes('food')) {\r\n        return 'Your calorie intake today is 1,850 kcal. Based on your activity level and goals, this appears well-balanced. Your macro breakdown shows good protein intake for muscle maintenance.';\r\n      }\r\n      if (lowerQuestion.includes('protein') || lowerQuestion.includes('macro')) {\r\n        return 'Your macronutrient distribution looks balanced. Protein intake supports muscle maintenance during weight loss. Consider timing protein intake around workouts for optimal results.';\r\n      }\r\n    }\r\n\r\n    if (context?.includes('sleep')) {\r\n      if (lowerQuestion.includes('sleep') || lowerQuestion.includes('rest')) {\r\n        return 'You got 7.2 hours of sleep last night with 62% quality score. This meets the 7-9 hour recommendation for adults. The sleep quality could be improved - consider consistent bedtime routines.';\r\n      }\r\n      if (lowerQuestion.includes('quality') || lowerQuestion.includes('deep')) {\r\n        return 'Sleep quality at 62% suggests room for improvement. Deep sleep phases are crucial for recovery. Try reducing screen time before bed and maintaining a cool, dark environment.';\r\n      }\r\n    }\r\n\r\n    // General health responses\r\n    if (lowerQuestion.includes('improve') || lowerQuestion.includes('better')) {\r\n      return 'Based on your current metrics, focus areas for improvement include: 1) Increasing daily steps by 1,000-2,000, 2) Improving sleep quality through better sleep hygiene, 3) Maintaining consistent meal timing for better metabolism.';\r\n    }\r\n\r\n    if (lowerQuestion.includes('trend') || lowerQuestion.includes('progress')) {\r\n      return 'Your overall health trends are positive! Weight is steadily decreasing, activity levels are consistent, and sleep duration is adequate. Keep focusing on sustainable habits rather than dramatic changes.';\r\n    }\r\n\r\n    if (lowerQuestion.includes('recommendation') || lowerQuestion.includes('advice')) {\r\n      return 'My top recommendations: 1) Aim for 8,000+ steps daily, 2) Focus on sleep quality (7-8 hours), 3) Maintain protein intake at 1.6-2.2g/kg body weight, 4) Stay hydrated (2-3L daily). Small, consistent changes yield the best results.';\r\n    }\r\n\r\n    // Default response\r\n    return 'I\\'d be happy to help explain your health data! You can ask me about your weight trends, activity levels, nutrition intake, sleep quality, or any specific metrics you see on your dashboard. What interests you most?';\r\n  };\r\n\r\n  const handleKeyPress = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSendMessage();\r\n    }\r\n  };\r\n\r\n  const formatTime = (date: Date) => {\r\n    return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n  };\r\n\r\n  if (!isOpen) {\r\n    return null; // Don't show toggle button when closed\r\n  }\r\n\r\n  return (\r\n    <div \r\n      className=\"chat-widget\"\r\n      style={{\r\n        position: 'fixed',\r\n        left: '0',\r\n        top: '0',\r\n        width: '400px',\r\n        height: '100vh',\r\n        backgroundColor: 'white',\r\n        borderRight: '1px solid #e5e7eb',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        zIndex: 1000,\r\n        fontFamily: 'system-ui, -apple-system, sans-serif',\r\n        animation: 'slideInFromLeft 0.3s ease-out',\r\n        boxShadow: '4px 0 12px rgba(0, 0, 0, 0.1)'\r\n      }}\r\n    >\r\n      {/* Header */}\r\n      <div style={{\r\n        padding: '16px 20px',\r\n        borderBottom: '1px solid #f3f4f6',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'space-between',\r\n        backgroundColor: '#f8fafc',\r\n        borderRadius: '16px 16px 0 0'\r\n      }}>\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\r\n          <img \r\n            src=\"/assets/whatishealthyspinner.gif\" \r\n            alt=\"WiHy Assistant\"\r\n            style={{\r\n              width: '40px',\r\n              height: '40px',\r\n              borderRadius: '50%',\r\n              border: '2px solid #e5e7eb'\r\n            }}\r\n          />\r\n          <div>\r\n            <div style={{ fontWeight: '600', fontSize: '14px', color: '#1f2937' }}>\r\n              WiHy Health Assistant\r\n            </div>\r\n            <div style={{ fontSize: '12px', color: '#6b7280' }}>\r\n              {currentContext ? `Analyzing: ${currentContext}` : 'Online â€¢ Ready to help'}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <button\r\n          onClick={onClose}\r\n          style={{\r\n            background: 'none',\r\n            border: 'none',\r\n            cursor: 'pointer',\r\n            padding: '4px',\r\n            borderRadius: '4px',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center'\r\n          }}\r\n        >\r\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"#6b7280\">\r\n            <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/>\r\n          </svg>\r\n        </button>\r\n      </div>\r\n\r\n      {/* Messages */}\r\n      <div style={{\r\n        flex: 1,\r\n        overflow: 'auto',\r\n        padding: '16px',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        gap: '12px'\r\n      }}>\r\n        {messages.map((message) => (\r\n          <div\r\n            key={message.id}\r\n            style={{\r\n              display: 'flex',\r\n              flexDirection: message.type === 'user' ? 'row-reverse' : 'row',\r\n              gap: '8px',\r\n              alignItems: 'flex-start'\r\n            }}\r\n          >\r\n            {message.type === 'user' ? (\r\n              <div style={{\r\n                width: '28px',\r\n                height: '28px',\r\n                borderRadius: '50%',\r\n                backgroundColor: '#10b981',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                color: 'white',\r\n                fontSize: '12px',\r\n                fontWeight: 'bold',\r\n                flexShrink: 0\r\n              }}>\r\n                U\r\n              </div>\r\n            ) : (\r\n              <img \r\n                src=\"/assets/whatishealthyspinner.gif\" \r\n                alt=\"WiHy\"\r\n                style={{\r\n                  width: '28px',\r\n                  height: '28px',\r\n                  borderRadius: '50%',\r\n                  border: '1px solid #e5e7eb',\r\n                  flexShrink: 0\r\n                }}\r\n              />\r\n            )}\r\n            <div style={{\r\n              maxWidth: '75%',\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              gap: '4px'\r\n            }}>\r\n              <div style={{\r\n                backgroundColor: message.type === 'user' ? '#10b981' : '#f3f4f6',\r\n                color: message.type === 'user' ? 'white' : '#1f2937',\r\n                padding: '12px 16px',\r\n                borderRadius: message.type === 'user' ? '18px 18px 4px 18px' : '18px 18px 18px 4px',\r\n                fontSize: '14px',\r\n                lineHeight: '1.4'\r\n              }}>\r\n                {message.message}\r\n              </div>\r\n              <div style={{\r\n                fontSize: '11px',\r\n                color: '#9ca3af',\r\n                textAlign: message.type === 'user' ? 'right' : 'left',\r\n                paddingLeft: message.type === 'user' ? '0' : '16px',\r\n                paddingRight: message.type === 'user' ? '16px' : '0'\r\n              }}>\r\n                {formatTime(message.timestamp)}\r\n                {message.context && (\r\n                  <span style={{ marginLeft: '8px', fontStyle: 'italic' }}>\r\n                    â€¢ viewing {message.context}\r\n                  </span>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n        \r\n        {isTyping && (\r\n          <div style={{\r\n            display: 'flex',\r\n            gap: '8px',\r\n            alignItems: 'flex-start'\r\n          }}>\r\n            <div style={{\r\n              width: '28px',\r\n              height: '28px',\r\n              borderRadius: '50%',\r\n              backgroundColor: '#1a73e8',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              color: 'white',\r\n              fontSize: '12px',\r\n              fontWeight: 'bold'\r\n            }}>\r\n              WH\r\n            </div>\r\n            <div style={{\r\n              backgroundColor: '#f3f4f6',\r\n              padding: '12px 16px',\r\n              borderRadius: '18px 18px 18px 4px',\r\n              display: 'flex',\r\n              gap: '4px',\r\n              alignItems: 'center'\r\n            }}>\r\n              <div style={{\r\n                width: '6px',\r\n                height: '6px',\r\n                borderRadius: '50%',\r\n                backgroundColor: '#9ca3af',\r\n                animation: 'typing 1.5s ease-in-out infinite'\r\n              }} />\r\n              <div style={{\r\n                width: '6px',\r\n                height: '6px',\r\n                borderRadius: '50%',\r\n                backgroundColor: '#9ca3af',\r\n                animation: 'typing 1.5s ease-in-out infinite 0.2s'\r\n              }} />\r\n              <div style={{\r\n                width: '6px',\r\n                height: '6px',\r\n                borderRadius: '50%',\r\n                backgroundColor: '#9ca3af',\r\n                animation: 'typing 1.5s ease-in-out infinite 0.4s'\r\n              }} />\r\n            </div>\r\n          </div>\r\n        )}\r\n        \r\n        <div ref={messagesEndRef} />\r\n      </div>\r\n\r\n      {/* Input */}\r\n      <div style={{\r\n        padding: '16px',\r\n        borderTop: '1px solid #f3f4f6',\r\n        backgroundColor: '#fafbfc'\r\n      }}>\r\n        <div style={{\r\n          display: 'flex',\r\n          gap: '8px',\r\n          alignItems: 'flex-end'\r\n        }}>\r\n          <textarea\r\n            value={inputMessage}\r\n            onChange={(e) => setInputMessage(e.target.value)}\r\n            onKeyPress={handleKeyPress}\r\n            placeholder=\"Ask about your health data...\"\r\n            style={{\r\n              flex: 1,\r\n              border: '1px solid #d1d5db',\r\n              borderRadius: '12px',\r\n              padding: '12px 16px',\r\n              fontSize: '14px',\r\n              resize: 'none',\r\n              minHeight: '20px',\r\n              maxHeight: '80px',\r\n              fontFamily: 'inherit',\r\n              outline: 'none'\r\n            }}\r\n            rows={1}\r\n          />\r\n          <button\r\n            onClick={handleSendMessage}\r\n            disabled={!inputMessage.trim() || isTyping}\r\n            style={{\r\n              backgroundColor: inputMessage.trim() ? '#1a73e8' : '#d1d5db',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: '12px',\r\n              padding: '12px',\r\n              cursor: inputMessage.trim() ? 'pointer' : 'not-allowed',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              transition: 'background-color 0.2s ease'\r\n            }}\r\n          >\r\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n              <path d=\"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z\"/>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      <style>{`\r\n        @keyframes typing {\r\n          0%, 60%, 100% {\r\n            transform: translateY(0);\r\n            opacity: 0.4;\r\n          }\r\n          30% {\r\n            transform: translateY(-10px);\r\n            opacity: 1;\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatWidget;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}